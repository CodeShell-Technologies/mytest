import{w as B}from"./with-props-DF0D9zIo.js";import{u as I,r,c as $,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as j}from"./Almino structural consultancy_Final-CGShv3XU.js";import{a as G}from"./almino seal-NgTqrA6Q.js";import{a as b,B as N}from"./api-C04JdqFc.js";import{u as H}from"./AuthStore-BnYeBJES.js";import{L as O}from"./log-out-DAuSHV9-.js";import"./react-_sXfQCJm.js";import"./createLucideIcon-RccWoOaL.js";const U=()=>{const y=I(),v=r.useRef(),{id:l,resign_id:o}=$(),d=H(t=>t.accessToken),w=decodeURIComponent(o),[s,E]=r.useState(null),[i,C]=r.useState(null),[L,S]=r.useState(!0),[m,h]=r.useState(null),T=async()=>{try{const t=await b.post(`${N}/users/profile`,{staff_id:decodeURIComponent(l)},{headers:{Authorization:`Bearer ${d}`}});if(t.data&&t.data.data)E(t.data.data);else throw new Error("No employee data found")}catch(t){console.error("Error fetching employee data:",t),h(t.message)}},M=async()=>{try{const t=await b.get(`${N}/user_resign_form/read?resign_id=${w}`,{headers:{Authorization:`Bearer ${d}`}});if(t.data&&t.data.data)C(t.data.data);else throw new Error("No termination data found")}catch(t){console.error("Error fetching termination data:",t),h(t.message)}finally{S(!1)}};r.useEffect(()=>{T(),M()},[l,o]);const A=()=>{const t=document.getElementById("print").innerHTML,n=document.body.innerHTML,c=`
      <style>
        @media print {
          @page {
            margin-bottom: 0;
          }
          body { 
            margin: 1cm;
          }
          header, footer, .no-print { 
            display: none !important; 
          }
          a[href]:after {
            content: none !important;
          }
          #print {
            position: relative;
            width: 100%;
            height: 100%;
          }
        }
      </style>
    `;document.body.innerHTML=c+t,window.print(),window.onafterprint=()=>{document.body.innerHTML=n,window.location.reload()}},k=()=>{y(-1)},D=()=>{var u,p;if(!s&&!i)return"3 years";const t=i!=null&&i.dateofjoining?new Date(i.dateofjoining):(u=s==null?void 0:s.basic)!=null&&u.dateofjoining?new Date(s.basic.dateofjoining):new Date("2022-01-01"),n=i!=null&&i.reliving_date?new Date(i.reliving_date):(p=s==null?void 0:s.basic)!=null&&p.relivingdate?new Date(s.basic.relivingdate):new Date,c=Math.abs(n-t),x=Math.floor(c/(1e3*60*60*24*365));return`${x} year${x!==1?"s":""}`},f=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-"):"01-01-2022",R=()=>{var t,n;return i!=null&&i.staff_name?i.staff_name:(t=s==null?void 0:s.basic)!=null&&t.firstname&&((n=s==null?void 0:s.basic)!=null&&n.lastname)?`${s.basic.firstname} ${s.basic.lastname}`:"Employee"},g=()=>{var t;return i!=null&&i.designation?i.designation:(t=s==null?void 0:s.basic)!=null&&t.designation?s.basic.designation:"Employee"},a=()=>{var t;return(t=s==null?void 0:s.basic)!=null&&t.gender?s.basic.gender:"Female"},_=()=>{var t;return i!=null&&i.dateofjoining?i.dateofjoining:(t=s==null?void 0:s.basic)!=null&&t.dateofjoining?s.basic.dateofjoining:"2022-01-01"},P=()=>{var t;return i!=null&&i.reliving_date?i.reliving_date:(t=s==null?void 0:s.basic)!=null&&t.relivingdate?s.basic.relivingdate:new Date().toISOString()};return L?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-600"})}):m?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-red-600 text-lg",children:m})}):!s&&!i?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-gray-800 text-lg",children:"No employee data available"})}):e.jsxs("div",{className:"p-6 print:p-0",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:A,className:"mb-4 px-4 py-2 bg-red-700 text-white rounded shadow print:hidden",children:"Print Experience Certificate"}),e.jsxs("button",{className:"text-gray-500 bg-gray-200 px-4 py-2 rounded-lg mt-3",onClick:k,children:[e.jsx(O,{className:"inline rotate-180 text-gray-500 mr-3"}),"Go Back"]})]}),e.jsxs("div",{ref:v,className:"relative bg-white text-black p-10 w-[794px] mx-auto text-[14px] font-serif",id:"print",children:[e.jsx("img",{src:j,alt:"Watermark",className:"absolute opacity-10 z-0 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-400 pb-4",children:[e.jsx("img",{src:j,alt:"Almino Logo",className:"h-20"}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("p",{className:"font-bold text-lg",children:"ALMINO STRUCTURAL CONSULTANCY PVT LTD"}),e.jsx("p",{className:"text-red-500 font-semibold",children:"GST NO : 33AASCA3262R1Z2"})]})]}),e.jsxs("div",{className:"text-right mb-4",children:[e.jsxs("p",{children:["Ref. No: ",o||"25/E26"]}),e.jsxs("p",{children:["Date:"," ",new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")]})]}),e.jsx("div",{className:"text-center mb-4",children:e.jsx("h2",{className:"text-xl font-bold underline",children:"EXPERIENCE CERTIFICATE"})}),e.jsx("p",{className:"text-center font-semibold mb-6",children:"To Whom It May Concern,"}),e.jsxs("p",{className:"mt-2 text-justify",children:["This is to certify that ",e.jsxs("strong",{children:["Ms. ",R()]})," has been employed with Almino Structural Consultancy Pvt Ltd from"," ",e.jsx("strong",{children:f(_())})," to"," ",e.jsx("strong",{children:f(P())})," as a"," ",e.jsx("strong",{children:g()}),". During their tenure with the company, ",a()==="Male"?"he":"she"," has demonstrated excellent skills in their role."]}),e.jsxs("p",{className:"mt-4 text-justify",children:["As a ",g(),", ",a()==="Male"?"he":"she"," was responsible for the following key duties:"]}),e.jsxs("ul",{className:"list-disc list-inside ml-4 mt-2",children:[e.jsx("li",{children:"Performing duties as assigned by the management"}),e.jsx("li",{children:"Collaborating with team members to achieve company objectives"}),e.jsx("li",{children:"Maintaining high standards of professionalism and work ethics"}),e.jsx("li",{children:"Ensuring quality in all assigned tasks"}),e.jsx("li",{children:"Adhering to company policies and procedures"})]}),e.jsxs("p",{className:"mt-4 text-justify",children:[a()==="Male"?"He":"She"," has exhibited professionalism, dedication, and strong problem-solving abilities in fulfilling their responsibilities."," ",a()==="Male"?"He":"She"," has contributed significantly to the company's success during"," ",D()," of service with us."]}),e.jsxs("p",{className:"mt-4 text-justify",children:["We wish ",a()==="Male"?"him":"her"," all the best in"," ",a()==="Male"?"his":"her"," future endeavors."]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("p",{className:"font-semibold",children:"Managing Director"}),e.jsx("p",{children:"Almino Structural Consultancy Pvt Ltd"})]}),e.jsx("div",{className:"mt-10 text-right",children:e.jsx("img",{src:G,alt:"Company Seal",className:"h-20 inline"})}),e.jsx("footer",{className:"text-sm mt-10 border-t border-gray-300 pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-red-600",children:["üìû +91 95977 46657",e.jsx("br",{}),"üìû +91 97865 81307"]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{children:"üìç Near King's Palace, Old Check Post,"}),e.jsx("p",{children:"Pattinamkathan, Ramanathapuram - 623503"}),e.jsx("p",{children:"üìß alminostructure@gmail.com"})]})]})})]})]})]})},Z=B(U);export{Z as default};
