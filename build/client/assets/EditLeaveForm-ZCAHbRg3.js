import{r as m,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as j,B as N,b as L}from"./api-C04JdqFc.js";import{O as w,V as C}from"./index-DxoBGdjx.js";import{B as E}from"./ButtonLoader-Z62NVHwI.js";import{u as b}from"./AuthStore-BnYeBJES.js";import{H as T}from"./hash-Cmnw3-GM.js";import{C as D}from"./calendar-C_LRGMui.js";import{C as S}from"./clipboard-list-C2ET-QCv.js";import{c as v}from"./createLucideIcon-RccWoOaL.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],_=v("calendar-days",z);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],$=v("languages",F);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M16 2v20",key:"rotuqe"}]],M=v("notebook",q),G=({onSuccess:t,onCancel:k})=>{const[u,r]=m.useState(!1),[g,y]=m.useState(null),x=b(n=>n.accessToken),p=b(n=>n.branchcode),[a,f]=m.useState({name:"",year:"",description:"",total_days:"",status:""}),l=n=>{const{name:s,value:i}=n.target;f(o=>({...o,[s]:i}))},c=async n=>{var i,o;n.preventDefault(),r(!0);const s={userDatas:[{branchcode:p,name:a.name,year:a.year,description:a.description,total_days:a.total_days,status:a.status}]};try{const d=await j.post(`${N}/master/leavetypes/create`,s,{headers:{Authorization:`Bearer ${x}`}});d.status===201?t():y(d.data.message||"Failed to create LeaveTypes")}catch(d){y(((o=(i=d.response)==null?void 0:i.data)==null?void 0:o.message)||"An error occurred"),C.error(`${g}, Error in create LeaveTypes`,L)}finally{r(!1)}};return e.jsxs("div",{className:"text-medium dark:bg-gray-800 dark:text-gray-200",children:[e.jsx(w,{}),g&&e.jsx("div",{className:"text-red-500 mb-4",children:g}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(T,{className:"inline mr-1",size:14})," Leave Type"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"name",value:a.name,onChange:l,placeholder:"Enter LeaveType",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14})," Year"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"year",value:a.year,onChange:l,placeholder:"Enter Year",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(M,{className:"inline mr-1",size:14})," Description"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"description",value:a.description,onChange:l,placeholder:"Enter Description",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Total Days"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"total_days",value:a.total_days,onChange:l,placeholder:" Enter Total Days",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(S,{className:"inline mr-1",size:14}),"Type Status"]}),e.jsxs("select",{className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"status",value:a.status,onChange:l,children:[e.jsx("option",{value:"",children:"Select Type Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"close",children:"Close"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-[var(--color-secondary)] hover:[var(--color-hover-secondary)] hover-effect text-gray-800 dark:text-gray-700 rounded hover:bg-gray-400 dark:hover:bg-gray-500 transition",disabled:u,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[var(--color-primary)] hover:bg-[var(--color-hover)]  text-white rounded hover:bg-gradient-to-b hover-effect transition",disabled:u,children:u?e.jsx(E,{}):"Create"})]})]})]})};function J({branch:t,onSuccess:k,onCancel:u}){const[r,g]=m.useState({name:"",year:"",description:"",total_days:"",status:""}),[y,x]=m.useState(!1),[p,a]=m.useState(null),f=b(s=>s.accessToken),l=b(s=>s.branchcode);m.useEffect(()=>{t&&(console.log("branchdata for leaveedit",t),g({name:t.name||"",year:t.year||"",description:t.description||"",total_days:t.total_days||"",status:t.status||""}))},[t]);const c=s=>{const{name:i,value:o}=s.target;g(d=>({...d,[i]:o}))},n=async s=>{var o,d;s.preventDefault(),x(!0);const i={userData:{branchcode:l,name:r.name,year:r.year,description:r.description,total_days:r.total_days,status:r.status}};try{const h=await j.put(`${N}/master/leavetypes/edit/${t.id}`,i,{headers:{Authorization:`Bearer ${f}`}});h.status===201?k():a(h.data.message||"Failed to update leave")}catch(h){a(((d=(o=h.response)==null?void 0:o.data)==null?void 0:d.message)||"An error occurred"),C.error(`${p}, Error in edit leave`,{style:{border:"1px solid  rgb(185 28 28)",padding:"14px",width:"900px",color:" rgb(185 28 28)"},iconTheme:{primary:" rgb(185 28 28)",secondary:"#FFFAEE"}}),a(null)}finally{x(!1)}};return e.jsxs("div",{className:"text-medium dark:bg-gray-800 dark:text-gray-200",children:[p&&e.jsx("div",{className:"text-red-500 mb-4",children:p}),e.jsx(w,{}),e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx($,{className:"inline mr-1",size:14})," Language Name"]}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter Leave Type"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14})," Year"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"year",value:r.year,onChange:c,placeholder:"Enter Year",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(M,{className:"inline mr-1",size:14})," Description"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"description",value:r.description,onChange:c,placeholder:"Enter Description",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Total Days"]}),e.jsx("input",{type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"total_days",value:r.total_days,onChange:c,placeholder:" Enter Total Days",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(S,{className:"inline mr-1",size:14}),"Type Status"]}),e.jsxs("select",{className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"status",value:r.status,onChange:c,children:[e.jsx("option",{value:"",children:"Select Type Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"close",children:"Close"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:u,className:"px-4 py-2 bg-[var(--color-secondary)] hover:bg-[var(--color-hover-secondary)] text-gray-800 dark:text-gray-700  hover-effect rounded  dark:hover:bg-gray-500 transition",disabled:y,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[var(--color-primary)] hover:bg-[var(--color-hover)] text-white rounded hover-effect transition",disabled:y,children:y?e.jsx(E,{}):"Update"})]})]})]})}export{G as C,J as E,$ as L};
