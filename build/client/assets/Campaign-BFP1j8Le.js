import{w as Ue}from"./with-props-DF0D9zIo.js";import{r as t,j as e,b as Ge}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{D as He}from"./DataTable-DtyPIAGZ.js";import{C as Qe}from"./CustomPagination-CBTcVvJz.js";import{S as Xe}from"./SearchInput-CMdOUuSO.js";import{M as A}from"./Modal-BCIUwH-b.js";import{D as O}from"./DrapDown-CEm3nLdF.js";import{F as Je,u as H,w as Ke}from"./xlsx-DTxMWUdD.js";import{t as X,a as I,B as V}from"./api-C04JdqFc.js";import{O as J,V as v}from"./index-DxoBGdjx.js";import{u as k}from"./AuthStore-BnYeBJES.js";import{u as K}from"./useBranchStore-kvv3vD_e.js";import"./useEmployeeStore-BJ_SZO4g.js";import{u as We}from"./use-click-outside-BhLpsQYS.js";import{B as le}from"./ButtonLoader-Z62NVHwI.js";import{c as W}from"./createLucideIcon-RccWoOaL.js";import{H as Q}from"./hash-Cmnw3-GM.js";import{T as ie}from"./tag-hjf6KM-t.js";import{C as P}from"./calendar-check-DuYbAMAv.js";import{B as ce}from"./book-open-text-CwD5ICOx.js";import{F as Ye}from"./flag-GJ94Fqe2.js";import{T as Ze,U as ea}from"./user-x-B8sHd6dn.js";import{E as aa}from"./eye-2Mk8PZw-.js";import{S as ta}from"./square-pen-hueQTsQ_.js";import{T as ra}from"./trash-2-AUNIB88j.js";import"./index-knF4tUPh.js";/* empty css            */import"./index-DDa5wjlm.js";import"./iconBase-CajCgYY2.js";import"./react-_sXfQCJm.js";/* empty css                         */import"./moment-C5S46NFB.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],me=W("medal",sa);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],ge=W("megaphone",na);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],pe=W("type",da),oa=({onCancel:s,onSuccess:b})=>{const[S,x]=t.useState(!1),[c,E]=t.useState(null),N=k(n=>n.permissions);console.log("permisssing accesss",N[0].role);const D=N[0].role,B=k(n=>n.accessToken),r=K(n=>n.branchCodeOptions),f=k(n=>n.branchcode),l=D==="superadmin"?r:[{value:f,label:f}],[m,d]=t.useState({branchcode:"",campaignname:"",campaigntype:"",startdate:"",enddate:"",status:"active",goallead:"",summary:""}),o=n=>{const{name:g,value:w}=n.target;d(C=>({...C,[g]:w}))},y=async n=>{var w,C;n.preventDefault(),x(!0);const g={data:[m]};console.log("formdataa",g);try{const u=await I.post(`${V}/campaign/overview/create`,g,{headers:{Authorization:`Bearer ${B}`}});u.status===201?b():E(u.data.message||"Failed to create Campaign")}catch(u){E(((C=(w=u.response)==null?void 0:w.data)==null?void 0:C.message)||"An error occurred"),v.error(`${c}, Error in create Camapign`,{style:{border:"1px solid rgb(185 28 28)",padding:"14px",width:"900px",color:"rgb(185 28 28)"},iconTheme:{primary:"rgb(185 28 28)",secondary:"#FFFAEE"}})}finally{x(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(J,{position:X}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ge,{className:"inline mr-2"})," Campaign Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Q,{className:"inline mr-1",size:14})," Branch Code"]}),e.jsxs("select",{name:"branchcode",value:m.branchcode,onChange:o,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Branch"}),l==null?void 0:l.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(pe,{className:"inline mr-1",size:14})," Campaign Name"]}),e.jsx("input",{name:"campaignname",value:m.campaignname,onChange:o,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter campaign name",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ie,{className:"inline mr-1",size:14})," Campaign Type"]}),e.jsxs("select",{className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"campaigntype",value:m.campaigntype,onChange:o,children:[e.jsx("option",{value:"",children:"Select campaign type"}),e.jsx("option",{value:"digital",children:"Digital Marketing"}),e.jsx("option",{value:"print",children:"Print Media"}),e.jsx("option",{value:"tv",children:"TV/Radio"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"social",children:"Social Media"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(me,{className:"inline mr-1",size:14})," Goal Lead"]}),e.jsx("input",{name:"goallead",value:m.goallead,onChange:o,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter campaign code",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," Start Date"]}),e.jsx("input",{name:"startdate",value:m.startdate,onChange:o,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," End Date"]}),e.jsx("input",{name:"enddate",value:m.enddate,onChange:o,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ce,{className:"inline mr-2"})," Description"]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:e.jsx("textarea",{name:"summary",value:m.summary,onChange:o,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"Enter campaign description, goals, and key messages..."})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:s,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:y,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",children:S?e.jsx(le,{}):" Create Campaign "})]})]})},la=({campaign:s,onSuccess:b,onCancel:S})=>{const[x,c]=t.useState(!1),[E,N]=t.useState(null),D=k(d=>d.accessToken);k(d=>d.permissions)[0].role,K(d=>d.branchCodeOptions),k(d=>d.branchcode);const[r,f]=t.useState({branchcode:"",campaign_code:"",campaignname:"",campaigntype:"",startdate:"",enddate:"",status:"active",goallead:"",summary:""});t.useEffect(()=>{s&&f({branchcode:s.branchcode||"",campaign_code:s.campaign_code||"",campaignname:s.campaignname||"",campaigntype:s.campaigntype||"",startdate:s.startdate||"",enddate:s.enddate||"",status:s.status||"active",goallead:s.goallead||"",summary:s.summary||""})},[s]);const l=d=>{const{name:o,value:y}=d.target;f(n=>({...n,[o]:y}))},m=async d=>{var y,n;d.preventDefault(),c(!0);const o={data:{branchcode:r.branchcode,campaign_code:r.campaign_code,campaignname:r.campaignname,campaigntype:r.campaigntype,startdate:r.startdate,enddate:r.enddate,goallead:r.goallead,status:r.status,summary:r.summary}};try{const g=await I.put(`${V}/campaign/overview/edit`,o,{headers:{Authorization:`Bearer ${D}`}});g.status===201?(b(),v.success("Campaign updated successfully")):N(g.data.message||"Failed to update Campaign")}catch(g){N(((n=(y=g.response)==null?void 0:y.data)==null?void 0:n.message)||"An error occurred"),v.error(`${E}, Error updating Campaign`,{style:{border:"1px solid rgb(185 28 28)",padding:"14px",width:"900px",color:"rgb(185 28 28)"},iconTheme:{primary:"rgb(185 28 28)",secondary:"#FFFAEE"}})}finally{c(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(J,{position:X}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ge,{className:"inline mr-2"})," Campaign Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Q,{className:"inline mr-1",size:14})," Branch Code"]}),e.jsx("input",{name:"branchcode",value:r.branchcode,readOnly:!0,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none cursor-not-allowed"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Q,{className:"inline mr-1",size:14})," Campaign Code"]}),e.jsx("input",{name:"campaign_code",value:r.campaign_code,readOnly:!0,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none cursor-not-allowed"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(pe,{className:"inline mr-1",size:14})," Campaign Name"]}),e.jsx("input",{name:"campaignname",value:r.campaignname,onChange:l,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter campaign name",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ie,{className:"inline mr-1",size:14})," Campaign Type"]}),e.jsxs("select",{className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"campaigntype",value:r.campaigntype,onChange:l,children:[e.jsx("option",{value:"",children:"Select campaign type"}),e.jsx("option",{value:"digital",children:"Digital Marketing"}),e.jsx("option",{value:"print",children:"Print Media"}),e.jsx("option",{value:"tv",children:"TV/Radio"}),e.jsx("option",{value:"event",children:"Event"}),e.jsx("option",{value:"social",children:"Social Media"}),e.jsx("option",{value:"interiors",children:"Interiors"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(me,{className:"inline mr-1",size:14})," Goal Lead"]}),e.jsx("input",{name:"goallead",value:r.goallead,onChange:l,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter goal leads"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Ye,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",name:"status",value:r.status,onChange:l,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"draft",children:"Draft"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," Start Date"]}),e.jsx("input",{name:"startdate",value:r.startdate,onChange:l,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," End Date"]}),e.jsx("input",{name:"enddate",value:r.enddate,onChange:l,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ce,{className:"inline mr-2"})," Description"]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:e.jsx("textarea",{name:"summary",value:r.summary,onChange:l,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"Enter campaign description, goals, and key messages..."})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:S,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:m,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",children:x?e.jsx(le,{}):"Update Campaign"})]})]})},ia=()=>{const s=We({query:"(max-width: 768px)"}),[b,S]=t.useState(""),[x,c]=t.useState(1),[E,N]=t.useState(""),[D,B]=t.useState([]),[r,f]=t.useState(""),[l,m]=t.useState([]),[d,o]=t.useState(!1),[y,n]=t.useState(0),[g,w]=t.useState(null),[C,u]=t.useState(!1),[ue,$]=t.useState(!1),[xe,ye]=t.useState(),[Y,z]=t.useState(!1),[Z,he]=t.useState(),[q,be]=t.useState(""),[R,fe]=t.useState(""),[U,je]=t.useState(""),[F,ve]=t.useState(8),[G,ke]=t.useState(!1),j=k(a=>a.accessToken),[ee,Ne]=t.useState({status:"active"}),{branches:ca,managerOptions:we,branchCodeOptions:Ce,fetchBranches:M,isLoading:ae}=K(),Se=[{value:"",label:"All Branches"},{value:"active",label:"Active Branches"},{value:"inactive",label:"Inactive Branches"}],Ee=[{value:20,label:"20 per page"},{value:40,label:"30 per page"},{value:50,label:"40 per page"},{value:80,label:"50 per page"},{value:100,label:"100 per page"},{value:200,label:"100 per page"}];t.useEffect(()=>{M(j)},[j]);const _=async(a=x,i=F,T=b,L=r,te=R,re=U,se=q)=>{var ne,de,oe;o(!0);try{let h=`${V}/campaign/overview/read?page=${a}&limit=${i}`;T&&(h+=`&search=${T}`),L&&(h+=`&status=${L}`),te&&(h+=`&manager_id=${te}`),re&&(h+=`&branchcode=${re}`),se&&(h+=`&dec=${se}`);const p=await I.get(h,{headers:{Authorization:`Bearer ${j}`}});console.log("campaigndataaa",p),B((ne=p==null?void 0:p.data)==null?void 0:ne.data),n(((de=p==null?void 0:p.data)==null?void 0:de.length)||0),m(((oe=p==null?void 0:p.data)==null?void 0:oe.data)||[])}catch(h){console.error("Error fetching branch list",h),w("Failed to fetch branches")}finally{o(!1)}};t.useEffect(()=>{_()},[x,b,r,R,U,q,F]);const De=a=>{const{name:i,value:T}=a.target;Ne(L=>({...L,[i]:T}))},ze=a=>{c(a)},Be=()=>{u(!1),v.success("Camapign added successfully!"),M(j),_()},$e=a=>{S(a),c(1)},Fe=a=>{ye(a),$(!0)},Me=a=>{z(!0),he(a)},_e=async()=>{const a={data:{branchcode:Z.branchcode,campaign_code:Z.campaign_code,status:ee.status}};console.log("delteddataforcvampaign",a);try{o(!0);const i=await I.delete(`${V}/campaign/overview/delete`,{data:a,headers:{Authorization:`Bearer ${j}`}});console.log("responsefordeelte",i),(i==null?void 0:i.status)===201&&(z(!1),v.success("Campaign deleted successfully!"),M(j),_())}catch(i){console.error("Error deleting branch",i),v.error("Failed to delete branch")}finally{o(!1)}},Te=()=>{be(a=>a==="desc"?"":"desc"),c(1)},Le=a=>{f(a),c(1)},Ae=a=>{fe(a),c(1)},Oe=a=>{je(a),c(1)},Ie=a=>{ve(a),c(1)},Ve=()=>[{data:"id"},{data:"Campaign Code"},{data:"Branch Code"},{data:"Campaign Name"},{data:"Camapign Type"},{data:"Started Date"},{data:"End Date"},{data:"Lead"},{data:"Goal Lead"},{data:"Conversion Rate"},{data:"Status"},{data:"Actions",className:"text-center"}],Pe=()=>l?l.map((a,i)=>({id:a.id,data:[{data:i+1},{data:a.campaign_code},{data:a.branchcode},{data:a.campaignname},{data:a.campaigntype},{data:a.startdate},{data:a.enddate},{data:a.lead},{data:a.goallead},{data:a.conversationrate},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${a.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${a.status==="active"?"bg-green-800":"bg-red-700"}`}),a.status.charAt(0).toUpperCase()+a.status.slice(1)]})},{data:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(Ge,{to:`/campaignview/${encodeURIComponent(a.campaign_code)}`,children:e.jsx("button",{className:"p-1 text-blue-700 rounded hover:text-gray-500 dark:hover:text-gray-300",title:"View",children:e.jsx(aa,{size:18})})}),e.jsx("button",{className:"p-1 text-[var(--color-primary)] rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>Fe(a),title:"Edit",children:e.jsx(ta,{size:18})}),e.jsx("button",{className:"p-1 text-red-600 rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>Me(a),title:"Delete",children:e.jsx(ra,{size:18})})]}),className:"action-cell"}]})):[],qe=()=>{$(!1),v.success("Branch updated successfully!"),M(j),_()},Re=()=>{const a=H.book_new(),i=H.json_to_sheet(D);H.book_append_sheet(a,i,"Branches"),Ke(a,"CampaignList.xlsx")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)] dark:text-[var(--color-primary)]",children:"Campaign Management"}),s&&e.jsx("button",{onClick:()=>ke(!G),className:"p-2 bg-gray-200 rounded-md",children:G?"Hide Filters":"Show Filters"})]}),e.jsx(J,{position:X,reverseOrder:!1}),e.jsx("div",{className:`flex ${s?"flex-col":"items-end justify-end"} gap-4 mb-5`,children:e.jsxs("div",{className:`flex ${s?"flex-col":"flex-row"} gap-4`,children:[e.jsx(O,{options:Ee,selectedValue:F,onSelect:Ie,placeholder:"Items per page",className:"w-full md:w-[150px]"}),e.jsxs("button",{onClick:Re,className:"flex items-center justify-center text-gray-400 bg-white focus:outline-non font-medium text-sm rounded-sm border border-dotted border-gray-400 hover:text-red-700/70 px-3 dark:bg-gray-800 dark:text-gray-300 py-2.5",children:[e.jsx(Je,{className:"mr-1"}),!s&&"Export Excel"]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",children:[!s&&"New Camapign"," +"]})]})}),e.jsx("div",{className:`${s&&!G?"hidden":"block"} mb-4`,children:e.jsxs("div",{className:`${s?"grid grid-cols-1 gap-3":"flex flex-wrap justify-between items-center gap-3"}`,children:[e.jsx(O,{options:Se,selectedValue:r,onSelect:Le,placeholder:"Select Campaign Status",className:"w-full md:w-[200px]"}),e.jsx(O,{options:Ce,selectedValue:U,onSelect:Oe,placeholder:"Select Branch Code",className:"w-full md:w-[200px]",isLoading:ae}),e.jsx(O,{options:we,selectedValue:R,onSelect:Ae,placeholder:"Manager",className:"w-full md:w-[200px]",isLoading:ae}),e.jsxs("button",{onClick:Te,className:`${s?"w-full":"w-[200px]"} h-[40px] text-white bg-[var(--color-primary)] hover-effect px-2 py-1 rounded-sm`,children:["Sort ",q==="desc"?"↑":"↓"]}),e.jsx("div",{className:`${s?"w-full":"w-[200px] mt-3"}`,children:e.jsx(Xe,{value:b,onChange:$e,placeholder:"Search branches...",className:"w-full"})})]})}),d&&e.jsx("div",{className:"text-center py-4",children:"Loading..."}),g&&e.jsx("div",{className:"text-red-500 text-center py-4",children:g}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(He,{thead:Ve,tbody:Pe,responsive:!0,className:"min-w-full"})})]}),e.jsx("div",{className:"bottom-0 border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(Qe,{total:y,currentPage:x,defaultPageSize:F,onChange:ze,paginationLabel:"branches",isScroll:!0})})]}),e.jsx(A,{isVisible:C,className:"w-full md:w-[800px]",onClose:()=>u(!1),title:"Create New Campaign",children:e.jsx(oa,{onSuccess:Be,onCancel:()=>u(!1)})}),e.jsx(A,{isVisible:ue,className:"w-full md:w-[800px]",onClose:()=>$(!1),title:"Edit Campaign",children:e.jsx(la,{campaign:xe,onSuccess:qe,onCancel:()=>$(!1)})}),e.jsx(A,{isVisible:Y,className:"w-full md:w-[600px]",onClose:()=>z(!1),title:"Delete Campaign",children:e.jsx(A,{isVisible:Y,className:"w-full md:w-[600px]",onClose:()=>z(!1),title:"Inactive Campaign",children:e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(Ze,{className:"inline mr-2"})," Inactive Campaign"]}),e.jsxs("p",{className:"text-gray-500 text-sm font-medium text-center",children:["Are you sure you want to inactivate this"," ","Campaign?"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ea,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:ee.status,onChange:De,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:()=>z(!1),disabled:d,children:"Cancel"}),e.jsx("button",{type:"button",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:_e,disabled:d,children:d?"Processing...":"Confirm"})]})]})})})]})},Ra=Ue(ia);export{Ra as default};
