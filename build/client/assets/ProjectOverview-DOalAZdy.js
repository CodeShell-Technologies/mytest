import{w as vt}from"./with-props-DF0D9zIo.js";import{r as t,j as e,b as qe,c as Nt}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{D as Qe}from"./DataTable-DtyPIAGZ.js";import{C as Ye}from"./CustomPagination-CBTcVvJz.js";import{S as Xe}from"./SearchInput-CMdOUuSO.js";import{M as $}from"./Modal-BCIUwH-b.js";import{a as G,B as q,t as We}from"./api-C04JdqFc.js";import{V as D,O as Ke}from"./index-DxoBGdjx.js";import{u as B}from"./AuthStore-BnYeBJES.js";import{u as rt,K as Ne,N as ke,s as kt}from"./useEmployeeStore-BJ_SZO4g.js";import{u as ce}from"./useBranchStore-kvv3vD_e.js";/* empty css                         */import{P as wt}from"./ProgressCard-WzjzqIeA.js";import{h as At,i as St,j as st}from"./index-DTbJanog.js";import{D as M}from"./DrapDown-CEm3nLdF.js";import{F as Ze,u as O,w as Je}from"./xlsx-DTxMWUdD.js";import{u as lt}from"./use-click-outside-BhLpsQYS.js";import{B as dt}from"./ButtonLoader-Z62NVHwI.js";import{u as nt,a as ot}from"./ProjectStore-Bmk5yusB.js";import{u as it}from"./LeadsStore-C-d0npQs.js";import{u as Ct}from"./UseStaffFilter-Bwbq-nCs.js";import{f as ye}from"./dateUtils-CBplQNBw.js";import{F as ct}from"./flag-GJ94Fqe2.js";import{C as be}from"./clipboard-list-C2ET-QCv.js";import{T as I}from"./tag-hjf6KM-t.js";import{C as je}from"./calendar-check-DuYbAMAv.js";import{B as _t}from"./building-38OCE1f9.js";import{U as ve}from"./user-DKFoNGWn.js";import{L as mt}from"./list-checks-Bum2w6xD.js";import{T as xt,E as Dt}from"./EditTaskForm-Cwdu_Gp4.js";import{H as Mt}from"./hash-Cmnw3-GM.js";import{B as Bt}from"./banknote-DmPEdTMl.js";import{P as Tt}from"./percent-PG9oKso6.js";import{N as ut}from"./network-4iL8t-Of.js";import{C as gt}from"./clipboard-type-fPi_05HQ.js";import{E as pt}from"./eye-2Mk8PZw-.js";import{S as ht}from"./square-pen-hueQTsQ_.js";import{T as ft}from"./trash-2-AUNIB88j.js";import{A as zt}from"./AddNewTask-Dl9c1PYs.js";import{C as yt}from"./AddSalary-DLBe5IEO.js";import{P as Pt}from"./ProjectMeetingForm-7pSkeH58.js";import{D as Ft}from"./dot-BRbGo9NO.js";import{M as Lt}from"./message-square-text-D3my64cM.js";import{C as Et}from"./calendar-check-2-BfAjpHZ6.js";import{C as Rt}from"./calendar-clock-hGpbKQUd.js";import"./index-knF4tUPh.js";/* empty css            */import"./index-DDa5wjlm.js";import"./iconBase-CajCgYY2.js";import"./react-_sXfQCJm.js";import"./moment-C5S46NFB.js";import"./createLucideIcon-RccWoOaL.js";import"./user-round-DtkRnRSi.js";import"./users-CXAhoVGa.js";import"./plus-HifIQSWH.js";import"./calendar-C_LRGMui.js";import"./indian-rupee-vxz3wvmf.js";import"./dollar-sign-D2IX7NrM.js";import"./file-text-BNGbNc3I.js";import"./video-BzePKQuD.js";import"./file-QxKA-9Fo.js";import"./clock-CzOQJT5p.js";import"./x-BfrbTbzo.js";import"./chevron-up-DjUqBI0v.js";import"./chevron-down-DOBgonSl.js";const fe="data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAGGwAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAABAA0ABoAAAAAMYXYxQ4EEDAAAAAAUaXNwZQAAAAAAAALkAAAC5AAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEAYIDBAAABiNtZGF0EgAKChkmbjuPggIaDQgyigwRQAEEEEFA9LrNyy9Il6LMWWcCoG7e3fR+Ni4S+KmSHgWobWA8OsnC3u3o61LIvkaxlreqbd2Ps5kMLUV8/8+APk09mJaYq6FDDNHnJHnv4s6hfMfBNeBTGdrk4uDU8C3d/0mKYpteaAhCH5bacXE5llb2oSCTUIRNFx++277Xl4bgaHU+Z9DjTE9rKAh783wRovToyhRDx8vnFClcQDAQkPQYEJ4U5nUXNHp/wiUV2xQ3t7fw2339dC9kwI3rJWPLTDGkb2MV/JGGV+GVhvrRsYF7YVYSfkQT6JevoB9/jQSV7l8boxofb6zKZqaQKJr0qf6YDM0GPX8QvD+qir3klaLwuZsB8zMRWrNihA5QfIjHTllOB5BTFSKJsQSuKl01Yq0AVElHKwdAn2jE18Rk9ejNCipux7WBTOMpedKbBO5URgY3ZOxAgN73jIdinoXpkxPTg7cUx57ebgNpEfWJOuQYvfkOV98NCE2BiJKOBrXkyPcvgvCjgT6ZOWbNqzlpaBqthVMLYCkKBBdk066aX/YutUej9rYoJcYnt5ojLZwI2p6ucCckWDNi+GhUOR/2LG7dgy4a5p6dqU56pF9GmxEKvRNXln5NU0jp4VEnXNFWibzQDqASWT13o1/lgnUnyzGdwDs5fno9zfftTEJVep11HyyvrtNPntkp0ZzQBS7okE77YztZvDbYlJS60KR2QhNRlLt0syffLR6/G7IdAR41TC9WQ3SUU/arMvk/eme+iSZWBtSaZaSyfX7GG5Z4rqWzOHAqHF9A7GU4nKwRe5eDUAu8rRG3SgTacUHIxKoL1YqziDLvn1GzhnikP40k8CraplEEP1Ohcvgk4cCFcNs+CIphTB3lxX3/dQ+HFsJtQ4zCykrYImLVhvH2gdeHA1hFErMY04rGZIwkSz+WomBwy6XRyN3BqwkrY1IPOvtYIaHM6BcX7iYvxkAQuPbIASwo7UKzMTmRA+wSIFuSgqjr9EECQsq7dmNixzrSjTk1Q86Dr0aovkNvfAG9MPv8kkXrz2dYBG67CvidH2ChsWteQsgrVc9kpRj4sSrQ0ZGFWu7iYEiRk2FGejsY3FerwHmDwm+JiE6zRaGP0xkZSo7KpejcuKXHrrRN1nwMFtGW4n26hDQV339PmANf29bQGI7j3yoK4qSkiy3xjfGVE/gpeKiytIZF2S1wna/6LV1XSJXfpkpwKPqPwYlSmjSvQPM7gIxGxrZaEwOFj2N3BJFZerq5fdvnAy+g5XPnX+h1oycq8PMB8d9fWNJP0SM/JfM/34e0KjGEZQaNpFgsEcHqpNfw1x6vPO4fuhcSgjiYrvoBYhMy99TQfrVtnKwsXwcE4ioKtK94A7+aASv/O4XQ1sTyU1vZ8sfB3exBqBRtytV1ZNYeUmWyKdUu/2CGNszx9VMxatjDXMFipw25X+FC736PbmL1lzfOKWVrii1AhpQCkj/zQy2sG3pnutOSQUguhPW3XaX8JY5+auZowGLceHGGUDQg6tBpSmXp4p/dqkjCjfu0xX3DukSgjkrrx0Q2NXwfxqzJ1TvKnq+hZJysz+Qhu4wj2mA6Z13BQzZMJedbBGf1msTKjJdxFi/o8o1DHMph1+Bk4dWw+GIcDY65lV+yG5U+dWkLjwKS6DpHZUJvvdDV51m/ZgTNTpa/0coYWpa5kPgGKBBRoPvBhxgtDAUvtXkZmUG93LhfUAIQDr8F7ZxH+MAWTHrn7LVTGaXWzNDHjjiBGkZwxLGjYYqV8lQtx0NJ8+G1Rg54LO27VkcroFC76eBLL90Jb9Ln1WkXYsKEelODXYQ0kHsV/qkWIgoifUPJPYr6+YF8jYmN0wDMI2nFDE/j7qT0nr7px5eeiYfDFg7iXuzdaUi36X/0hJNISzYs6LNoadn9kG6FASBdgxcSlqwJ9c2XJjF5GiCfU7GS0UZ6dDRhsefdke9lm4skSbMPEeAd+g5O8RD4FuoP+UkcMR1Uzxk3dNJK62SuyRDdZSWIgMr8WQ9+RQ7URRx2OBv+2d9kUrdcSZ7Lcn7crX3YXR/myaUrl6L5+1RVNcqr4s2M",Vt=({project:c,onSuccess:s,onCancel:f})=>{console.log("projectdataaaa>>>>>",c);const[v,h]=t.useState(!1);nt(i=>i.clientscodeOptions);const[x,l]=t.useState(null);ot(i=>i.allProjectcodeOptions),B(i=>i.permissions)[0].role,ce(i=>i.branchCodeOptions),B(i=>i.branchcode);const{departmentOptions:y,selectedDepartment:b,staffOptions:d,isFetchingStaff:o,handleDepartmentChange:g}=Ct(c.branchcode);rt(i=>i.branchEmployeeOptions),it(i=>i.campaigncodeOptions);const w=B(i=>i.accessToken),[a,p]=t.useState({branchcode:"",milestone_code:"",miles_title:"",milestone_type:"",start_date:"",end_date:"",base_amount:0,additional_amount:0,revision_reason:"",handler_by:"",approved_staff_id:"",isrevised:!1,status:"draft"}),u=i=>{const{name:S,value:T}=i.target;p(j=>({...j,[S]:T}))},A=async i=>{var T,j;i.preventDefault(),h(!0);const S={data:[{branchcode:c.branchcode,project_code:c.project_code,milestone_code:a.milestone_code,miles_title:a.miles_title,milestone_type:a.milestone_type,start_date:a.start_date,end_date:a.end_date,base_amount:Number(a.base_amount),additional_amount:Number(a.additional_amount),revision_reason:a.revision_reason,handler_by:a.handler_by,approved_staff_id:a.approved_staff_id,isrevised:a.isrevised==="true",status:a.status}]};console.log("formdataaa>>>",a);try{const z=await G.post(`${q}/project/milestone/create`,S,{headers:{Authorization:`Bearer ${w}`}});z.status===201?s():l(z.data.message||"Failed to create lead")}catch(z){l(((j=(T=z.response)==null?void 0:T.data)==null?void 0:j.message)||"An error occurred"),D.error(x||"Error creating lead")}finally{h(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ct,{className:"inline mr-2"})," Milestone Information"]}),e.jsxs("h2",{className:"text-md font-medium text-red-700 dark:text-gray-300 mt-2 text-center ",children:[e.jsx("span",{className:"text-gray-600 mr-4",children:" Project Duration: "}),ye(c.start_date)," - ",ye(c.end_date)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(be,{className:"inline mr-1",size:14})," Milestone Code Milestone Code"]}),e.jsx("input",{name:"milestone_code",value:a.milestone_code,onChange:u,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter milestone code"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(be,{className:"inline mr-1",size:14})," Milestone Title"]}),e.jsx("input",{name:"miles_title",value:a.miles_title,onChange:u,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter milestone name"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Milestone Type"]}),e.jsxs("select",{name:"milestone_type",value:a.milestone_type,onChange:u,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"initial",children:"Initial"}),e.jsx("option",{value:"revision-minor",children:"Minor Revision"}),e.jsx("option",{value:"revision-major",children:"Major Revision"}),e.jsx("option",{value:"feature_add",children:"Feature Add"}),e.jsx("option",{value:"bug_fix",children:"Changes Fix"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(je,{className:"inline mr-1",size:14})," Start Date"]}),e.jsx("input",{name:"start_date",value:a.start_date,onChange:u,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(je,{className:"inline mr-1",size:14})," Due Date"]}),e.jsx("input",{name:"end_date",value:a.end_date,onChange:u,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_t,{className:"inline mr-1",size:14})," Department"]}),e.jsxs("select",{value:b,onChange:i=>{g(i.target.value),p(S=>({...S,handler_by:"",handler_to:""}))},className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),y.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ve,{className:"inline mr-1",size:14})," Select Handler By"]}),o?e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Loading staff..."}):e.jsxs("select",{name:"handler_by",value:a.handler_by,onChange:u,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,disabled:!b||d.length===0,children:[e.jsx("option",{value:"",children:"Select Staff"}),d.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))]}),b&&d.length===0&&!o&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No staff found in this department"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ve,{className:"inline mr-1",size:14})," Select Approved Staff Id"]}),o?e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Loading staff..."}):e.jsxs("select",{name:"approved_staff_id",value:a.approved_staff_id,onChange:u,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,disabled:!b||d.length===0,children:[e.jsx("option",{value:"",children:"Select Staff"}),d.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))]}),b&&d.length===0&&!o&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No staff found in this department"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:a.status,onChange:u,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"inprocess",children:"In Progress"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"archived",children:"Archived"}),e.jsx("option",{value:"drop",children:"Drop"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Revised Status"]}),e.jsxs("select",{name:"isrevised",value:a.isrevised,onChange:u,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"true",children:"Is Revised"}),e.jsx("option",{value:"false",children:"Not Revised"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(mt,{className:"inline mr-2"})," Reason"]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(xt,{className:"inline mr-1",size:14})," Revision Reason"]}),e.jsx("textarea",{name:"revision_reason",value:a.revision_reason,onChange:u,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"List the key deliverables for this milestone..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:f,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:A,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",children:v?e.jsx(dt,{}):"Create Milestone"})]})]})},Ht=({project:c,milestone:s,onSuccess:f,onCancel:v})=>{console.log("projecttttdataaa",c),ce(a=>a.branchCodeOptions);const[h,x]=t.useState(!1);nt(a=>a.clientscodeOptions);const[l,m]=t.useState(null);ot(a=>a.allProjectcodeOptions);const y=rt(a=>a.branchEmployeeOptions);it(a=>a.campaigncodeOptions);const b=B(a=>a.accessToken),[d,o]=t.useState({branchcode:"",project_code:"",milestone_code:"",miles_title:"",milestone_type:"",start_date:"",end_date:"",base_amount:0,additional_amount:0,revision_reason:"",handler_by:"",approved_staff_id:"",isrevised:!1,status:"draft"});t.useEffect(()=>{if(s){const a=s.start_date?s.start_date.split("T")[0]:"",p=s.end_date?s.end_date.split("T")[0]:"";o({branchcode:s.branchcode||"",project_code:s.project_code||"",milestone_code:s.milestone_code||"",miles_title:s.miles_title||"",milestone_type:s.milestone_type||"",start_date:a,end_date:p,base_amount:Number(s.base_amount)||0,additional_amount:Number(s.additional_amount)||0,revision_reason:s.revision_reason||"",handler_by:s.handler_by||"",approved_staff_id:s.approved_staff_id||"",isrevised:s.isrevised===!0||s.isrevised==="true",status:s.status||"draft"})}},[s]);const g=a=>{const{name:p,value:u,type:A}=a.target;o(i=>({...i,[p]:A==="checkbox"?a.target.checked:u}))},w=async a=>{var u,A;a.preventDefault(),x(!0);const p={data:{branchcode:d.branchcode,project_code:d.project_code,milestone_code:d.milestone_code,miles_title:d.miles_title,milestone_type:d.milestone_type,start_date:d.start_date,end_date:d.end_date,base_amount:Number(d.base_amount),additional_amount:Number(d.additional_amount),revision_reason:d.revision_reason,handler_by:d.handler_by,approved_staff_id:d.approved_staff_id,isrevised:d.isrevised,status:d.status}};try{const i=await G.put(`${q}/project/milestone/edit`,p,{headers:{Authorization:`Bearer ${b}`}});i.status===200?f():m(i.data.message||"Failed to update milestone")}catch(i){m(((A=(u=i.response)==null?void 0:u.data)==null?void 0:A.message)||"An error occurred"),D.error(l||"Error updating milestone")}finally{x(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ct,{className:"inline mr-2"})," Milestone Information"]}),e.jsxs("h2",{className:"text-md font-medium text-red-700 dark:text-gray-300 mt-2 text-center ",children:[e.jsx("span",{className:"text-gray-600 mr-4",children:" Project Duration: "}),ye(c.start_date)," - ",ye(c.end_date)]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(be,{className:"inline mr-1",size:14})," Milestone Code"]}),e.jsx("input",{name:"milestone_code",value:d.milestone_code,onChange:g,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter milestone code",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(be,{className:"inline mr-1",size:14})," Milestone Title"]}),e.jsx("input",{name:"miles_title",value:d.miles_title,onChange:g,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter milestone name"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Mt,{className:"inline mr-1",size:14})," Related Project"]}),e.jsx("input",{name:"project_code",value:d.project_code,onChange:g,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Milestone Type"]}),e.jsxs("select",{name:"milestone_type",value:d.milestone_type,onChange:g,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"initial",children:"Initial"}),e.jsx("option",{value:"revision-minor",children:"Minor Revision"}),e.jsx("option",{value:"revision-major",children:"Major Revision"}),e.jsx("option",{value:"feature_add",children:"Feature Add"}),e.jsx("option",{value:"bug_fix",children:"Changes Fix"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(je,{className:"inline mr-1",size:14})," Start Date"]}),e.jsx("input",{name:"start_date",value:d.start_date,onChange:g,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(je,{className:"inline mr-1",size:14})," Due Date"]}),e.jsx("input",{name:"end_date",value:d.end_date,onChange:g,type:"date",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Bt,{className:"inline mr-1",size:14})," Milestone Base Amount"]}),e.jsx("input",{name:"base_amount",value:d.base_amount,onChange:g,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter amount"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Tt,{className:"inline mr-1",size:14})," Additional Amount"]}),e.jsx("input",{name:"additional_amount",value:d.additional_amount,onChange:g,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter Additional Amount"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ve,{className:"inline mr-1",size:14})," Assigned To"]}),e.jsx("select",{name:"handler_by",value:d.handler_by,onChange:g,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:y==null?void 0:y.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ve,{className:"inline mr-1",size:14})," Select Approved Staff"]}),e.jsx("select",{name:"approved_staff_id",value:d.approved_staff_id,onChange:g,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:y==null?void 0:y.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:d.status,onChange:g,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"inprocess",children:"In Progress"}),e.jsx("option",{value:"verified",children:"Verified"}),e.jsx("option",{value:"archived",children:"Archived"}),e.jsx("option",{value:"drop",children:"Drop"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Revised Status"]}),e.jsxs("select",{name:"isrevised",value:d.isrevised?"true":"false",onChange:a=>o(p=>({...p,isrevised:a.target.value==="true"})),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"true",children:"Is Revised"}),e.jsx("option",{value:"false",children:"Not Revised"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(mt,{className:"inline mr-2"})," Reason"]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(xt,{className:"inline mr-1",size:14})," Revision Reason"]}),e.jsx("textarea",{name:"revision_reason",value:d.revision_reason,onChange:g,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"List the key deliverables for this milestone..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:v,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:w,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",children:h?e.jsx(dt,{}):"Update Milestone"})]})]})},$t=({projectData:c})=>{console.log("projectdataaa",c);const s=lt({query:"(max-width: 768px)"}),[f,v]=t.useState(""),[h,x]=t.useState(1),[l,m]=t.useState(""),[y,b]=t.useState([]),[d,o]=t.useState(""),[g,w]=t.useState([]),[a,p]=t.useState(!1),[u,A]=t.useState(0),[i,S]=t.useState(null),[T,j]=t.useState(!1),[z,P]=t.useState(!1),[we,Ae]=t.useState(),[Se,F]=t.useState(!1),[bt,jt]=t.useState(""),[Q,Ce]=t.useState(""),[Y,_e]=t.useState(""),[X,De]=t.useState(""),[L,Me]=t.useState(8),[W,Be]=t.useState(!1),[K,Te]=t.useState(null),me=c.project_code;console.log("project codeeemiles",me);const[E,le]=t.useState({delete_type:"",status:""}),et=B(r=>r.permissions)[0].role,ze=ce(r=>r.branchCodeOptions),xe=B(r=>r.branchcode),de=et==="superadmin"?ze:[{value:xe,label:xe}],R=B(r=>r.accessToken),{branches:tt,managerOptions:at,fetchBranches:U,isLoading:ue}=ce(),Pe=[{value:"",label:"All Milestone"},{value:"draft",label:"Draft Milestone"},{value:"active",label:"Active Milestone"},{value:"paused",label:"Paused Milestone"},{value:"completed",label:"Completed Milestone"},{value:"archived",label:"Archived Milestone"},{value:"drop",label:"Drop Milestone"}],Fe=[{value:"",label:"All Milestone Type"},{value:"initial",label:"Initial Level"},{value:"revision",label:"Revision Level"},{value:"feature_add",label:"Feature_add Level"},{value:"bug_fix",label:"Change Fix Level"},{value:"feature_remove",label:"Feature Remove Level"}],Le=[{value:20,label:"20 per page"},{value:40,label:"30 per page"},{value:50,label:"40 per page"},{value:80,label:"50 per page"},{value:100,label:"100 per page"},{value:200,label:"100 per page"}];t.useEffect(()=>{U(R)},[R]);const te=async(r=h,N=L,J=f,ee=d,ne=Y,C=X,V=Q)=>{var oe,re,ie;p(!0);try{let H=`${q}/project/milestone/read?project_code=${me}&page=${r}&limit=${N}`;J&&(H+=`&search=${J}`),ee&&(H+=`&status=${ee}`),ne&&(H+=`&priority=${ne}`),C&&(H+=`&branchcode=${C}`),V&&(H+=`&dec=${V}`);const _=await G.get(H,{headers:{Authorization:`Bearer ${R}`}});b((oe=_==null?void 0:_.data)==null?void 0:oe.data),A(((re=_==null?void 0:_.data)==null?void 0:re.length)||0),w(((ie=_==null?void 0:_.data)==null?void 0:ie.data)||[])}catch(H){console.error("Error fetching branch list",H),S("Failed to fetch branches")}finally{p(!1)}};t.useEffect(()=>{te()},[h,f,d,Y,X,Q,L]);const Ee=r=>{x(r)},ge=()=>{j(!1),D.success("Milestone created successfully!"),U(R),te()},Re=r=>{v(r),x(1)},Ve=r=>{Ae(r),P(!0)},He=r=>{F(!0),Te(r)},$e=async()=>{const r={data:{branchcode:K.branchcode,project_code:K.project_code,milestone_code:K.milestone_code,delete_type:E.delete_type,status:E.status}};console.log("projectdeleteddataa",r);try{p(!0);const N=await G.delete(`${q}/project/milestone/delete`,{data:r,headers:{Authorization:`Bearer ${R}`}});console.log("deleteemployeeresponse",N),(N==null?void 0:N.status)===201&&(F(!1),D.success("Milestone Deleted Successfully!"),te(),p(!1),le({delete_type:"",status:""}))}catch(N){console.error("Error deleting milestone",N),D.error("Failed to delete milestone"),p(!1)}finally{p(!1)}},pe=r=>{const{name:N,value:J}=r.target;le(ee=>({...ee,[N]:J}))},Oe=()=>{Ce(r=>r==="desc"?"":"desc"),x(1)},Ue=r=>{o(r),x(1)},Ie=r=>{_e(r),x(1)},Ge=r=>{De(r),x(1)},n=r=>{Me(r),x(1)},k=()=>[{data:"id"},{data:"Branch Code"},{data:"Milestone Name"},{data:"Duration Days"},{data:"Milestone Status"},{data:"Total Task"},{data:"Archivedtask"},{data:"Total Duration"},{data:"Status"},{data:"Actions",className:"text-center"}],ae=()=>g?g.map((r,N)=>({id:r.id,data:[{data:N+1},{data:r.branchcode},{data:r.miles_title},{data:r.duration_days},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${r.isrevised===!1?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${r.isrevised===!1?"bg-green-800":"bg-red-700"}`}),r.isrevised===!1?"No Revision":"Revision"]})},{data:r.totaltask_count},{data:r.archivedtask_count},{data:r.totalprojectworkinghrsduration},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${r.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${r.status==="active"?"bg-green-800":"bg-red-700"}`}),r.status.charAt(0).toUpperCase()+r.status.slice(1)]})},{data:e.jsxs("div",{className:"flex  justify-center gap-2",children:[e.jsx(qe,{to:`/milestone/${r.milestone_code}`,children:e.jsx("button",{className:"p-1 text-blue-700 rounded hover:text-gray-500 dark:hover:text-gray-300",title:"View",children:e.jsx(pt,{size:18})})}),e.jsx("button",{className:"p-1  text-blue-700 rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>Ve(r),title:"Edit",children:e.jsx(ht,{size:18})}),e.jsx("button",{className:"p-1 text-[var(--color-primary)] rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>He(r),title:"Delete",children:e.jsx(ft,{size:18})})]}),className:"action-cell"}]})):[],se=()=>{P(!1),D.success("Milestone Updated successfully!"),U(R),te()},he=()=>{const r=O.book_new(),N=O.json_to_sheet(y);O.book_append_sheet(r,N,"Branches"),Je(r,"BranchList.xlsx")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)] dark:text-[var(--color-primary)]",children:"Milestone Management"}),s&&e.jsx("button",{onClick:()=>Be(!W),className:"p-2 bg-gray-200 rounded-md",children:W?"Hide Filters":"Show Filters"})]}),e.jsx(Ke,{position:We,reverseOrder:!1}),e.jsx("div",{className:`flex ${s?"flex-col":"items-end justify-end"} gap-4 mb-5`,children:e.jsxs("div",{className:`flex ${s?"flex-col":"flex-row"} gap-4`,children:[e.jsx(M,{options:Le,selectedValue:L,onSelect:n,placeholder:"Items per page",className:"w-full md:w-[150px]"}),e.jsxs("button",{onClick:he,className:"flex items-center justify-center text-gray-400 bg-white focus:outline-non font-medium text-sm rounded-sm border border-dotted border-gray-400 hover:text-red-700/70 px-3 dark:bg-gray-800 dark:text-gray-300 py-2.5",children:[e.jsx(Ze,{className:"mr-1"}),!s&&"Export Excel"]}),e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",children:[!s&&"Add Milestone"," +"]})]})}),e.jsx("div",{className:`${s&&!W?"hidden":"block"} mb-4`,children:e.jsxs("div",{className:`${s?"grid grid-cols-1 gap-3":"flex flex-wrap justify-between items-center gap-3"}`,children:[e.jsx(M,{options:Pe,selectedValue:d,onSelect:Ue,placeholder:"Branch Status",className:"w-full md:w-[200px]"}),e.jsx(M,{options:de,selectedValue:X,onSelect:Ge,placeholder:"Branch Code",className:"w-full md:w-[200px]",isLoading:ue}),e.jsx(M,{options:Fe,selectedValue:Y,onSelect:Ie,placeholder:"Manager",className:"w-full md:w-[200px]",isLoading:ue}),e.jsxs("button",{onClick:Oe,className:`${s?"w-full":"w-[200px]"} h-[40px] text-white bg-[var(--color-primary)] hover-effect px-2 py-1 rounded-sm`,children:["Sort ",Q==="desc"?"↑":"↓"]}),e.jsx("div",{className:`${s?"w-full":"w-[200px] mt-3"}`,children:e.jsx(Xe,{value:f,onChange:Re,placeholder:"Search branches...",className:"w-full"})})]})}),a&&e.jsx("div",{className:"text-center py-4",children:"Loading..."}),i&&e.jsx("div",{className:"text-red-500 text-center py-4",children:i}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Qe,{thead:k,tbody:ae,responsive:!0,className:"min-w-full"})})]}),e.jsx("div",{className:"bottom-0 border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(Ye,{total:u,currentPage:h,defaultPageSize:L,onChange:Ee,paginationLabel:"branches",isScroll:!0})})]}),e.jsx($,{isVisible:T,className:"w-full md:w-[800px]",onClose:()=>j(!1),title:"Add New Milestone",children:e.jsx(Vt,{project:c,onSuccess:ge,onCancel:()=>j(!1),projectData:c})}),e.jsx($,{isVisible:z,className:"w-full md:w-[800px]",onClose:()=>P(!1),title:"Edit Milestone",children:e.jsx(Ht,{project:c,milestone:we,onSuccess:se,onCancel:()=>P(!1)})}),e.jsx($,{isVisible:Se,className:"w-full md:w-[600px]",onClose:()=>F(!1),title:"Drop Milestone",children:e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ut,{className:"inline mr-2"})," Drop Milestone"]}),e.jsx("p",{className:"text-gray-500 text-sm font-medium text-center",children:"Are you sure you want to Drop this Milestone?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(gt,{className:"inline mr-1",size:14})," Type"]}),e.jsxs("select",{name:"delete_type",value:E.delete_type,onChange:pe,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"temp",children:"Temporary"}),e.jsx("option",{value:"permanent",children:"Permanent"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:E.status,onChange:pe,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"revised",children:"Revised"}),e.jsx("option",{value:"client_review",children:"Client_review"}),e.jsx("option",{value:"drop",children:"Drop"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:()=>F(!1),disabled:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:$e,disabled:a,children:a?"Processing...":"Confirm"})]})]})})]})},Ot=({projectData:c})=>{const s=lt({query:"(max-width: 768px)"}),[f,v]=t.useState(""),[h,x]=t.useState(1),[l,m]=t.useState(""),[y,b]=t.useState([]),[d,o]=t.useState(""),[g,w]=t.useState([]),[a,p]=t.useState(!1),[u,A]=t.useState(0),[i,S]=t.useState(null),[T,j]=t.useState(!1),[z,P]=t.useState(!1),[we,Ae]=t.useState(),[Se,F]=t.useState(!1),[bt,jt]=t.useState(""),[Q,Ce]=t.useState(""),[Y,_e]=t.useState(""),[X,De]=t.useState(""),[L,Me]=t.useState(8),[W,Be]=t.useState(!1),[K,Te]=t.useState(null),me=c.project_code,[E,le]=t.useState({delete_type:"",status:""}),Z=B(n=>n.accessToken),{branches:et,managerOptions:ze,branchCodeOptions:xe,fetchBranches:de,isLoading:R}=ce(),tt=[{value:"",label:"All Branches"},{value:"active",label:"Active Branches"},{value:"inactive",label:"Inactive Branches"}],at=[{value:20,label:"20 per page"},{value:40,label:"30 per page"},{value:50,label:"40 per page"},{value:80,label:"50 per page"},{value:100,label:"100 per page"},{value:200,label:"100 per page"}];t.useEffect(()=>{de(Z)},[Z]);const U=async(n=h,k=L,ae=f,se=d,he=Y,r=X,N=Q)=>{var J,ee,ne;p(!0);try{let C=`${q}/project/task/read?project_code=${me}&page=${n}&limit=${k}`;ae&&(C+=`&search=${ae}`),se&&(C+=`&status=${se}`),he&&(C+=`&manager_id=${he}`),r&&(C+=`&branchcode=${r}`),N&&(C+=`&dec=${N}`);const V=await G.get(C,{headers:{Authorization:`Bearer ${Z}`}}),oe=(ee=(J=V==null?void 0:V.data)==null?void 0:J.data)==null?void 0:ee.reduce((re,ie)=>re.find(_=>_.id===ie.id)?re:re.concat([ie]),[]);b(oe||[]),A(((ne=V==null?void 0:V.data)==null?void 0:ne.totalDocuments)||0),w(oe||[])}catch(C){console.error("Error fetching task list",C),S("Failed to fetch tasks")}finally{p(!1)}};t.useEffect(()=>{U()},[h,f,d,Y,X,Q,L]);const ue=n=>{x(n)},Pe=()=>{j(!1),D.success("Task added successfully!"),de(Z),U()},Fe=n=>{v(n),x(1)},Le=n=>{console.log("branchhhhtaskk",n),Ae(n),P(!0)},te=n=>{F(!0),Te(n)},Ee=async()=>{const n={data:{branchcode:K.branchcode,project_code:K.project_code,milestone_code:K.milestone_code,delete_type:E.delete_type,status:E.status}};console.log("projectdeleteddataa",n);try{p(!0);const k=await G.delete(`${q}/project/milestone/delete`,{data:n,headers:{Authorization:`Bearer ${Z}`}});console.log("deleteemployeeresponse",k),(k==null?void 0:k.status)===201&&(F(!1),D.success("Milestone Deleted Successfully!"),U(),p(!1),le({delete_type:"",status:""}))}catch(k){console.error("Error deleting milestone",k),D.error("Failed to delete milestone"),p(!1)}finally{p(!1)}},ge=n=>{const{name:k,value:ae}=n.target;le(se=>({...se,[k]:ae}))},Re=()=>{Ce(n=>n==="desc"?"":"desc"),x(1)},Ve=n=>{o(n),x(1)},He=n=>{_e(n),x(1)},$e=n=>{De(n),x(1)},pe=n=>{Me(n),x(1)},Oe=()=>[{data:"id"},{data:"Branch Code"},{data:"Project Code"},{data:"Duration Days"},{data:"Task Name"},{data:"Task Priority"},{data:"Start Date"},{data:"End Date"},{data:"Handle By"},{data:"Status"},{data:"Actions",className:"text-center"}],Ue=()=>g?g.map((n,k)=>({id:n.id,data:[{data:k+1},{data:n.branchcode},{data:n.project_code},{data:n.duration_days},{data:n.task_title},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${n.task_priority==="minor"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${n.task_priority==="minor"?"bg-green-800":"bg-red-700"}`}),n.task_priority.charAt(0).toUpperCase()+n.task_priority.slice(1)]})},{data:new Date(n.start_date).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})},{data:new Date(n.end_date).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"})},{data:n.handler_by},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${n.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${n.status==="completed"?"bg-green-800":"bg-red-700"}`}),n.status.charAt(0).toUpperCase()+n.status.slice(1)]})},{data:e.jsxs("div",{className:"flex  justify-center gap-2",children:[e.jsx(qe,{to:`/task_view/${n.id}`,children:e.jsx("button",{className:"p-1 text-blue-700 rounded hover:text-gray-500 dark:hover:text-gray-300",title:"View",children:e.jsx(pt,{size:18})})}),e.jsx("button",{className:"p-1 text-[var(--color-primary)] rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>Le(n),title:"Edit",children:e.jsx(ht,{size:18})}),e.jsx("button",{className:"p-1 text-red-600 rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>te(n),title:"Delete",children:e.jsx(ft,{size:18})})]}),className:"action-cell"}]})):[],Ie=()=>{P(!1),D.success("Task updated successfully!"),de(Z),U()},Ge=()=>{const n=O.book_new(),k=O.json_to_sheet(y);O.book_append_sheet(n,k,"Branches"),Je(n,"BranchList.xlsx")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)] dark:text-[var(--color-primary)]",children:"Task Management"}),s&&e.jsx("button",{onClick:()=>Be(!W),className:"p-2 bg-gray-200 rounded-md",children:W?"Hide Filters":"Show Filters"})]}),e.jsx(Ke,{position:We,reverseOrder:!1}),e.jsx("div",{className:`flex ${s?"flex-col":"items-end justify-end"} gap-4 mb-5`,children:e.jsxs("div",{className:`flex ${s?"flex-col":"flex-row"} gap-4`,children:[e.jsx(M,{options:at,selectedValue:L,onSelect:pe,placeholder:"Items per page",className:"w-full md:w-[150px]"}),e.jsxs("button",{onClick:Ge,className:"flex items-center justify-center text-gray-400 bg-white focus:outline-non font-medium text-sm rounded-sm border border-dotted border-gray-400 hover:text-red-700/70 px-3 dark:bg-gray-800 dark:text-gray-300 py-2.5",children:[e.jsx(Ze,{className:"mr-1"}),!s&&"Export Excel"]}),e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",children:[!s&&"Add New Task"," +"]})]})}),e.jsx("div",{className:`${s&&!W?"hidden":"block"} mb-4`,children:e.jsxs("div",{className:`${s?"grid grid-cols-1 gap-3":"flex flex-wrap justify-between items-center gap-3"}`,children:[e.jsx(M,{options:tt,selectedValue:d,onSelect:Ve,placeholder:"Branch Status",className:"w-full md:w-[200px]"}),e.jsx(M,{options:xe,selectedValue:X,onSelect:$e,placeholder:"Branch Code",className:"w-full md:w-[200px]",isLoading:R}),e.jsx(M,{options:ze,selectedValue:Y,onSelect:He,placeholder:"Manager",className:"w-full md:w-[200px]",isLoading:R}),e.jsxs("button",{onClick:Re,className:`${s?"w-full":"w-[200px]"} h-[40px] text-white bg-[var(--color-primary)] hover-effect px-2 py-1 rounded-sm`,children:["Sort ",Q==="desc"?"↑":"↓"]}),e.jsx("div",{className:`${s?"w-full":"w-[200px] mt-3"}`,children:e.jsx(Xe,{value:f,onChange:Fe,placeholder:"Search branches...",className:"w-full"})})]})}),a&&e.jsx("div",{className:"text-center py-4",children:"Loading..."}),i&&e.jsx("div",{className:"text-red-500 text-center py-4",children:i}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Qe,{thead:Oe,tbody:Ue,responsive:!0,className:"min-w-full"})})]}),e.jsx("div",{className:"bottom-0 border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(Ye,{total:u,currentPage:h,defaultPageSize:L,onChange:ue,paginationLabel:"branches",isScroll:!0})})]}),e.jsx($,{isVisible:T,className:"w-full md:w-[800px]",onClose:()=>j(!1),title:"Add New Task Form",children:e.jsx(zt,{onSuccess:Pe,onCancel:()=>j(!1)})}),e.jsx($,{isVisible:z,className:"w-full md:w-[800px]",onClose:()=>P(!1),title:"Edit Task Form",children:e.jsx(Dt,{taskData:we,onSuccess:Ie,onCancel:()=>P(!1)})}),e.jsx($,{isVisible:Se,className:"w-full md:w-[600px]",onClose:()=>F(!1),title:"Drop Milestone",children:e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(ut,{className:"inline mr-2"})," Drop Milestone"]}),e.jsx("p",{className:"text-gray-500 text-sm font-medium text-center",children:"Are you sure you want to Drop this Milestone?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(gt,{className:"inline mr-1",size:14})," Type"]}),e.jsxs("select",{name:"delete_type",value:E.delete_type,onChange:ge,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"temp",children:"Temporary"}),e.jsx("option",{value:"permanent",children:"Permanent"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:E.status,onChange:ge,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"paused",children:"Paused"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"revised",children:"Revised"}),e.jsx("option",{value:"client_review",children:"Client_review"}),e.jsx("option",{value:"drop",children:"Drop"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:()=>F(!1),disabled:a,children:"Cancel"}),e.jsx("button",{type:"button",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:Ee,disabled:a,children:a?"Processing...":"Confirm"})]})]})})]})};function Ut(){const c=[{uri:"/documents/Abc Client Documents.pdf",fileType:"pdf",fileName:"Abc Client Documents.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject draft.pdf",fileType:"pdf",fileName:"AbcProject Meeting Document.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject Final 2 Documents.pdf",fileType:"pdf",fileName:"Abc company overview.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject final Document.pdf",fileType:"pdf",fileName:"Abc structure Documents.pdf",fileSize:"15MB"}],[s,f]=t.useState(c[0]),[v,h]=t.useState(0),x=l=>{f(l),h(m=>m+1)};return e.jsxs("div",{className:"flex flex-col h-[1050px] p-6 bg-gray-50",children:[e.jsx("h1",{className:"text-xl font-bold text-red-800 mb-8",children:"Client Documents"}),e.jsxs("div",{className:"flex flex-1 gap-6 overflow-hidden",children:[e.jsxs("div",{className:"w-96 flex flex-col border-l border-gray-200 pl-6 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"Documents List"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",children:e.jsx("ul",{className:"space-y-2",children:c.map(l=>e.jsx("li",{className:`p-3 rounded-lg cursor-pointer transition-all duration-200 ${s.uri===l.uri?"bg-red-50/80 border-l-4 border-red-600 shadow-sm dark:bg-red-900/20 dark:border-red-500":"bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/70"}`,onClick:()=>x(l),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 mt-0.5",children:l.fileType==="pdf"?e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):l.fileType==="doc"||l.fileType==="docx"?e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-gray-200",children:l.fileName}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:l.fileType.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:l.fileSize||"--"})]})]})]})},l.uri))})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx(Ne,{documents:[s],pluginRenderers:ke,theme:{primary:"rgb(185 28 28)",secondary:"#BDBDBD",tertiary:"#BDBDBD",textPrimary:"#ffffff",textSecondary:"rgb(185 28 28)",textTertiary:"rgb(185 28 28)",disableThemeScrollbar:!1},config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}}},v)})]})]})}function It(){const c=[{uri:"/documents/AbcProject draft.pdf",fileType:"pdf",fileName:"AbcProject Draft 1.pdf",fileSize:"15MB"},{uri:"/documents/Abc Client Documents.pdf",fileType:"pdf",fileName:"Abc Draft 2.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject Final 2 Documents.pdf",fileType:"pdf",fileName:"Abc Draft 3.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject final Document.pdf",fileType:"pdf",fileName:"Abc Draft 4 Documents.pdf",fileSize:"15MB"}],[s,f]=t.useState(c[0]),[v,h]=t.useState(0),x=l=>{f(l),h(m=>m+1)};return e.jsxs("div",{className:"flex flex-col h-[1050px] p-6 bg-gray-50",children:[e.jsx("h1",{className:"text-xl font-bold text-red-800 mb-8",children:"Client Documents"}),e.jsxs("div",{className:"flex flex-1 gap-6 overflow-hidden",children:[e.jsxs("div",{className:"w-96 flex flex-col border-l border-gray-200 pl-6 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"Documents List"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",children:e.jsx("ul",{className:"space-y-2",children:c.map(l=>e.jsx("li",{className:`p-3 rounded-lg cursor-pointer transition-all duration-200 ${s.uri===l.uri?"bg-red-50/80 border-l-4 border-red-600 shadow-sm dark:bg-red-900/20 dark:border-red-500":"bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/70"}`,onClick:()=>x(l),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 mt-0.5",children:l.fileType==="pdf"?e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):l.fileType==="doc"||l.fileType==="docx"?e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-gray-200",children:l.fileName}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:l.fileType.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:l.fileSize||"--"})]})]})]})},l.uri))})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx(Ne,{documents:[s],pluginRenderers:ke,theme:{primary:"rgb(185 28 28)",secondary:"#BDBDBD",tertiary:"#BDBDBD",textPrimary:"#ffffff",textSecondary:"rgb(185 28 28)",textTertiary:"rgb(185 28 28)",disableThemeScrollbar:!1},config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}}},v)})]})]})}function Gt(){const c=[{uri:"/documents/AbcProject Final 2 Documents.pdf",fileType:"pdf",fileName:"Abc company Final Doc.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject final Document.pdf",fileType:"pdf",fileName:"Abc Final Documents.pdf",fileSize:"15MB"},{uri:"/documents/Abc Client Documents.pdf",fileType:"pdf",fileName:"Abc Final Documents.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject draft.pdf",fileType:"pdf",fileName:"AbcProject Final Document.pdf",fileSize:"15MB"}],[s,f]=t.useState(c[0]),[v,h]=t.useState(0),x=l=>{f(l),h(m=>m+1)};return e.jsxs("div",{className:"flex flex-col h-[1050px] p-6 bg-gray-50",children:[e.jsx("h1",{className:"text-xl font-bold text-red-800 mb-8",children:"Client Documents"}),e.jsxs("div",{className:"flex flex-1 gap-6 overflow-hidden",children:[e.jsxs("div",{className:"w-96 flex flex-col border-l border-gray-200 pl-6 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"Documents List"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",children:e.jsx("ul",{className:"space-y-2",children:c.map(l=>e.jsx("li",{className:`p-3 rounded-lg cursor-pointer transition-all duration-200 ${s.uri===l.uri?"bg-red-50/80 border-l-4 border-red-600 shadow-sm dark:bg-red-900/20 dark:border-red-500":"bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/70"}`,onClick:()=>x(l),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 mt-0.5",children:l.fileType==="pdf"?e.jsxs("svg",{className:"w-5 h-5 text-red-500",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M14 2V8H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M8 13H9.5C10.163 13 10.7989 13.2634 11.2678 13.7322C11.7366 14.2011 12 14.837 12 15.5C12 16.163 11.7366 16.7989 11.2678 17.2678C10.7989 17.7366 10.163 18 9.5 18H8V13Z",fill:"currentColor"}),e.jsx("path",{d:"M16 13V18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("path",{d:"M16 13H15C14.4477 13 14 13.4477 14 14V17C14 17.5523 14.4477 18 15 18H16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}):l.fileType==="doc"||l.fileType==="docx"?e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-gray-200",children:l.fileName}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:l.fileType.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:l.fileSize||"--"})]})]})]})},l.uri))})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx(Ne,{documents:[s],pluginRenderers:ke,theme:{primary:"rgb(185 28 28)",secondary:"#BDBDBD",tertiary:"#BDBDBD",textPrimary:"#ffffff",textSecondary:"rgb(185 28 28)",textTertiary:"rgb(185 28 28)",disableThemeScrollbar:!1},config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}}},v)})]})]})}function qt({documents:c}){const s=c.map((m,y)=>({uri:m.url,fileType:m.type.toLowerCase(),fileName:m.title||`Meeting Document ${y+1}`,fileSize:"N/A"})),[f,v]=t.useState(s[0]),[h,x]=t.useState(0),l=m=>{v(m),x(y=>y+1)};return s.length===0?e.jsx("div",{className:"p-4 text-gray-500",children:"No documents available"}):e.jsxs("div",{className:"flex flex-col h-[1050px] p-6 bg-gray-50",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-8",children:"Meeting Documents"}),e.jsxs("div",{className:"flex flex-1 gap-6 overflow-hidden",children:["    ",e.jsxs("div",{className:"w-96 flex flex-col border-l border-gray-200 pl-6 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"Documents List"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",children:e.jsx("ul",{className:"space-y-2",children:s.map((m,y)=>e.jsx("li",{className:`p-3 rounded-lg cursor-pointer transition-all duration-200 ${f.uri===m.uri?"bg-red-50/80 border-l-4 border-red-600 shadow-sm dark:bg-red-900/20 dark:border-red-500":"bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/70"}`,onClick:()=>l(m),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 mt-0.5",children:m.fileType==="pdf"?e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):m.fileType==="doc"||m.fileType==="docx"?e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-gray-200",children:m.fileName}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:m.fileType.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:m.fileSize||"--"})]})]})]})},`${m.uri}-${y}`))})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx(Ne,{documents:[f],pluginRenderers:[...ke,kt],config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1},msOffice:{webviewerServerURL:"https://webviewer.yourserver.com",googleDocsViewerURL:"https://docs.google.com/viewer?url="}},theme:{primary:"rgb(185 28 28)",secondary:"#BDBDBD",tertiary:"#BDBDBD",textPrimary:"#ffffff",textSecondary:"rgb(185 28 28)",textTertiary:"rgb(185 28 28)",disableThemeScrollbar:!1}},h)})]})]})}const Qt=()=>{const[c,s]=t.useState([]),[f,v]=t.useState(!0),[h,x]=t.useState(null),l=B(b=>b.staff_id),m=B(b=>b.accessToken);if(t.useEffect(()=>{l&&(async()=>{var d,o;try{v(!0);const g=await G.get(`${q}/doc_meet/read`,{params:{person_id:l,role:"staff",comm_type:"doc"},headers:{Authorization:`Bearer ${m}`}});s(g.data.data||[])}catch(g){x(((o=(d=g.response)==null?void 0:d.data)==null?void 0:o.message)||g.message)}finally{v(!1)}})()},[l,m]),f)return e.jsx("div",{className:"p-4",children:"Loading meeting documents..."});if(h)return e.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",h]});const y=c.flatMap(b=>b.doc.map(d=>({...d,title:b.title,created_on:b.created_on,doc_status:b.doc_status})));return e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Meeting Documents"}),y.length===0?e.jsx("p",{children:"No meeting documents found."}):e.jsx(qt,{documents:y})]})},Yt=()=>{const[c,s]=t.useState(""),[f,v]=t.useState(1),[h,x]=t.useState(!1),[l,m]=t.useState(""),[y,b]=t.useState([]),[d,o]=t.useState(""),[g,w]=t.useState("clientdocuments"),[a]=t.useState([{id:"1",name:"Production Department Structure Charts.pdf",type:"PDF",size:"2.4 MB",url:"http://localhost:5173/documents/Production%20Department%20Structure%20Chart.pdf",category:"HR"},{id:"2",name:"Salary Structure.docx",type:"Word",size:"1.2 MB",url:"/documents/Interview Evaluation Form.docx",category:"Finance"}]),p=[{id:"clientdocuments",label:"Client Documents"},{id:"finaldocument",label:"Final Documents"},{id:"draftdocuments",label:"Draft Documents"},{id:"meetingdocuments",label:"Meeting Documents"}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"flex -mb-px",children:p.map(u=>e.jsx("button",{onClick:()=>w(u.id),className:`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${g===u.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u.label},u.id))})}),e.jsxs("div",{className:"p-4 flex-grow",children:[g==="clientdocuments"&&e.jsx(Ut,{}),g==="finaldocument"&&e.jsx(Gt,{}),g==="draftdocuments"&&e.jsx(It,{}),g==="meetingdocuments"&&e.jsx(Qt,{})]})]}),e.jsx($,{isVisible:h,className:"w-[200px]",onClose:()=>x(!1),title:"Add Salary Form",children:e.jsx(yt,{})})]})},Xt=()=>{const[c,s]=t.useState(""),[f,v]=t.useState(1),[h,x]=t.useState(!1),[l,m]=t.useState(""),[y,b]=t.useState([]),[d,o]=t.useState(""),[g,w]=t.useState("salaryList"),a=[{value:"client",label:"Client"},{value:"Project",label:"Project"},{value:"Leads",label:"Leads"},{value:"Employee",label:"Employee"}],p=[{value:"Pending",label:"Pending"},{value:"Paid",label:"Paid"},{value:"Un Paid",label:"Un-Paid"}],u=[{id:"Task_1",date:"Karthick ",name:"25-05-2025",branch:"ABC Commercial 1",priority:"64:12:52 ",progress:65},{id:"Task_2",date:"Kathir",name:"25-05-2025",branch:"ABC Commercial 1",priority:"20:12:52 ",progress:20}],A=()=>u;t.useEffect(()=>{b(A())},[]);const i=()=>[{data:"Task Id"},{data:"Member Name"},{data:"Date"},{data:"Task Name"},{data:"Duration"},{data:"Hours"},{data:"View"}],S=()=>u?u.map(j=>({id:j.id,data:[{data:j.id},{data:j.name},{data:j.date},{data:j.branch},{data:j.priority},{data:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-[80px] rounded-full h-2 dark:bg-dark-600 bg-gray-200 dark:bg-gray-700",children:e.jsx("div",{className:"bg-red-700 h-2 rounded-full transition-all duration-500",style:{width:`${j.progress}%`}})}),e.jsx("div",{children:e.jsxs("span",{className:"text-red-700 ml-1",children:[" ",j.progress," %"]})})]})})},{data:e.jsx(qe,{to:"/task_view",children:e.jsx("button",{className:"bg-red-400/25 dark:bg-red-700/15 px-4 py-2 dark:text-red-200 text-red-700 rounded-sm",children:"View"})})}]})):[],T=()=>{const j=O.book_new(),z=O.json_to_sheet(y);O.book_append_sheet(j,z,"Almino"),Je(j,"EmployeeList.xlsx")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsx("div",{className:"flex items-end justify-end",children:e.jsxs("button",{onClick:T,className:"text-gray-400 bg-white focus:outline-non font-medium text-sm rounded-sm border border-dotted border-gray-400 hover:text-red-700/70 px-3 dark:bg-gray-800 dark:text-gray-300 py-2.5 text-center mr-5 mb-5 flex items-center",children:[e.jsx(Ze,{}),"Export Excel"]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(M,{options:a,selectedValue:l,onSelect:m,placeholder:"Filter By",className:"w-[200px]"}),e.jsx(M,{options:p,selectedValue:d,onSelect:o,placeholder:"Payment Status",className:"w-[200px]"}),e.jsx(M,{options:a,selectedValue:l,onSelect:m,placeholder:"Sort by",className:"w-[200px]"}),e.jsx(Xe,{value:c,onChange:s,placeholder:"Search users..."})]}),e.jsx(Qe,{thead:i,tbody:S,isSearch:!0}),e.jsx("div",{className:"sticky bottom-0 border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(Ye,{total:100,currentPage:f,defaultPageSize:10,onChange:v,paginationLabel:"employees",isScroll:!0})})]})}),e.jsx($,{isVisible:h,className:"w-[200px]",onClose:()=>x(!1),title:"Add Salary Form",children:e.jsx(yt,{})})]})},Wt=()=>{const[c,s]=t.useState("overview"),[f,v]=t.useState(null),[h,x]=t.useState(!0),[l,m]=t.useState(!1),{id:y}=Nt(),b=B(a=>a.accessToken);t.useEffect(()=>{(async()=>{var p;try{const u=await G.get(`${q}/project/overview/profile/read?project_code=${y}`,{headers:{Authorization:`Bearer ${b}`}});console.log("responseprojecttvieww",u),v(((p=u==null?void 0:u.data)==null?void 0:p.data)||[])}catch(u){console.error("Error fetching project data:",u)}finally{x(!1)}})()},[y]);const d=[{id:"overview",label:"OverView"},{id:"milestone",label:"Milestones"},{id:"task",label:"Tasks"},{id:"files",label:"Files"},{id:"timesheet",label:"TimeSheet"}],o=f,g=[{type:"Completed Tasks",value:650,color:"bg-green-600",icon:e.jsx(At,{className:"text-green-600 mr-2"}),label:"Completed Task"},{type:"Inprogress Task",value:150,color:"bg-yellow-600",icon:e.jsx(St,{className:"text-yellow-600 mr-2"}),label:"Inprogress Task"},{type:"overdue Task",value:200,color:"bg-red-600",icon:e.jsx(st,{className:"text-red-600 mr-2"}),label:"Overdue Task"},{type:"todo Task",value:200,color:"bg-blue-600",icon:e.jsx(st,{className:"text-blue-600 mr-2"}),label:"ToDo Task"}],w=()=>{m(!1),D.success("Meeting and Document Created successfully!")};return h?e.jsx("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx("div",{className:"text-red-700 dark:text-red-700 flex justify-between text-2xl font-bold mb-8 m-6",children:e.jsxs("div",{children:[o.title,"            ",e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ml-3 mt-2 ${o.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-800/25 dark:text-green-400":o.status==="rejected"?"bg-red-100 text-red-800 dark:bg-red-800/25 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-800/25 dark:text-yellow-400"}`,children:[e.jsx(Ft,{}),o.status]})]})}),e.jsx(Ke,{position:We,reverseOrder:!1}),e.jsx("div",{className:"dark:border-gray-700 mb-[60px]",children:e.jsx("nav",{className:"flex justify-evenly -mb-px",children:d.map((a,p)=>e.jsxs(e.Fragment,{children:[p>0&&e.jsx("span",{className:"bg-gray-300 dark:bg-red-700 w-[50px] h-[2px] mt-5 items-center"}),e.jsx("button",{onClick:()=>s(a.id),className:`font-medium text-sm ${c===a.id?"text-gray-200 dark:bg-gray-800 dark:text-red-800 hover:border-gray-300 bg-red-700 w-[120px] h-[40px] rounded-sm":"border-transparent text-gray-700 hover:text-red-700 dark:bg-gray-600 dark:text-gray-100 hover:border-gray-300 bg-gray-200 w-[120px] h-[40px] rounded-sm"}`,children:a.label},a.id)]}))})}),e.jsxs("div",{className:"p-4 flex-grow",children:[c==="overview"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full max-w-full mx-auto p-15 bg-white dark:bg-gray-800 rounded-xl shadow-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-600 dark:text-white",children:o.title}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",children:["New Meeting"," ",e.jsx(Lt,{className:"ml-2",size:15})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Client Code:"})," ",o.client_code]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Project Code:"})," ",o.project_code]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-green-700 dark:text-gray-100",children:[e.jsx(Et,{className:"inline",size:20})," Start Date:"]})," ",new Date(o.start_date).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-red-700 dark:text-gray-100",children:[e.jsx(Rt,{className:"inline",size:20})," End Date:"]})," ",new Date(o.end_date).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-700 dark:text-gray-100",children:"Priority:"})," ",o.priority]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-purple-700 dark:text-gray-100",children:"Type:"})," ",o.type]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-orange-700 dark:text-gray-100",children:"Location:"})," ",o.loc]})]}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200",children:e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Project Description:"}),e.jsx("br",{}),o.notes]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-700 dark:text-gray-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Budget:"})," ₹",o.budget]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Overall Cost:"})," ₹",o.overallcost]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:"Balance:"})," ₹",o.balance]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"text-gray-700 dark:text-gray-200",children:[e.jsx("span",{className:"font-semibold",children:"Project Progress:"})," ",o.milestone_count?`Milestones (${o.milestone_count})`:"No milestones yet"]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-[250px] rounded-full h-2.5 dark:bg-dark-600 bg-gray-200 dark:bg-gray-700",children:e.jsx("div",{className:"bg-red-700 h-2.5 rounded-full transition-all duration-500",style:{width:`${o.progress}%`}})}),e.jsx("div",{children:e.jsxs("span",{className:"text-red-700 ml-3",children:[70,"%"]})})]}),e.jsx("div",{className:"text-blue-400 dark:text-blue-500 italic",children:o.duration_days?`${o.duration_days} days duration`:"Duration not specified"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between text-sm text-gray-700 dark:text-gray-200",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("span",{className:"font-semibold",children:"Assigned by:"})," ",o.handler_by]}),e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between text-sm text-gray-200 dark:text-gray-200",children:e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:mt-0",children:[e.jsx("span",{className:"font-semibold mr-2",children:"Team Members:"}),e.jsxs("div",{className:"flex -space-x-4",children:[e.jsx("img",{className:"w-8 h-8 rounded-full border-2 border-gray-300 dark:border-gray-800",src:fe,alt:"Member 1"}),e.jsx("img",{className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",src:fe,alt:"Member 2"}),e.jsx("img",{className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",src:fe,alt:"Member 3"}),e.jsx("span",{className:"w-8 h-8 rounded-full bg-gray-300 text-gray-700 dark:bg-gray-600 dark:text-white flex items-center justify-center text-xs font-semibold border-2 border-white dark:border-gray-800",children:"+5"})]})]})})})]})]}),e.jsxs("div",{className:"flex",children:[e.jsx(wt,{items:g,className:"dark:bg-gray-800 w-[600px] mt-10 bg-white p-15",title:"Project Status"}),e.jsxs("div",{className:"w-[45%] max-w-3xl mx-auto p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg space-y-6 mt-10",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:"Project Activity"}),o.milestone&&o.milestone.length>0?o.milestone.map(a=>e.jsx("div",{className:"rounded-lg p-2 dark:bg-gray-700 space-y-2",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex",children:[e.jsx("img",{className:"w-15 h-15 rounded-full border-2 mr-2 -ml-5 border-white dark:border-gray-800",src:fe,alt:"Member"}),e.jsxs("div",{className:"w-[90%] flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 font-medium",children:["Milestone:"," ",e.jsx("span",{className:"font-semibold",children:a.miles_title})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(a.created_on).toLocaleString()})]})]}),e.jsxs("div",{className:"ml-10 -mt-4",children:[e.jsx("div",{className:"text-xs font-bold text-gray-100 text-center flex justify-center rounded bg-red-700 w-[70px] h-[20px]",children:e.jsx("p",{className:"mt-0.5",children:"Active"})}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Deadline:"," ",e.jsx("span",{className:"font-semibold text-red-500",children:new Date(a.end_date).toLocaleDateString()})]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Status:"," ",e.jsx("span",{className:"font-semibold",children:a.status})]})]})]})},a.milestone_code)):e.jsx("div",{className:"rounded-lg p-2 dark:bg-gray-700 space-y-2",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"No milestones available for this project."})})]})]}),e.jsx($,{isVisible:l,className:"w-full md:w-[800px]",onClose:()=>m(!1),title:"Create Meeting",children:e.jsx(Pt,{project:f,onSuccess:w,onCancel:()=>m(!1)})})]}),c==="milestone"&&e.jsx("div",{children:e.jsx($t,{projectData:o})}),c==="task"&&e.jsx("div",{children:e.jsx(Ot,{projectData:o})}),c==="files"&&e.jsx("div",{children:e.jsx(Yt,{projectData:o})}),c==="timesheet"&&e.jsx("div",{children:e.jsx(Xt,{projectData:o})})]})]})},os=vt(Wt);export{os as default};
