import{w as Le}from"./with-props-DF0D9zIo.js";import{r as d,j as e,b as Ve}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{D as Re}from"./DataTable-DtyPIAGZ.js";import{C as Ue}from"./CustomPagination-CBTcVvJz.js";import{S as He}from"./SearchInput-CMdOUuSO.js";import{M as W}from"./Modal-BCIUwH-b.js";import{D as F}from"./DrapDown-CEm3nLdF.js";import{F as We,u as Q,w as Qe}from"./xlsx-DTxMWUdD.js";import{t as me,a as X,B as Y}from"./api-C04JdqFc.js";import{O as Z,V as k}from"./index-DxoBGdjx.js";import{B as ue}from"./ButtonLoader-Z62NVHwI.js";import{u as ge}from"./AuthStore-BnYeBJES.js";import{u as xe}from"./useBranchStore-kvv3vD_e.js";import"./useEmployeeStore-BJ_SZO4g.js";import{u as Ge}from"./use-click-outside-BhLpsQYS.js";import Je from"./ClientAddForm-DTfYjHQ5.js";import"./LeadsStore-C-d0npQs.js";import{U as G}from"./user-DKFoNGWn.js";import{H as J}from"./hash-Cmnw3-GM.js";import{P as ie,M as ce}from"./phone-iHDF8fYQ.js";import{C as K}from"./clipboard-list-C2ET-QCv.js";import{F as Ke}from"./file-text-BNGbNc3I.js";import{M as Xe}from"./map-pin-DetA7opX.js";import{P as Ye}from"./plus-HifIQSWH.js";import{T as pe}from"./trash-2-AUNIB88j.js";import{E as Ze}from"./eye-2Mk8PZw-.js";import{S as ea}from"./square-pen-hueQTsQ_.js";import"./index-knF4tUPh.js";/* empty css            */import"./index-DDa5wjlm.js";import"./iconBase-CajCgYY2.js";import"./createLucideIcon-RccWoOaL.js";import"./react-_sXfQCJm.js";/* empty css                         */import"./moment-C5S46NFB.js";const aa=({client:l,onSuccess:_,onCancel:M})=>{const[b,g]=d.useState(!1),[ye,P]=d.useState(null),A=ge(a=>a.accessToken),E=xe(a=>a.branchCodeOptions),[f,O]=d.useState([]),[n,j]=d.useState({branchcode:"",client_name:"",company_name:"",primary_phone:"",email:"",office_address:"",website:"",industry_type:"commercial",comm_type:"email",status:"active",contacts:[{name:"",designation:"",phone:"",email:""}]});d.useEffect(()=>{if(l){const a=l.contacts||[];O(a),j({branchcode:l.branchcode||"",client_name:l.client_name||"",company_name:l.company_name||"",primary_phone:l.primary_phone||"",email:l.email||"",office_address:l.office_address||"",website:l.website||"",industry_type:l.industry_type||"commercial",comm_type:l.comm_type||"email",status:l.status||"active",contacts:a.map(r=>({...r,type:"existing",originalName:r.name,originalEmail:r.email}))})}},[l]);const N=[{value:"commercial",label:"Commercial"},{value:"residential",label:"Residential"},{value:"industrial",label:"Industrial"},{value:"retail",label:"Retail"},{value:"hospitality",label:"Hospitality"}],w=[{value:"email",label:"Email"},{value:"call",label:"Call"},{value:"mom",label:"Meeting"},{value:"all",label:"All"},{value:"none",label:"None"}],T=[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"blacklisted",label:"Blacklisted"}],c=a=>{const{name:r,value:o}=a.target;j(s=>({...s,[r]:o}))},y=(a,r)=>{const{name:o,value:s}=r.target,m=[...n.contacts],i=f[a],u=o==="name"&&s!==(i==null?void 0:i.name)||o==="email"&&s!==(i==null?void 0:i.email)||o==="designation"&&s!==(i==null?void 0:i.designation)||o==="phone"&&s!==(i==null?void 0:i.phone);m[a]={...m[a],[o]:s,type:u?"edit":"existing"},j(L=>({...L,contacts:m}))},D=()=>{j(a=>({...a,contacts:[...a.contacts,{name:"",designation:"",phone:"",email:"",type:"add"}]}))},I=a=>{const r=n.contacts[a];let o;r.type==="add"?o=n.contacts.filter((s,m)=>m!==a):(o=[...n.contacts],o[a]={...r,type:"remove"}),j(s=>({...s,contacts:o}))},C=()=>{const a=[];return n.contacts.forEach((r,o)=>{if(r.type!=="existing"){if(r.type==="remove"){a.push({type:"remove",index:f.findIndex(s=>s.name===r.originalName&&s.email===r.originalEmail)});return}if(r.type==="edit"){const s=f.findIndex(m=>m.name===r.originalName&&m.email===r.originalEmail);a.push({type:"edit",index:s,name:r.name,designation:r.designation,phone:r.phone,email:r.email});return}r.type==="add"&&a.push({type:"add",name:r.name,designation:r.designation,phone:r.phone,email:r.email})}}),a},q=async a=>{var o,s,m,i;a.preventDefault(),g(!0);const r={data:{branchcode:n.branchcode,client_code:l.client_code,company_name:n.company_name,client_name:n.client_name,primary_phone:n.primary_phone,email:n.email,office_address:n.office_address,website:n.website,contacts:C(),industry_type:n.industry_type,comm_type:n.comm_type,status:n.status}};console.log("Submitting data:",r);try{const u=await X.put(`${Y}/client/overview/edit`,r,{headers:{Authorization:`Bearer ${A}`}});u.status===201?(k.success("Client updated successfully!"),_(),M()):(P(u.data.message||"Failed to update client"),k.error(u.data.message||"Failed to update client"))}catch(u){P(((s=(o=u.response)==null?void 0:o.data)==null?void 0:s.message)||"An error occurred"),k.error(((i=(m=u.response)==null?void 0:m.data)==null?void 0:i.message)||"Error updating client")}finally{g(!1)}},S=(a,r)=>{const o=a.type==="remove";return e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-4 gap-4 relative ${o?"opacity-50 bg-gray-100 dark:bg-gray-700":""}`,children:[e.jsx(Z,{}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(G,{className:"inline mr-1",size:14})," Contact Name"]}),e.jsx("input",{name:"name",value:a.name,onChange:s=>y(r,s),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Contact Name",required:!0,disabled:o})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(G,{className:"inline mr-1",size:14})," Designation"]}),e.jsx("input",{name:"designation",value:a.designation,onChange:s=>y(r,s),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Designation",required:!0,disabled:o})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ie,{className:"inline mr-1",size:14})," Phone"]}),e.jsx("input",{name:"phone",value:a.phone,onChange:s=>y(r,s),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Phone",required:!0,disabled:o})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ce,{className:"inline mr-1",size:14})," Email"]}),e.jsx("input",{name:"email",value:a.email,onChange:s=>y(r,s),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"email",placeholder:"Email",required:!0,disabled:o})]}),e.jsx("button",{type:"button",onClick:()=>I(r),className:"absolute -right-2 -top-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(pe,{size:16})}),o&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded",children:"Marked for removal"})})]},r)};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(Z,{position:me}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Client Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(G,{className:"inline mr-1",size:14})," Client Name"]}),e.jsx("input",{name:"client_name",value:n.client_name,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Client Name",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Client Code"]}),e.jsx("input",{value:(l==null?void 0:l.client_code)||"",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Branch Code"]}),e.jsxs("select",{name:"branchcode",value:n.branchcode,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Branch"}),E==null?void 0:E.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Company Name"]}),e.jsx("input",{name:"company_name",value:n.company_name,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Company Name",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ie,{className:"inline mr-1",size:14})," Primary Phone"]}),e.jsx("input",{name:"primary_phone",value:n.primary_phone,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Primary Phone",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ce,{className:"inline mr-1",size:14})," Email"]}),e.jsx("input",{name:"email",value:n.email,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"email",placeholder:"Email",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(K,{className:"inline mr-1",size:14})," Industry Type"]}),e.jsx("select",{name:"industry_type",value:n.industry_type,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:N.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Ke,{className:"inline mr-1",size:14})," Website"]}),e.jsx("input",{name:"website",value:n.website,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Website URL"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Address Information"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(Xe,{className:"inline mr-1",size:14})," Office Address"]}),e.jsx("textarea",{name:"office_address",value:n.office_address,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[80px]",placeholder:"Office Address",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Contacts"}),n.contacts.map((a,r)=>S(a,r)),e.jsxs("button",{type:"button",onClick:D,className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[e.jsx(Ye,{size:16})," Add Another Contact"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Communication & Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(K,{className:"inline mr-1",size:14})," Communication Type"]}),e.jsx("select",{name:"comm_type",value:n.comm_type,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:w.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(K,{className:"inline mr-1",size:14})," Status"]}),e.jsx("select",{name:"status",value:n.status,onChange:c,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:T.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:M,disabled:b,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:q,disabled:b,children:b?e.jsx(ue,{}):"Update Client"})]})]})},ta=()=>{const l=Ge({query:"(max-width: 768px)"}),[_,M]=d.useState(""),[b,g]=d.useState(1),[ye,P]=d.useState(""),[A,E]=d.useState([]),[f,O]=d.useState(""),[n,j]=d.useState([]),[N,w]=d.useState(!1),[T,c]=d.useState(0),[y,D]=d.useState(null),[I,C]=d.useState(!1),[q,S]=d.useState(!1),[a,r]=d.useState(),[o,s]=d.useState(!1),[m,i]=d.useState(""),[u,L]=d.useState(""),[V,he]=d.useState(""),[R,be]=d.useState(""),[$,fe]=d.useState(5),[U,je]=d.useState(!1),z=ge(t=>t.accessToken),[ee,ve]=d.useState("permanent"),{branches:ra,managerOptions:ke,branchCodeOptions:Ne,fetchBranches:ae,isLoading:te}=xe(),we=[{value:"",label:"All Branches"},{value:"active",label:"Active Branches"},{value:"inactive",label:"Inactive Branches"}],Ce=[{value:20,label:"20 per page"},{value:40,label:"30 per page"},{value:50,label:"40 per page"},{value:80,label:"50 per page"},{value:100,label:"100 per page"},{value:200,label:"100 per page"}];d.useEffect(()=>{ae(z)},[z]);const H=async(t=b,v=$,p=_,B=f,re=V,se=R,ne=u)=>{var le,de,oe;w(!0);try{let h=`${Y}/client/overview/read?page=${t}&limit=${v}`;p&&(h+=`&search=${p}`),B&&(h+=`&status=${B}`),re&&(h+=`&manager_id=${re}`),se&&(h+=`&branchcode=${se}`),ne&&(h+=`&dec=${ne}`);const x=await X.get(h,{headers:{Authorization:`Bearer ${z}`}});console.log("responseclient",x),E((le=x==null?void 0:x.data)==null?void 0:le.data),c((de=x==null?void 0:x.data)==null?void 0:de.totalDocuments),j(((oe=x==null?void 0:x.data)==null?void 0:oe.data)||[])}catch(h){console.error("Error fetching branch list",h),D("Failed to fetch branches")}finally{w(!1)}};d.useEffect(()=>{H()},[b,_,f,V,R,u,$]);const Se=t=>{g(t)},_e=()=>{C(!1),k.success("Client added successfully!"),ae(z),H()},Ee=()=>{S(!1),k.success("Client Update Succesfully!"),H()},De=t=>{M(t),g(1)},ze=t=>{r(t),S(!0)},Be=t=>{s(!0),r(t)},Me=async()=>{var v,p;w(!0);const t={data:{branchcode:a.branchcode,client_code:a.client_code,status:"inactive",delete_type:ee}};try{const B=await X.delete(`${Y}/client/overview/delete`,{data:t,headers:{Authorization:`Bearer ${z}`}});s(!1),k.success("Client deleted successfully!")}catch(B){D(((p=(v=B.response)==null?void 0:v.data)==null?void 0:p.message)||"An error occurred"),k.error(y||"Error deleting client",{style:{border:"1px solid rgb(185 28 28)",padding:"14px",color:"rgb(185 28 28)"},iconTheme:{primary:"rgb(185 28 28)",secondary:"#FFFAEE"}})}finally{w(!1),D(null)}},$e=()=>{L(t=>t==="desc"?"":"desc"),g(1)},Fe=t=>{O(t),g(1)},Pe=t=>{he(t),g(1)},Ae=t=>{be(t),g(1)},Oe=t=>{fe(t),g(1)},Te=()=>[{data:"Client Code"},{data:"Branch Code"},{data:"Client Name"},{data:"Company Name"},{data:"Mobile"},{data:"Designation"},{data:"Mobile"},{data:"Status"},{data:"Actions",className:"text-center"}],Ie=()=>n?n.map((t,v)=>({data:[{data:t.client_code},{data:t.branchcode},{data:t.client_name},{data:t.company_name},{data:t.primary_phone},{data:t.contacts.map(p=>p.designation).join(", ")},{data:t.contacts.map(p=>p.phone).join(", ")},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${t.status==="active"?"bg-green-800":"bg-red-700"}`}),t.status.charAt(0).toUpperCase()+t.status.slice(1)]})},{data:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(Ve,{to:`/branch/${t.id}`,children:e.jsx("button",{className:"p-1 text-blue-700 rounded hover:text-gray-500 dark:hover:text-gray-300",title:"View",children:e.jsx(Ze,{size:18})})}),e.jsx("button",{className:"p-1 text-[var(--color-primary)] rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>ze(t),title:"Edit",children:e.jsx(ea,{size:18})}),e.jsx("button",{className:"p-1 text-red-600 rounded hover:text-gray-500 dark:hover:text-gray-300",onClick:()=>Be(t),title:"Delete",children:e.jsx(pe,{size:18})})]}),className:"action-cell"}]})):[],qe=()=>{const t=Q.book_new(),v=Q.json_to_sheet(A);Q.book_append_sheet(t,v,"Branches"),Qe(t,"BranchList.xlsx")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)] dark:text-[var(--color-primary)]",children:"Client Management"}),l&&e.jsx("button",{onClick:()=>je(!U),className:"p-2 bg-gray-200 rounded-md",children:U?"Hide Filters":"Show Filters"})]}),e.jsx(Z,{position:me,reverseOrder:!1}),e.jsx("div",{className:`flex ${l?"flex-col":"items-end justify-end"} gap-4 mb-5`,children:e.jsxs("div",{className:`flex ${l?"flex-col":"flex-row"} gap-4`,children:[e.jsx(F,{options:Ce,selectedValue:$,onSelect:Oe,placeholder:"Items per page",className:"w-full md:w-[150px]"}),e.jsxs("button",{onClick:qe,className:"flex items-center justify-center text-gray-400 bg-white focus:outline-non font-medium text-sm rounded-sm border border-dotted border-gray-400 hover:text-red-700/70 px-3 dark:bg-gray-800 dark:text-gray-300 py-2.5",children:[e.jsx(We,{className:"mr-1"}),!l&&"Export Excel"]}),e.jsxs("button",{onClick:()=>C(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",children:[!l&&"New Client"," +"]})]})}),e.jsx("div",{className:`${l&&!U?"hidden":"block"} mb-4`,children:e.jsxs("div",{className:`${l?"grid grid-cols-1 gap-3":"flex flex-wrap justify-between items-center gap-3"}`,children:[e.jsx(F,{options:we,selectedValue:f,onSelect:Fe,placeholder:"Branch Status",className:"w-full md:w-[200px]"}),e.jsx(F,{options:Ne,selectedValue:R,onSelect:Ae,placeholder:"Branch Code",className:"w-full md:w-[200px]",isLoading:te}),e.jsx(F,{options:ke,selectedValue:V,onSelect:Pe,placeholder:"Manager",className:"w-full md:w-[200px]",isLoading:te}),e.jsxs("button",{onClick:$e,className:`${l?"w-full":"w-[200px]"} h-[40px] text-white bg-[var(--color-primary)] hover-effect px-2 py-1 rounded-sm`,children:["Sort ",u==="desc"?"↑":"↓"]}),e.jsx("div",{className:`${l?"w-full":"w-[200px] mt-3"}`,children:e.jsx(He,{value:_,onChange:De,placeholder:"Search branches...",className:"w-full"})})]})}),N&&e.jsx("div",{className:"text-center py-4",children:"Loading..."}),y&&e.jsx("div",{className:"text-red-500 text-center py-4",children:y}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Re,{thead:Te,tbody:Ie,responsive:!0,className:"min-w-full"})})]}),e.jsx("div",{className:" border-t border-gray-200 dark:border-gray-700 p-4",children:e.jsx(Ue,{total:T,currentPage:b,defaultPageSize:$,onChange:Se,paginationLabel:"Clients",isScroll:!0})})]}),e.jsx(W,{isVisible:I,className:"w-full md:w-[800px]",onClose:()=>C(!1),title:"Create New Client",children:e.jsx(Je,{onSuccess:_e,onCancel:()=>C(!1)})}),e.jsx(W,{isVisible:o,className:"w-full md:w-[600px]",onClose:()=>s(!1),title:"Delete Client",children:e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Confirm Deletion"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Are you sure you want to delete this client? This action cannot be undone."})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:"Delete Type"}),e.jsxs("select",{value:ee,onChange:t=>ve(t.target.value),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"permanent",children:"Permanent Delete"}),e.jsx("option",{value:"temp",children:"Soft Delete (Mark as Inactive)"})]})]}),e.jsxs("div",{className:"flex justify-center gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:()=>s(!1),disabled:N,children:"Cancel"}),e.jsx("button",{type:"button",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:Me,disabled:N,children:N?e.jsx(ue,{}):"Delete Client"})]})]})}),e.jsx(W,{isVisible:q,className:"w-full md:w-[800px]",onClose:()=>S(!1),title:"Edit Client",children:e.jsx(aa,{client:a,onSuccess:Ee,onCancel:()=>S(!1)})})]})},Ia=Le(ta);export{Ia as default};
