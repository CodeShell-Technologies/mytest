import{w as he}from"./with-props-DF0D9zIo.js";import{r as d,j as e,c as pe,u as fe}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{M as ie}from"./Modal-BCIUwH-b.js";import"./DataTable-DtyPIAGZ.js";import"./CustomPagination-CBTcVvJz.js";import"./SearchInput-CMdOUuSO.js";import{t as re,a as C,B as S}from"./api-C04JdqFc.js";import{u as K}from"./AuthStore-BnYeBJES.js";import{O as ne,V as b}from"./index-DxoBGdjx.js";import{B as xe}from"./ButtonLoader-Z62NVHwI.js";import"./ProjectStore-Bmk5yusB.js";import"./LeadsStore-C-d0npQs.js";import{u as be}from"./useBranchStore-kvv3vD_e.js";import{K as ye,N as je}from"./useEmployeeStore-BJ_SZO4g.js";import{C as J}from"./clipboard-list-C2ET-QCv.js";import{U as ke}from"./user-DKFoNGWn.js";import{T as ve}from"./tag-hjf6KM-t.js";import{T as Ne}from"./trash-2-AUNIB88j.js";import{P as ge}from"./plus-HifIQSWH.js";import{S as oe}from"./StarRating-CpKCQTJJ.js";import{V as we,F as de,L as _e,M as Ce,C as Se}from"./video-BzePKQuD.js";import{F as le}from"./file-text-BNGbNc3I.js";import{F as Te}from"./file-QxKA-9Fo.js";import{C as De}from"./calendar-C_LRGMui.js";import{C as ze}from"./clock-CzOQJT5p.js";import{U as ae}from"./users-CXAhoVGa.js";import{X as se}from"./x-BfrbTbzo.js";import{C as ce}from"./chevron-up-DjUqBI0v.js";import{C as me}from"./chevron-down-DOBgonSl.js";import{D as Ae}from"./dot-BRbGo9NO.js";import{L as Fe}from"./log-out-DAuSHV9-.js";import{M as Me}from"./message-square-text-D3my64cM.js";import{C as Pe}from"./calendar-check-2-BfAjpHZ6.js";import{C as Be}from"./calendar-clock-hGpbKQUd.js";import{c as $e}from"./createLucideIcon-RccWoOaL.js";import{E as Ee}from"./eye-2Mk8PZw-.js";import"./index-DDa5wjlm.js";import"./iconBase-CajCgYY2.js";import"./index-knF4tUPh.js";/* empty css            */import"./react-_sXfQCJm.js";/* empty css                         */import"./moment-C5S46NFB.js";import"./index-DeMEeQCX.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]],Le=$e("user-round-plus",Re),Ve=({taskData:p,onSuccess:P,onCancel:E})=>{console.log("taskdattaaaa",p);const[T,F]=d.useState(!1),[R,h]=d.useState(null),[y,I]=d.useState([]),[j,D]=d.useState([]),q=K(g=>g.accessToken),[x,M]=d.useState({branchcode:p.branchcode,task_id:p.id,collaborate:[{subtask_title:"",staff_id:"",status:"open"}],status:"draft"});d.useEffect(()=>{D([])},[]);const U=async()=>{const g=p.team_id;console.log("teamiddd",g);try{const u=await C.get(`${S}/teams/read/profile?team_id=${g}`,{headers:{Authorization:`Bearer ${q}`}});if(console.log("teammeberrssss",u),u.data&&u.data.data){const l=u.data.data.members;console.log("memberrss",l),D(l)}}catch(u){console.error("Error fetching team members:",u),b.error("Failed to load team members")}};d.useEffect(()=>{U()},[]);const w=(g,u)=>{const{name:l,value:A}=u.target,m=[...x.collaborate];m[g]={...m[g],[l]:A},M(k=>({...k,collaborate:m}))},z=()=>{M(g=>({...g,collaborate:[...g.collaborate,{subtask_title:"",staff_id:"",status:"open"}]}))},B=g=>{if(x.collaborate.length===1)return;const u=x.collaborate.filter((l,A)=>A!==g);M(l=>({...l,collaborate:u}))},H=async g=>{var l,A,m,k,n,_;g.preventDefault(),F(!0),h(null);const u={data:{branchcode:p.branchcode,task_id:p.id,collaborate:x.collaborate}};try{const v=await C.post(`${S}/project/task/members/create`,u,{headers:{Authorization:`Bearer ${q}`}});if(((m=(A=(l=v.data)==null?void 0:l.data)==null?void 0:A.skipped)==null?void 0:m.length)>0){const N=v.data.data.skipped[0].reason;if(N){h(N),b.error(N);return}}if(v.status===200||v.status===201)b.success("Task Member added successfully!"),P();else throw new Error(((k=v.data)==null?void 0:k.message)||"Failed to create task")}catch(v){const N=((_=(n=v.response)==null?void 0:n.data)==null?void 0:_.message)||v.message||"An error occurred while creating task";h(N),b.error(N)}finally{F(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[R&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:R}),e.jsx(ne,{position:re}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Collaborators"}),x.collaborate.map((g,u)=>e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 relative",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Sub Task Title"]}),e.jsx("input",{name:"subtask_title",value:g.subtask_title,onChange:l=>w(u,l),type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter Subtask Title",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ke,{className:"inline mr-1",size:14})," Team Member"]}),e.jsxs("select",{name:"staff_id",value:g.staff_id,onChange:l=>w(u,l),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Team Member"}),j==null?void 0:j.map(l=>e.jsxs("option",{value:l.staff_id,children:[l.staff_name," (",l.department,")"]},l.staff_id))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ve,{className:"inline mr-1",size:14})," Collaboration Status"]}),e.jsxs("select",{name:"status",value:g.status,onChange:l=>w(u,l),className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"inprocess",children:"In Progress"}),e.jsx("option",{value:"verified-closed",children:"Completed"}),e.jsx("option",{value:"archived",children:"Archived"}),e.jsx("option",{value:"rework",children:"Rework"}),e.jsx("option",{value:"drop",children:"Drop"})]})]}),u>0&&e.jsx("button",{type:"button",onClick:()=>B(u),className:"absolute -right-2 -top-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:e.jsx(Ne,{size:16})})]},u)),e.jsxs("button",{type:"button",onClick:z,className:"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:[e.jsx(ge,{size:16})," Add Another Collaborator"]})]})," ",e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:E,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:H,disabled:T,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm disabled:opacity-70",children:T?e.jsx(xe,{}):"Create Task"})]})]})},Ie=({taskData:p,onSuccess:P,onCancel:E})=>{console.log("projectcodeee",p);const[T,F]=d.useState(!1),[R,h]=d.useState(null),[y,I]=d.useState([]),[j,D]=d.useState([]),[q,x]=d.useState([]),[M,U]=d.useState([]),[w,z]=d.useState([]),[B,H]=d.useState(!1),[g,u]=d.useState(!1),l=K(a=>a.accessToken);K(a=>a.permissions)[0].role,be(a=>a.branchCodeOptions),K(a=>a.branchcode);const[m,k]=d.useState([{type:"",branchcode:"",teamId:"",staffType:"staff"}]),[n,_]=d.useState({branchcode:p.branchcode,task_id:p.task_id,title:"",notes:"",comm_type:"meeting",status:"active",doc_status:"none",meet_link:"",start_date_time:"2025-02-01T00:00:00Z,",end_date_time:"2025-02-01T23:59:59Z",category:"branch",field:"custom",doc:[],custom:[],communication_participants:[]});d.useEffect(()=>{(async()=>{try{const t=await C.get(`${S}/branch/dropdown`,{headers:{Authorization:`Bearer ${l}`}});x(t.data.result)}catch(t){console.error("Error fetching initial data:",t),b.error("Failed to load initial data")}})()},[l]),d.useEffect(()=>{const a=[...new Set(m.filter(s=>s.type==="team"&&s.branchcode).map(s=>s.branchcode))],t=async()=>{try{const s=a.map(async c=>(await C.get(`${S}/teams/read?branchcode=${c}`,{headers:{Authorization:`Bearer ${l}`}})).data.data),r=await Promise.all(s);U(r.flat())}catch(s){console.error("Error fetching teams:",s),b.error("Failed to load teams")}};a.length>0&&t()},[m,l]),d.useEffect(()=>{n.category==="custom"?L():n.category==="branch"&&n.branchcode?v():n.category==="team"&&N()},[n.category,n.branchcode,m]);const v=async()=>{try{const a=await C.post(`${S}/users/filter`,{branch:[n.branchcode],team:[],type:["staff","client"]},{headers:{Authorization:`Bearer ${l}`}});z([...a.data.staff,...a.data.client])}catch(a){console.error("Error fetching branch participants:",a),b.error("Failed to fetch participants")}},N=async()=>{try{const a=await C.post(`${S}/users/filter`,{branch:[n.branchcode],team:[],type:["staff","client"]},{headers:{Authorization:`Bearer ${l}`}});z([...a.data.staff,...a.data.client])}catch(a){console.error("Error fetching branch participants:",a),b.error("Failed to fetch participants")}},L=async()=>{try{const a=m.filter(i=>i.type==="branch"&&i.branchcode).map(i=>i.branchcode),t=m.filter(i=>i.type==="team"&&i.teamId&&i.branchcode).map(i=>{const V=i.teamId.split("/"),ue=V[V.length-1];return`${i.branchcode}/TEAM/${ue}`}),s=m.filter(i=>i.type==="team"&&i.branchcode).map(i=>i.branchcode),r=[...new Set([...a,...s])],c=[];m.forEach(i=>{(i.type==="branch"||i.type==="team")&&(i.staffType==="staff"&&c.push("staff"),i.staffType==="client"&&c.push("client"),i.staffType==="both"&&(c.push("staff"),c.push("client")))});const o=[...new Set(c)];if(console.log("Sending filter request with:",{branch:r,team:t,type:o.length>0?o:["staff","client"]}),r.length>0||t.length>0){const i=await C.post(`${S}/users/filter`,{branch:r,team:t,type:o.length>0?o:["staff","client"]},{headers:{Authorization:`Bearer ${l}`}});z([...i.data.staff,...i.data.client])}else z([])}catch(a){console.error("Error fetching custom participants:",a),b.error("Failed to fetch participants")}},f=a=>{const{name:t,value:s}=a.target;_(r=>({...r,[t]:s})),t==="category"&&(D([]),k([{type:"",branchcode:"",teamId:"",staffType:"staff"}]))},O=a=>{const t=Array.from(a.target.files);if(t.length===0)return;const s=t.map(r=>({file:r,name:r.name,type:r.type.split("/")[1]||"file"}));_(r=>({...r,doc:[...r.doc,...s]}))},X=a=>{_(t=>{const s=[...t.doc];return s.splice(a,1),{...t,doc:s}})},Q=a=>{y.some(t=>t.person_id===a.person_id)||I([...y,{person_id:a.person_id,role:a.role,isdocvisible:n.comm_type==="doc"}])},G=a=>{I(y.filter(t=>t.person_id!==a))},W=a=>{I(y.map(t=>t.person_id===a?{...t,isdocvisible:!t.isdocvisible}:t))},Z=(a,t)=>{if(a==="team"){const s=m.find(r=>r.type==="team"&&r.teamId===t);if(s&&s.branchcode){const r=t.split("/"),c=r[r.length-1],o=`${s.branchcode}/TEAM/${c}`;j.some(i=>i.target_id===o&&i.type===a)||D([...j,{target_id:o,type:a}]);return}}j.some(s=>s.target_id===t&&s.type===a)||D([...j,{target_id:t,type:a}])},$=(a,t,s)=>{const r=[...m];r[a][t]=s,t==="type"?(r[a].branchcode="",r[a].teamId=""):t==="branchcode"&&r[a].type==="team"&&(r[a].teamId=""),k(r)},Y=()=>{k([...m,{type:"",branchcode:"",teamId:"",staffType:"staff"}])},ee=a=>{var t,s,r,c;if(m.length>1){const o=[...m];o.splice(a,1),k(o),((t=o[a])==null?void 0:t.type)==="branch"&&((s=o[a])!=null&&s.branchcode)?D(j.filter(i=>!(i.type==="branch"&&i.target_id===o[a].branchcode))):((r=o[a])==null?void 0:r.type)==="team"&&((c=o[a])!=null&&c.teamId)&&D(j.filter(i=>!(i.type==="team"&&i.target_id===o[a].teamId)))}},te=async a=>{var t,s;a.preventDefault(),F(!0);try{const r={branchcode:p.branchcode,task_id:p.id,title:n.title,notes:n.notes,comm_type:n.comm_type,status:n.status,meet_link:n.meet_link,start_date_time:n.start_date_time,end_date_time:n.end_date_time,doc_status:n.doc_status,category:n.category,field:n.field,custom:j,communication_participants:y},c=new FormData;c.append("data",JSON.stringify([r])),n.doc.forEach(i=>{c.append("URL",i.file)}),console.log("formataaaanew form",c);const o=await C.post(`${S}/doc_meet/create`,c,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"multipart/form-data"}});o.status===201?(P(),_({branchcode:project.branchcode,client_code:project.client_code,project_code:project.project_code,title:"",notes:"",comm_type:"meeting",status:"active",doc_status:"none",meet_link:"",start_date_time:"2025-02-01T00:00:00Z,",end_date_time:"2025-02-01T23:59:59Z",category:"branch",field:"custom",doc:[],custom:[],communication_participants:[]})):h(o.data.message||"Failed to create communication")}catch(r){h(((s=(t=r.response)==null?void 0:t.data)==null?void 0:s.message)||"An error occurred"),b.error(`Error creating ${n.comm_type==="meeting"?"meeting":"document"}`)}finally{F(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(ne,{position:re}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[n.comm_type==="meeting"?e.jsx(we,{className:"inline mr-2"}):e.jsx(de,{className:"inline mr-2"}),n.comm_type==="meeting"?"Meeting Information":"Document Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(le,{className:"inline mr-1",size:14})," Title",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"title",value:n.title,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Title",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Type",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsxs("select",{name:"comm_type",value:n.comm_type,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"meeting",children:"Meeting"}),e.jsx("option",{value:"doc",children:"Document"}),e.jsx("option",{value:"followup",children:"Follow-up"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:n.status,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"declined",children:"Declined"})]})]}),n.comm_type==="doc"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Te,{className:"inline mr-1",size:14})," Document Status"]}),e.jsxs("select",{name:"doc_status",value:n.doc_status,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"archived",children:"Archived"}),e.jsx("option",{value:"verified-closed",children:"Verified & Closed"}),e.jsx("option",{value:"rework",children:"Rework"})]})]}),n.comm_type==="meeting"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_e,{className:"inline mr-1",size:14})," Meeting Link",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"meet_link",value:n.meet_link,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"url",placeholder:"https://meet.google.com/example",required:!0})]}),n.comm_type==="meeting"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(De,{className:"inline mr-1",size:14})," Start Date/Time",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"start_date_time",value:n.start_date_time,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"datetime-local",required:!0})]}),n.comm_type==="meeting"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ze,{className:"inline mr-1",size:14})," End Date/Time",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"end_date_time",value:n.end_date_time,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"datetime-local",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ae,{className:"inline mr-1",size:14})," Category",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsxs("select",{name:"category",value:n.category,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"branch",children:"Branch"}),e.jsx("option",{value:"team",children:"Team"}),e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Field"]}),e.jsxs("select",{name:"field",value:n.field,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"project",children:"Project"}),e.jsx("option",{value:"task",children:"Task"}),e.jsx("option",{value:"lead",children:"Lead"}),e.jsx("option",{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(le,{className:"inline mr-1",size:14})," Notes"]}),e.jsx("textarea",{name:"notes",value:n.notes,onChange:f,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"Notes...",required:!0})]}),n.comm_type==="doc"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(de,{className:"inline mr-1",size:14})," Documents"]}),e.jsx("input",{type:"file",id:"file-upload",multiple:!0,onChange:O,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-[var(--color-primary)] file:text-white hover:file:bg-[var(--color-hover)]"}),n.doc.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:n.doc.map((a,t)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm",children:a.name}),e.jsx("button",{type:"button",onClick:()=>X(t),className:"text-red-500 hover:text-red-700",children:e.jsx(se,{size:16})})]},t))})]}),n.category==="custom"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>u(!g),children:[e.jsxs("h4",{className:"text-sm font-semibold",children:[e.jsx(ae,{className:"inline mr-2",size:16}),"Custom Filters (",j.length,")"]}),g?e.jsx(ce,{size:16}):e.jsx(me,{size:16})]}),g&&e.jsxs("div",{className:"mt-4 space-y-4",children:[m.map((a,t)=>e.jsxs("div",{className:"space-y-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h5",{className:"text-sm font-medium",children:["Filter ",t+1]}),m.length>1&&e.jsx("button",{type:"button",onClick:()=>ee(t),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(Ce,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Filter Type"}),e.jsxs("select",{value:a.type,onChange:s=>$(t,"type",s.target.value),className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select filter type"}),e.jsx("option",{value:"branch",children:"Branch"}),e.jsx("option",{value:"team",children:"Team"})]})]}),(a.type==="branch"||a.type==="team")&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Branch"}),e.jsxs("select",{value:a.branchcode,onChange:s=>{$(t,"branchcode",s.target.value),$(t,"teamId","")},className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select branch"}),q.map(s=>e.jsxs("option",{value:s.branchcode,children:[s.branchcode," - ",s.name]},s.branchcode))]})]}),a.type==="team"&&a.branchcode&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Team"}),e.jsxs("select",{value:a.teamId,onChange:s=>{$(t,"teamId",s.target.value),s.target.value&&Z("team",s.target.value)},className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select team"}),M.filter(s=>s.branchcode===a.branchcode).map(s=>e.jsx("option",{value:s.team_id,children:s.team_name},s.team_id))]})]}),(a.type==="branch"||a.type==="team")&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Staff Type"}),e.jsxs("select",{value:a.staffType,onChange:s=>$(t,"staffType",s.target.value),className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"both",children:"Both"})]})]})]}),a.type==="branch"&&a.branchcode&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>Z("branch",a.branchcode),className:"text-xs bg-red-700 hover:bg-red-700 text-white px-2 py-1 rounded",children:"Add Branch Filter"})})]},t)),e.jsxs("button",{type:"button",onClick:Y,className:"flex items-center text-sm text-blue-500 hover:text-blue-700",children:[e.jsx(ge,{size:16,className:"mr-1"}),"Add Another Filter"]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>H(!B),children:[e.jsxs("h4",{className:"text-sm font-semibold",children:[e.jsx(ae,{className:"inline mr-2",size:16}),"Participants (",y.length,")"]}),B?e.jsx(ce,{size:16}):e.jsx(me,{size:16})]}),B&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:n.category==="custom"?"Select participants from filtered results":`Select participants from ${n.category}`}),w.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[e.jsxs("span",{children:[a.person_id," (",a.role,")"]}),y.some(t=>t.person_id===a.person_id)?e.jsx("button",{type:"button",onClick:()=>G(a.person_id),className:"text-red-500 hover:text-red-700",children:e.jsx(se,{size:16})}):e.jsx("button",{type:"button",onClick:()=>Q(a),className:"text-green-500 hover:text-green-700",children:e.jsx(Se,{size:16})})]},a.person_id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No participants available based on current filters"})]}),y.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Participants"}),e.jsx("div",{className:"space-y-2",children:y.map(a=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[e.jsxs("span",{children:[a.person_id," (",a.role,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n.comm_type==="doc"&&e.jsxs("label",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"checkbox",checked:a.isdocvisible,onChange:()=>W(a.person_id),className:"rounded"}),e.jsx("span",{className:"text-xs",children:"View Doc"})]}),e.jsx("button",{type:"button",onClick:()=>G(a.person_id),className:"text-red-500 hover:text-red-700",children:e.jsx(se,{size:16})})]})]},a.person_id))})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:E,disabled:T,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:te,disabled:T,children:T?e.jsx(xe,{}):n.comm_type==="meeting"?"Create Meeting":"Upload Document"})]})]})};function qe(){const p=[{uri:"/documents/Abc Client Documents.pdf",fileType:"pdf",fileName:"Abc Client Documents.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject draft.pdf",fileType:"pdf",fileName:"AbcProject Meeting Document.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject Final 2 Documents.pdf",fileType:"pdf",fileName:"Abc company overview.pdf",fileSize:"15MB"},{uri:"/documents/AbcProject final Document.pdf",fileType:"pdf",fileName:"Abc structure Documents.pdf",fileSize:"15MB"}],[P,E]=d.useState(p[0]),[T,F]=d.useState(0),R=h=>{E(h),F(y=>y+1)};return e.jsxs("div",{className:"flex flex-col h-[1050px] p-6 bg-gray-50",children:[e.jsx("h1",{className:"text-xl font-bold text-red-800 mb-8",children:"Client Documents"}),e.jsxs("div",{className:"flex flex-1 gap-6 overflow-hidden",children:[e.jsxs("div",{className:"w-96 flex flex-col border-l border-gray-200 pl-6 dark:border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-700 dark:text-gray-300",children:"Documents List"}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",children:e.jsx("ul",{className:"space-y-2",children:p.map(h=>e.jsx("li",{className:`p-3 rounded-lg cursor-pointer transition-all duration-200 ${P.uri===h.uri?"bg-red-50/80 border-l-4 border-red-600 shadow-sm dark:bg-red-900/20 dark:border-red-500":"bg-white hover:bg-gray-50 dark:bg-gray-800 dark:hover:bg-gray-700/70"}`,onClick:()=>R(h),children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"mr-3 mt-0.5",children:h.fileType==="pdf"?e.jsx("svg",{className:"w-5 h-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):h.fileType==="doc"||h.fileType==="docx"?e.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate dark:text-gray-200",children:h.fileName}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:"text-xs font-mono text-gray-500 dark:text-gray-400",children:h.fileType.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:h.fileSize||"--"})]})]})]})},h.uri))})})]}),e.jsx("div",{className:"flex-1 bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx(ye,{documents:[P],pluginRenderers:je,theme:{primary:"rgb(185 28 28)",secondary:"#BDBDBD",tertiary:"#BDBDBD",textPrimary:"#ffffff",textSecondary:"rgb(185 28 28)",textTertiary:"rgb(185 28 28)",disableThemeScrollbar:!1},config:{header:{disableHeader:!1,disableFileName:!0,retainURLParams:!1}}},T)})]})]})}const Ue=()=>{var a;const[p,P]=d.useState(""),[E,T]=d.useState(1),[F,R]=d.useState(!1),[h,y]=d.useState(""),[I,j]=d.useState([]),[D,q]=d.useState(""),[x,M]=d.useState(),[U,w]=d.useState(!1),[z,B]=d.useState(null),[H,g]=d.useState(),[u,l]=d.useState(!1),[A,m]=d.useState(!1),[k,n]=d.useState("taskmeber"),_=K(t=>t.accessToken),{id:v}=pe(),N=fe(),[L,f]=d.useState({}),O=async()=>{var t,s,r,c;try{w(!0);const o=await C.get(`${S}/project/task/read?taskid=${v}`,{headers:{Authorization:`Bearer ${_}`}});M((t=o==null?void 0:o.data)==null?void 0:t.data[0]);const i={};(c=(r=(s=o==null?void 0:o.data)==null?void 0:s.data[0])==null?void 0:r.participantdetails)==null||c.forEach(V=>{i[V.participants_id]={status:V.status,rating:V.rating||0,showRating:!1}}),f(i),w(!1)}catch(o){B(o.message),w(!1)}};d.useEffect(()=>{O()},[v]);const X=(t,s)=>{f(r=>({...r,[t]:{...r[t],status:s,showRating:s==="verified-closed"}})),s!=="verified-closed"&&Z(t,s)},Q=(t,s)=>{f(r=>({...r,[t]:{...r[t],rating:s}}))},G=async t=>{const{status:s,rating:r}=L[t];if(r<1||r>5){b.error("Please select a rating between 1 and 5");return}await Z(t,s,r),f(c=>({...c,[t]:{...c[t],showRating:!1}}))},W=[{id:"taskmeber",label:"Tasks Details"},{id:"taskdoc",label:"Task Documents"}],Z=async(t,s,r=null)=>{const c={data:{status:s,...s==="verified-closed"&&r!==null?{rating:r}:{}}};try{await C.put(`${S}/project/task/members/edit/${t}`,c,{headers:{Authorization:`Bearer ${_}`}}),M(o=>({...o,participantdetails:o.participantdetails.map(i=>i.participants_id===t?{...i,status:s,...s==="verified-closed"?{rating:r}:{}}:i)})),b.success("Status updated successfully!")}catch(o){console.error("Error updating participant:",o),b.error("Failed to update status"),O()}},$=t=>{g(t),l(!0)},Y=()=>{l(!1),b.success("Member added successfully!"),O()},ee=t=>{N(`/member_view/${t}`)},te=()=>{m(!1),b.success("Meeting and Document Created successfully!")};return U?e.jsx("div",{className:"p-4",children:"Loading..."}):z?e.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",z]}):x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(ne,{position:re}),e.jsx("div",{className:"p-4 text-red-700 mb-10",children:e.jsxs("div",{className:"flex gap-5",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Task View Page"}),e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ml-3 mt-2 bg-green-100 text-green-800 dark:bg-green-800/25 dark:text-green-400",children:[e.jsx(Ae,{}),x.status]})]})}),e.jsx("div",{children:e.jsxs("button",{className:"text-gray-500 bg-gray-200 px-3 py-1 rounded-lg mt-6",onClick:()=>N(-1),children:[e.jsx(Fe,{className:"inline rotate-180 text-gray-500 mr-3"}),"Go Back"]})})]}),e.jsxs("div",{className:"w-full max-w-full mx-auto p-10 bg-white dark:bg-gray-800 rounded-xl shadow-lg space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-600 dark:text-white",children:x.task_title}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>m(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",children:["New Meeting"," ",e.jsx(Me,{className:"ml-2",size:15})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Project:"})," ",x.projecttitle]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Milestone:"})," ",x.milestonetitle]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Priority:"})," ",x.task_priority]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Assigned By:"})," ",x.handlername]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-green-700 dark:text-gray-100",children:[e.jsx(Pe,{className:"inline",size:20})," Start Date:"]})," ",new Date(x.start_date).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-medium text-red-700 dark:text-gray-100",children:[e.jsx(Be,{className:"inline",size:20})," End Date:"]})," ",new Date(x.end_date).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Duration:"})," ",x.duration_days," days"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Team:"})," ",x.teamname]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-100",children:"Client:"})," ",x.client_name]})]}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-200 mt-4",children:e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:"Task Description:"}),e.jsx("br",{}),x.notes]})}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-4",children:[e.jsx("div",{className:"text-gray-700 dark:text-gray-200",children:e.jsx("span",{className:"font-semibold",children:"Task Progress:"})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-[250px] rounded-full h-2.5 bg-gray-200 dark:bg-gray-700",children:e.jsx("div",{className:"bg-red-700 h-2.5 rounded-full transition-all duration-500",style:{width:"70%"}})}),e.jsx("span",{className:"text-red-700 ml-3",children:"70%"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mt-5 mb-5",children:e.jsx("nav",{className:"flex -mb-px",children:W.map(t=>e.jsx("button",{onClick:()=>n(t.id),className:`mr-8 py-4 px-1 border-b-2 font-medium text-sm ${k===t.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:t.label},t.id))})}),k==="taskmeber"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full max-w-full mx-auto p-6 bg-white dark:bg-gray-800 rounded-xl shadow-lg mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-600 dark:text-white",children:"Task Participants"}),e.jsx("div",{className:"flex",children:e.jsxs("button",{onClick:()=>$(x),className:"bg-red-700 hover:bg-red-800 text-white px-6 py-1.5 rounded text-sm",children:[e.jsx(Le,{size:15,className:"inline"})," Add"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:(a=x.participantdetails)==null?void 0:a.map(t=>{var s,r,c;return e.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 p-4 rounded-lg shadow hover:transition-shadow hover:scale-103",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-800 dark:text-white",children:t.subtitle}),e.jsx("p",{className:"text-sm text-red-600 dark:text-gray-300",children:t.name})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(oe,{rating:t.rating||0,editable:!1}),e.jsx("button",{onClick:()=>ee(t.participants_id),className:"text-red-600 hover:text-red-800",title:"View",children:e.jsx(Ee,{size:20})})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("select",{value:((s=L[t.participants_id])==null?void 0:s.status)||t.status,onChange:o=>X(t.participants_id,o.target.value),className:"w-full p-2 text-md rounded border dark:bg-gray-600 dark:border-gray-500",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"inprocess",children:"In Progress"}),e.jsx("option",{value:"archived",children:"Archived"}),e.jsx("option",{value:"drop",children:"Drop"}),e.jsx("option",{value:"verified-closed",children:"Verified & Closed"}),e.jsx("option",{value:"rework",children:"Rework"})]}),((r=L[t.participants_id])==null?void 0:r.showRating)&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Rate this task (1-5):"}),e.jsx(oe,{rating:((c=L[t.participants_id])==null?void 0:c.rating)||0,editable:!0,onRatingChange:o=>Q(t.participants_id,o)})]}),e.jsx("button",{onClick:()=>G(t.participants_id),className:"w-full bg-red-700 hover:bg-red-800 text-white py-1 rounded text-sm",children:"Submit Rating"})]})]}),e.jsx("p",{className:"text-sm text-red-600 dark:text-gray-300 p-4 flex justify-end",children:new Date(t.lastupdate).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})})]},t.participants_id)})})]}),e.jsx("div",{className:"flex"})]}),k==="taskdoc"&&e.jsx(qe,{}),e.jsx(ie,{isVisible:A,className:"w-full md:w-[800px]",onClose:()=>m(!1),title:"Create Meeting",children:e.jsx(Ie,{taskData:x,onSuccess:te,onCancel:()=>m(!1)})}),e.jsx(ie,{isVisible:u,className:"w-full md:w-[800px]",onClose:()=>l(!1),title:"Add Task Member Form",children:e.jsx(Ve,{onSuccess:Y,onCancel:()=>l(!1),taskData:H})})]}):e.jsx("div",{className:"p-4",children:"No task data found"})},Pt=he(Ue);export{Pt as default};
