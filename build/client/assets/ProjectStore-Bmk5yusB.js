import{a as n,B as i}from"./api-C04JdqFc.js";import{p as m}from"./AuthStore-BnYeBJES.js";import{c as g}from"./react-_sXfQCJm.js";const $=g(m(a=>({clients:[],clientscodeOptions:[],isLoading:!1,error:null,fetchClients:async o=>{var c;try{a({isLoading:!0});const t=await n.get(`${i}/client/overview/read?limit=1000`,{headers:{Authorization:`Bearer ${o}`}});console.log("responseeeclientzustandd",t);const r=((c=t==null?void 0:t.data)==null?void 0:c.data)||[],l=[...new Set(r.map(s=>JSON.stringify({value:s.client_code,label:s.client_name})))].map(s=>JSON.parse(s));console.log("zustandclienttt",r,l),a({clients:r,clientscodeOptions:l})}catch(t){a({error:t,isLoading:!1})}}}),{name:"client-storage"})),v=g(m(a=>({allprojects:[],branchProject:[],Allmilestone:[],branchMilestone:[],allProjectcodeOptions:[],branchProjectOption:[],allMilestonecodeOptions:[],branchMilestonecodeOptions:[],isLoading:!1,error:null,fetchProject:async(o,c)=>{try{a({isLoading:!0});const t=await n.get(`${i}/project/overview/read`,{headers:{Authorization:`Bearer ${o}`}});console.log("responseeeprojectzus",t.data.data);const r=await n.get(`${i}/project/overview/read`,{headers:{Authorization:`Bearer ${o}`}});console.log("projectbranchzuz",r);const l=await n.get(`${i}/project/milestone/read`,{headers:{Authorization:`Bearer ${o}`}}),s=await n.get(`${i}/project/milestone/read?branchcode=${c}`,{headers:{Authorization:`Bearer ${o}`}}),d=t.data.data||[],p=r.data.data||[],h=l.data.data||[],u=s.data.data||[],j=[...new Set(d.map(e=>JSON.stringify({value:e.project_code,label:e.title})))].map(e=>JSON.parse(e)),O=[...new Set(p.map(e=>JSON.stringify({value:e.project_code,label:e.title})))].map(e=>JSON.parse(e)),b=[...new Set(h.map(e=>JSON.stringify({value:e.milestone_code,label:e.miles_title})))].map(e=>JSON.parse(e));a({allProjects:d,branchProject:p,Allmilestone:h,branchMilestone:u,allProjectcodeOptions:j,branchProjectOption:O,allMilestonecodeOptions:b})}catch(t){a({error:t,isLoading:!1})}}}),{name:"project-storage"}));export{v as a,$ as u};
