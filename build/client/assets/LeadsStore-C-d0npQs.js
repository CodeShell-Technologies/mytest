import{a as d,B as r}from"./api-C04JdqFc.js";import{p as L}from"./AuthStore-BnYeBJES.js";import{c as $}from"./react-_sXfQCJm.js";const y=$(L(o=>({leads:[],campaigns:[],campaigncodeOptions:[],branchCampaign:[],branchCampaigncodeOptions:[],leadcodeOptions:[],isLoading:!1,error:null,fetchLeads:async(n,S)=>{var s,c,l,g,p,m;try{o({isLoading:!0});const t=await d.get(`${r}/campaign/leads/read?limit=1000`,{headers:{Authorization:`Bearer ${n}`}}),i=await d.get(`${r}/campaign/overview/read?limit=1000`,{headers:{Authorization:`Bearer ${n}`}}),e=await d.get(`${r}/campaign/overview/read?branchcode=${S}&limit=1000`,{headers:{Authorization:`Bearer ${n}`}});console.log("response for the zustand stored datas for leads",(s=t==null?void 0:t.data)==null?void 0:s.data,(c=i==null?void 0:i.data)==null?void 0:c.data,(l=e==null?void 0:e.data)==null?void 0:l.data);const f=((g=t==null?void 0:t.data)==null?void 0:g.data)||[],O=((p=i==null?void 0:i.data)==null?void 0:p.data)||[],w=((m=e==null?void 0:e.data)==null?void 0:m.data)||[],h=[...new Set(f.map(a=>JSON.stringify({value:a.id,label:a.lead_name})))].map(a=>JSON.parse(a)),u=[...new Set(O.map(a=>JSON.stringify({value:a.campaign_code,label:a.campaignname})))].map(a=>JSON.parse(a)),v=[...new Set(w.map(a=>JSON.stringify({value:a.campaign_code,label:a.campaignname})))].map(a=>JSON.parse(a));console.log("lead options",h),console.log("campaign options",u),o({leads:f,campaigns:O,campaigncodeOptions:u,leadcodeOptions:h,branchCampaigncodeOptions:v,isLoading:!1})}catch(t){o({error:t,isLoading:!1})}}}),{name:"lead-storage"}));export{y as u};
