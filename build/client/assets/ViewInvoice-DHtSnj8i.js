import{w as f}from"./with-props-DF0D9zIo.js";import{u as y,c as d,r as i,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as v,B as u}from"./api-C04JdqFc.js";import{a as S}from"./Almino structural consultancy_Final-CGShv3XU.js";import{a as w}from"./almino seal-NgTqrA6Q.js";import{u as _}from"./AuthStore-BnYeBJES.js";import{L as T}from"./log-out-DAuSHV9-.js";import"./react-_sXfQCJm.js";import"./createLucideIcon-RccWoOaL.js";const D=()=>{const n=y(),{invoice_id:o}=d(),[s,x]=i.useState(null),[m,l]=i.useState(!0),h=_(r=>r.accessToken),{id:j}=d(),p=decodeURIComponent(j);i.useEffect(()=>{(async()=>{try{const t=await v.get(`${u}/project/invoice/read?invoice_id=${p}`,{headers:{Authorization:`Bearer ${h}`}});console.log("RESPONSEEE",Response),t.data.data&&t.data.data.length>0&&x(t.data.data[0]),l(!1)}catch(t){console.error("Error fetching invoice data:",t),l(!1)}})()},[o]);const b=()=>{n(-1)};if(m)return e.jsx("div",{className:"p-4",children:"Loading invoice data..."});if(!s)return e.jsx("div",{className:"p-4",children:"Invoice not found"});const N=r=>{const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],g=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(r===0)return"Zero";let a="";return r>=1e3&&(a+=t[Math.floor(r/1e3)]+" Thousand ",r%=1e3),r>=100&&(a+=t[Math.floor(r/100)]+" Hundred ",r%=100),r>=20&&(a+=g[Math.floor(r/10)]+" ",r%=10),r>0&&(a+=t[r]+" "),a.trim()+" Only"},c=r=>{if(!r)return"";const t=new Date(r);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear()}`};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"p-4 text-red-700 mb-10",children:e.jsx("h1",{className:"text-2xl font-bold",children:"View Invoice Page"})}),e.jsx("div",{children:e.jsxs("button",{className:"text-gray-500 bg-gray-200 px-3 py-1 rounded-lg mt-6",onClick:b,children:[e.jsx(T,{className:"inline rotate-180 text-gray-500 mr-3"}),"Go Back"]})})]}),e.jsx("div",{className:"p-8 w-[794px] mx-auto border border-gray-400 text-[12px] font-sans bg-white ",children:e.jsxs("div",{className:"border border-gray-600 m-5 p-1",children:[e.jsx("div",{className:"flex justify-between items-center mb-4 border-b-2 border-gray-400",children:e.jsxs("div",{className:"flex mt-[3px] h-[60%] ",children:[e.jsx("div",{className:"flex items-center mr-15 w-[30%]",children:e.jsx("img",{src:S,alt:"Company Logo",className:"h-30 mb-2"})}),e.jsxs("div",{className:"flex flex-col w-[50%]",children:[e.jsxs("div",{className:"font-bold uppercase",children:["Almino Structural ",e.jsx("br",{}),"Consultancy Pvt Ltd"]}),e.jsxs("div",{className:"text-xs",children:["No: 10/387-d6 Meenakshi Nagar 1st Street, Near King's Palace Old Check Post,",e.jsx("br",{}),"Pannaiyarkulam, Ramanathapuram",e.jsx("br",{}),"Mobile: 9786815307, Tamil Nadu - 623503",e.jsx("br",{}),"GSTIN: 33AADCA5362R1Z2"]})]}),e.jsx("div",{className:"flex items-end justify-end w-[40%]",children:e.jsx("h1",{className:"text-xl font-medium uppercase text-gray-800 items-end",children:"TAX INVOICE"})})]})}),e.jsxs("div",{className:"flex mt-[-18px]",children:[e.jsx("div",{className:"text-right w-[50%] border-r border-gray-600",children:e.jsx("table",{className:"text-xs mt-2",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"text-left",children:"Invoice"}),e.jsxs("td",{className:"text-left font-bold",children:["             :",s.invoice.invoice_no]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-left",children:"Invoice Date"}),e.jsxs("td",{className:"text-left font-bold",children:["             :",c(s.invoice.invoice_date)]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-left",children:"Terms"}),e.jsx("td",{className:"text-left font-bold",children:"             : Due on Receipt"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"text-left",children:"Due Date"}),e.jsxs("td",{className:"text-left font-bold",children:["             :",c(s.invoice.due_date)]})]})]})})}),e.jsx("div",{className:"text-right w-[50%]",children:e.jsx("table",{className:"text-xs mt-2 ml-1",children:e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"text-left",children:"Place of Supply"}),e.jsx("td",{className:"font-bold",children:"             : Tamil Nadu (33)"})]})})})})]}),e.jsxs("div",{className:"mb-1 pt-2",children:[e.jsx("div",{className:"bg-gray-200 border-b border-gray-400 border-t -m-1 -mt-2",children:e.jsx("p",{className:"ml-1 font-bold text-gray-800",children:"Bill To:"})}),e.jsxs("div",{className:"pt-3 pb-2",children:[e.jsx("p",{className:"font-extrabold",children:s.invoice.client_name}),e.jsx("p",{children:s.invoice.company_name}),e.jsx("p",{children:s.invoice.office_address})]})]}),e.jsxs("table",{className:"w-[100%] border-2 border-collapse  border-gray-400  text-end text-sm ",children:[e.jsxs("thead",{className:"bg-gray-200 text-gray-900 ",children:[e.jsxs("tr",{children:[e.jsx("th",{rowSpan:2,className:"px-2 py-1 ",children:"#"}),e.jsx("th",{rowSpan:2,className:"border-2 border-gray-400 px-2 py-1 text-left",children:"Item & Description"}),e.jsx("th",{rowSpan:2,className:"border-2 border-gray-400 px-2 py-1",children:"HSN/SAC"}),e.jsx("th",{rowSpan:2,className:"border-2 border-gray-400 px-2 py-1",children:"Qty"}),e.jsx("th",{rowSpan:2,className:"border-2 border-gray-400 px-2 py-1",children:"Rate"}),e.jsx("th",{colSpan:2,className:"border-2 border-gray-400 px-2 py-1",children:"CGST"}),e.jsxs("th",{colSpan:2,className:"border-2 border-gray-400 px-2 py-1",children:["SGST"," "]}),e.jsx("th",{rowSpan:2,className:"border-2 border-gray-400 px-2 py-1 border-r-0",children:"Total"})]}),e.jsxs("tr",{children:[e.jsx("th",{className:" px-2 py-1 border border-gray-400 ",children:"%"}),e.jsx("th",{className:"border-2 border-gray-400  px-2 py-1",children:"Amt"}),e.jsx("th",{className:"border-2 border-gray-400  px-2 py-1",children:"%"}),e.jsx("th",{className:"border-2 border-gray-400 px-2 py-1",children:"Amt"})]})]}),e.jsx("tbody",{children:s.milestone_requests.map((r,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"border px-2",children:t+1}),e.jsxs("td",{className:"border px-2 text-left",children:[r.miles_title,e.jsx("br",{}),s.invoice.project_title]}),e.jsx("td",{className:"border-2 border-gray-400 px-2",children:s.invoice.hsn_sac||"998332"}),e.jsx("td",{className:"border-2 border-gray-400 px-2",children:"1.00 set"}),e.jsx("td",{className:"border-2 border-gray-400 px-2",children:r.milestone_amount}),e.jsxs("td",{className:"border-2 border-gray-400 px-2",children:[s.invoice.cgst_percentage,"%"]}),e.jsx("td",{className:"border-2 border-gray-400 px-2",children:s.invoice.cgst_amount}),e.jsxs("td",{className:"border-2 border-gray-400 px-2",children:[s.invoice.sgst_percentage,"%"]}),e.jsx("td",{className:"border-2 border-gray-400 px-2",children:s.invoice.sgst_amount}),e.jsx("td",{className:"border-2 border-gray-400 px-2",children:r.milestone_amount})]},t))})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"text-sm w-[50%] ",children:[e.jsx("p",{children:"Total in Words"}),e.jsx("p",{className:"font-bold italic",children:N(parseFloat(s.invoice.final_amount))}),e.jsxs("p",{className:"mt-5",children:["Notes:",e.jsx("br",{}),s.invoice.notes||"Thanks for your business."]})]}),e.jsx("div",{className:"text-sm border-l-2 border-b-2 border-gray-400 w-[50%] ",children:e.jsx("table",{className:"ml-15",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"pr-4 text-right",children:"Sub Total:"}),e.jsxs("td",{className:"text-left",children:["                        ₹",s.invoice.total_amount]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"pr-4 text-right",children:["CGST (",s.invoice.cgst_percentage,"%):"]}),e.jsxs("td",{className:"text-left",children:["                          ₹",s.invoice.cgst_amount]})]}),e.jsxs("tr",{children:[e.jsxs("td",{className:"pr-4 text-right",children:["SGST (",s.invoice.sgst_percentage,"%):"]}),e.jsxs("td",{className:"text-left",children:["                          ₹",s.invoice.sgst_amount]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"pr-4 text-right",children:"Rounding:"}),e.jsxs("td",{className:"text-left",children:["                          ₹",s.invoice.roundoff]})]}),e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{className:"pr-4 text-right",children:"Total:"}),e.jsxs("td",{className:"text-left text-red-700",children:["                            ₹",s.invoice.final_amount]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"pr-4 text-right",children:"Payment Mode:"}),e.jsxs("td",{className:"text-left",children:["                        ₹",s.invoice.paid_amount]})]}),e.jsxs("tr",{className:"",children:[e.jsx("td",{className:"pr-4 text-right",children:e.jsx("strong",{children:"Balance Due:"})}),e.jsx("td",{className:"text-left",children:e.jsxs("strong",{children:[" ","                             ₹ ",s.invoice.balance_amount]})})]})]})})})]}),e.jsxs("div",{className:"flex ",children:[e.jsx("div",{className:"w-[50%]"}),e.jsxs("div",{className:"text-center w-[50%] border-l-2 border-gray-400",children:[e.jsx("p",{children:"Almino Structural Consultancy Pvt Ltd"}),e.jsx("img",{src:w,alt:"Signature",className:"h-30 mx-auto mb-2"}),e.jsx("p",{children:"Authorized Signature"})]})]})]})})]})},G=f(D);export{G as default};
