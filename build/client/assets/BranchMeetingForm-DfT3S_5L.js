import{r as l,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as h,B as y,t as le}from"./api-C04JdqFc.js";import{V as x,O as me}from"./index-DxoBGdjx.js";import{B as ge}from"./ButtonLoader-Z62NVHwI.js";import{u as S}from"./AuthStore-BnYeBJES.js";import{u as ue}from"./useBranchStore-kvv3vD_e.js";import{V as pe,F as M,L as xe,M as he,C as ye}from"./video-BzePKQuD.js";import{C as v}from"./clipboard-list-C2ET-QCv.js";import{F as L}from"./file-text-BNGbNc3I.js";import{F as fe}from"./file-QxKA-9Fo.js";import{C as be}from"./calendar-C_LRGMui.js";import{C as je}from"./clock-CzOQJT5p.js";import{U as z}from"./users-CXAhoVGa.js";import{X as B}from"./x-BfrbTbzo.js";import{C as R}from"./chevron-up-DjUqBI0v.js";import{C as U}from"./chevron-down-DOBgonSl.js";import{P as ke}from"./plus-HifIQSWH.js";const Ue=({branchcode:ve,onSuccess:V,onCancel:O})=>{const[N,I]=l.useState(!1),[Ne,D]=l.useState(null),[g,_]=l.useState([]),[u,f]=l.useState([]),[Z,J]=l.useState([]),[X,G]=l.useState([]),[$,j]=l.useState([]),[w,H]=l.useState(!1),[C,K]=l.useState(!1),p=S(t=>t.accessToken),Q=S(t=>t.permissions)[0].role,W=ue(t=>t.branchCodeOptions),A=S(t=>t.branchcode),T=Q==="superadmin"?W:[{value:A,label:A}],[d,k]=l.useState([{type:"",branchcode:"",teamId:"",staffType:"staff"}]),[s,F]=l.useState({branchcode:"",title:"",notes:"",comm_type:"meeting",status:"active",doc_status:"none",meet_link:"",start_date_time:"2025-02-01T00:00:00Z,",end_date_time:"2025-02-01T23:59:59Z",category:"branch",field:"custom",doc:[],custom:[],communication_participants:[]});l.useEffect(()=>{(async()=>{try{const a=await h.get(`${y}/branch/dropdown`,{headers:{Authorization:`Bearer ${p}`}});J(a.data.result)}catch(a){console.error("Error fetching initial data:",a),x.error("Failed to load initial data")}})()},[p]),l.useEffect(()=>{const t=[...new Set(d.filter(r=>r.type==="team"&&r.branchcode).map(r=>r.branchcode))],a=async()=>{try{const r=t.map(async c=>(await h.get(`${y}/teams/read?branchcode=${c}`,{headers:{Authorization:`Bearer ${p}`}})).data.data),o=await Promise.all(r);G(o.flat())}catch(r){console.error("Error fetching teams:",r),x.error("Failed to load teams")}};t.length>0&&a()},[d,p]),l.useEffect(()=>{s.category==="custom"?te():s.category==="branch"&&s.branchcode?Y():s.category==="team"&&ee()},[s.category,s.branchcode,d]);const Y=async()=>{try{const t=await h.post(`${y}/users/filter`,{branch:[s.branchcode],team:[],type:["staff","client"]},{headers:{Authorization:`Bearer ${p}`}});j([...t.data.staff,...t.data.client])}catch(t){console.error("Error fetching branch participants:",t),x.error("Failed to fetch participants")}},ee=async()=>{try{const t=await h.post(`${y}/users/filter`,{branch:[s.branchcode],team:[],type:["staff","client"]},{headers:{Authorization:`Bearer ${p}`}});j([...t.data.staff,...t.data.client])}catch(t){console.error("Error fetching branch participants:",t),x.error("Failed to fetch participants")}},te=async()=>{try{const t=d.filter(n=>n.type==="branch"&&n.branchcode).map(n=>n.branchcode),a=d.filter(n=>n.type==="team"&&n.teamId&&n.branchcode).map(n=>{const q=n.teamId.split("/"),de=q[q.length-1];return`${n.branchcode}/TEAM/${de}`}),r=d.filter(n=>n.type==="team"&&n.branchcode).map(n=>n.branchcode),o=[...new Set([...t,...r])],c=[];d.forEach(n=>{(n.type==="branch"||n.type==="team")&&(n.staffType==="staff"&&c.push("staff"),n.staffType==="client"&&c.push("client"),n.staffType==="both"&&(c.push("staff"),c.push("client")))});const i=[...new Set(c)];if(console.log("Sending filter request with:",{branch:o,team:a,type:i.length>0?i:["staff","client"]}),o.length>0||a.length>0){const n=await h.post(`${y}/users/filter`,{branch:o,team:a,type:i.length>0?i:["staff","client"]},{headers:{Authorization:`Bearer ${p}`}});j([...n.data.staff,...n.data.client])}else j([])}catch(t){console.error("Error fetching custom participants:",t),x.error("Failed to fetch participants")}},m=t=>{const{name:a,value:r}=t.target;F(o=>({...o,[a]:r})),a==="category"&&(f([]),k([{type:"",branchcode:"",teamId:"",staffType:"staff"}]))},ae=t=>{const a=Array.from(t.target.files);if(a.length===0)return;const r=a.map(o=>({file:o,name:o.name,type:o.type.split("/")[1]||"file"}));F(o=>({...o,doc:[...o.doc,...r]}))},re=t=>{F(a=>{const r=[...a.doc];return r.splice(t,1),{...a,doc:r}})},se=t=>{g.some(a=>a.person_id===t.person_id)||_([...g,{person_id:t.person_id,role:t.role,isdocvisible:s.comm_type==="doc"}])},E=t=>{_(g.filter(a=>a.person_id!==t))},ne=t=>{_(g.map(a=>a.person_id===t?{...a,isdocvisible:!a.isdocvisible}:a))},P=(t,a)=>{if(t==="team"){const r=d.find(o=>o.type==="team"&&o.teamId===a);if(r&&r.branchcode){const o=a.split("/"),c=o[o.length-1],i=`${r.branchcode}/TEAM/${c}`;u.some(n=>n.target_id===i&&n.type===t)||f([...u,{target_id:i,type:t}]);return}}u.some(r=>r.target_id===a&&r.type===t)||f([...u,{target_id:a,type:t}])},b=(t,a,r)=>{const o=[...d];o[t][a]=r,a==="type"?(o[t].branchcode="",o[t].teamId=""):a==="branchcode"&&o[t].type==="team"&&(o[t].teamId=""),k(o)},oe=()=>{k([...d,{type:"",branchcode:"",teamId:"",staffType:"staff"}])},ie=t=>{var a,r,o,c;if(d.length>1){const i=[...d];i.splice(t,1),k(i),((a=i[t])==null?void 0:a.type)==="branch"&&((r=i[t])!=null&&r.branchcode)?f(u.filter(n=>!(n.type==="branch"&&n.target_id===i[t].branchcode))):((o=i[t])==null?void 0:o.type)==="team"&&((c=i[t])!=null&&c.teamId)&&f(u.filter(n=>!(n.type==="team"&&n.target_id===i[t].teamId)))}},ce=async t=>{var a,r;t.preventDefault(),I(!0);try{const o={branchcode:s.branchcode,title:s.title,notes:s.notes,comm_type:s.comm_type,status:s.status,meet_link:s.meet_link,start_date_time:s.start_date_time,end_date_time:s.end_date_time,doc_status:s.doc_status,category:s.category,field:s.field,custom:u,communication_participants:g},c=new FormData;c.append("data",JSON.stringify([o])),s.doc.forEach(n=>{c.append("URL",n.file)}),console.log("formataaaanew form",c);const i=await h.post(`${y}/doc_meet/create`,c,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"multipart/form-data"}});i.status===201?(x.success(`${s.comm_type==="meeting"?"Meeting":"Document"} created successfully!`),V()):D(i.data.message||"Failed to create communication")}catch(o){D(((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||"An error occurred"),x.error(`Error creating ${s.comm_type==="meeting"?"meeting":"document"}`)}finally{I(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(me,{position:le}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[s.comm_type==="meeting"?e.jsx(pe,{className:"inline mr-2"}):e.jsx(M,{className:"inline mr-2"}),s.comm_type==="meeting"?"Meeting Information":"Document Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(v,{className:"inline mr-1",size:14})," Branch Code"," ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsxs("select",{name:"branchcode",value:s.branchcode,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Branch"}),T==null?void 0:T.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(L,{className:"inline mr-1",size:14})," Title",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"title",value:s.title,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Title",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(v,{className:"inline mr-1",size:14})," Type",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsxs("select",{name:"comm_type",value:s.comm_type,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"meeting",children:"Meeting"}),e.jsx("option",{value:"doc",children:"Document"}),e.jsx("option",{value:"followup",children:"Follow-up"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(v,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:s.status,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"declined",children:"Declined"})]})]}),s.comm_type==="doc"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(fe,{className:"inline mr-1",size:14})," Document Status"]}),e.jsxs("select",{name:"doc_status",value:s.doc_status,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"archived",children:"Archived"}),e.jsx("option",{value:"verified-closed",children:"Verified & Closed"}),e.jsx("option",{value:"rework",children:"Rework"})]})]}),s.comm_type==="meeting"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(xe,{className:"inline mr-1",size:14})," Meeting Link",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"meet_link",value:s.meet_link,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"url",placeholder:"https://meet.google.com/example",required:!0})]}),s.comm_type==="meeting"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(be,{className:"inline mr-1",size:14})," Start Date/Time",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"start_date_time",value:s.start_date_time,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"datetime-local",required:!0})]}),s.comm_type==="meeting"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(je,{className:"inline mr-1",size:14})," End Date/Time",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"end_date_time",value:s.end_date_time,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"datetime-local",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(z,{className:"inline mr-1",size:14})," Category",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsxs("select",{name:"category",value:s.category,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"branch",children:"Branch"}),e.jsx("option",{value:"team",children:"Team"}),e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"custom",children:"Custom"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(v,{className:"inline mr-1",size:14})," Field"]}),e.jsxs("select",{name:"field",value:s.field,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"project",children:"Project"}),e.jsx("option",{value:"task",children:"Task"}),e.jsx("option",{value:"lead",children:"Lead"}),e.jsx("option",{value:"custom",children:"Custom"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(L,{className:"inline mr-1",size:14})," Notes"]}),e.jsx("textarea",{name:"notes",value:s.notes,onChange:m,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"Notes...",required:!0})]}),s.comm_type==="doc"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(M,{className:"inline mr-1",size:14})," Documents"]}),e.jsx("input",{type:"file",id:"file-upload",multiple:!0,onChange:ae,className:"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-[var(--color-primary)] file:text-white hover:file:bg-[var(--color-hover)]"}),s.doc.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:s.doc.map((t,a)=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[e.jsx("span",{className:"text-sm",children:t.name}),e.jsx("button",{type:"button",onClick:()=>re(a),className:"text-red-500 hover:text-red-700",children:e.jsx(B,{size:16})})]},a))})]}),s.category==="custom"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>K(!C),children:[e.jsxs("h4",{className:"text-sm font-semibold",children:[e.jsx(z,{className:"inline mr-2",size:16}),"Custom Filters (",u.length,")"]}),C?e.jsx(R,{size:16}):e.jsx(U,{size:16})]}),C&&e.jsxs("div",{className:"mt-4 space-y-4",children:[d.map((t,a)=>e.jsxs("div",{className:"space-y-4 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h5",{className:"text-sm font-medium",children:["Filter ",a+1]}),d.length>1&&e.jsx("button",{type:"button",onClick:()=>ie(a),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(he,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Filter Type"}),e.jsxs("select",{value:t.type,onChange:r=>b(a,"type",r.target.value),className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select filter type"}),e.jsx("option",{value:"branch",children:"Branch"}),e.jsx("option",{value:"team",children:"Team"})]})]}),(t.type==="branch"||t.type==="team")&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Branch"}),e.jsxs("select",{value:t.branchcode,onChange:r=>{b(a,"branchcode",r.target.value),b(a,"teamId","")},className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select branch"}),Z.map(r=>e.jsxs("option",{value:r.branchcode,children:[r.branchcode," - ",r.name]},r.branchcode))]})]}),t.type==="team"&&t.branchcode&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Team"}),e.jsxs("select",{value:t.teamId,onChange:r=>{b(a,"teamId",r.target.value),r.target.value&&P("team",r.target.value)},className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select team"}),X.filter(r=>r.branchcode===t.branchcode).map(r=>e.jsx("option",{value:r.team_id,children:r.team_name},r.team_id))]})]}),(t.type==="branch"||t.type==="team")&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Staff Type"}),e.jsxs("select",{value:t.staffType,onChange:r=>b(a,"staffType",r.target.value),className:"w-full bg-white dark:bg-gray-800 text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 p-2 rounded border border-gray-300 dark:border-gray-600 focus:outline-none",children:[e.jsx("option",{value:"staff",children:"Staff"}),e.jsx("option",{value:"client",children:"Client"}),e.jsx("option",{value:"both",children:"Both"})]})]})]}),t.type==="branch"&&t.branchcode&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>P("branch",t.branchcode),className:"text-xs bg-red-700 hover:bg-red-700 text-white px-2 py-1 rounded",children:"Add Branch Filter"})})]},a)),e.jsxs("button",{type:"button",onClick:oe,className:"flex items-center text-sm text-blue-500 hover:text-blue-700",children:[e.jsx(ke,{size:16,className:"mr-1"}),"Add Another Filter"]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center cursor-pointer",onClick:()=>H(!w),children:[e.jsxs("h4",{className:"text-sm font-semibold",children:[e.jsx(z,{className:"inline mr-2",size:16}),"Participants (",g.length,")"]}),w?e.jsx(R,{size:16}):e.jsx(U,{size:16})]}),w&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:s.category==="custom"?"Select participants from filtered results":`Select participants from ${s.category}`}),$.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[e.jsxs("span",{children:[t.person_id," (",t.role,")"]}),g.some(a=>a.person_id===t.person_id)?e.jsx("button",{type:"button",onClick:()=>E(t.person_id),className:"text-red-500 hover:text-red-700",children:e.jsx(B,{size:16})}):e.jsx("button",{type:"button",onClick:()=>se(t),className:"text-green-500 hover:text-green-700",children:e.jsx(ye,{size:16})})]},t.person_id))}):e.jsx("p",{className:"text-sm text-gray-500",children:"No participants available based on current filters"})]}),g.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Selected Participants"}),e.jsx("div",{className:"space-y-2",children:g.map(t=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-100 dark:bg-gray-700 rounded",children:[e.jsxs("span",{children:[t.person_id," (",t.role,")"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.comm_type==="doc"&&e.jsxs("label",{className:"flex items-center space-x-1",children:[e.jsx("input",{type:"checkbox",checked:t.isdocvisible,onChange:()=>ne(t.person_id),className:"rounded"}),e.jsx("span",{className:"text-xs",children:"View Doc"})]}),e.jsx("button",{type:"button",onClick:()=>E(t.person_id),className:"text-red-500 hover:text-red-700",children:e.jsx(B,{size:16})})]})]},t.person_id))})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:O,disabled:N,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:ce,disabled:N,children:N?e.jsx(ge,{}):s.comm_type==="meeting"?"Create Meeting":"Upload Document"})]})]})};export{Ue as B};
