import{w as g}from"./with-props-DF0D9zIo.js";import{u as b,r as a,c as N,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as o}from"./Almino structural consultancy_Final-CGShv3XU.js";import{a as v}from"./almino seal-NgTqrA6Q.js";import{a as w,B as L}from"./api-C04JdqFc.js";import{c as C}from"./createLucideIcon-RccWoOaL.js";import{L as S}from"./log-out-DAuSHV9-.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],A=C("loader-circle",T),R=()=>{const l=b(),[s,c]=a.useState(null),[d,n]=a.useState(!0),[i,m]=a.useState(null),x=a.useRef(),{id:h}=N(),r=decodeURIComponent(h),p=async()=>{try{n(!0);const t=await w.post(`${L}/users/profile`,{staff_id:r},{headers:{"Content-Type":"application/json"}});if(t.data&&t.data.data)c(t.data.data);else throw new Error("No employee data found")}catch(t){console.error("Error in get staff details",t),m(t.message)}finally{n(!1)}};a.useEffect(()=>{p()},[r]);const j=()=>{const t=document.getElementById("print").innerHTML,u=document.body.innerHTML,y=`
      <style>
        @media print {
          @page {
            margin-bottom: 0;
          }
          body { 
            margin: 1cm;
          }
          header, footer, .no-print { 
            display: none !important; 
          }
          a[href]:after {
            content: none !important;
          }
          #print {
            position: relative;
            width: 100%;
            height: 100%;
          }
        }
      </style>
    `;document.body.innerHTML=y+t,window.print(),window.onafterprint=()=>{document.body.innerHTML=u,window.location.reload()}},f=()=>{l(-1)};return d?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx(A,{className:"animate-spin h-12 w-12 text-red-600"})}):i?e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-red-600 text-lg",children:i})}):s?e.jsxs("div",{className:"p-6 print:p-0",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{onClick:j,className:"mb-4 px-4 py-2 bg-red-700 text-white rounded shadow print:hidden",children:"Print Joining Letter"}),e.jsxs("button",{className:"text-gray-500 bg-gray-200 px-4 py-2 rounded-lg mt-3",onClick:f,children:[e.jsx(S,{className:"inline rotate-180 text-gray-500 mr-3"}),"Go Back"]})]}),e.jsxs("div",{ref:x,className:"relative bg-white text-black p-10 w-[794px] mx-auto  text-[14px] font-serif",id:"print",children:[e.jsx("img",{src:o,alt:"Watermark",className:"absolute opacity-10 z-0 left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[400px] pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-400 pb-4",children:[e.jsx("img",{src:o,alt:"Almino Logo",className:"h-20"}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsx("p",{className:"font-bold text-lg",children:"ALMINO STRUCTURAL CONSULTANCY PVT LTD"}),e.jsx("p",{className:"text-red-500 font-semibold",children:"GST NO : 33AASCA3262R1Z2"})]})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold underline",children:"JOINING LETTER"}),e.jsx("p",{className:"text-sm mt-1",children:"GET NO: 330A562A0508172"})]}),e.jsx("p",{children:"To,"}),e.jsxs("p",{className:"font-semibold",children:[s.basic.firstname," ",s.basic.lastname]}),e.jsx("p",{children:s.basic.presentaddress||s.basic.permanentaddress||"Address not specified"}),e.jsxs("p",{className:"mt-6 font-semibold",children:["Subject: Joining Letter for the Position of"," ",s.basic.designation]}),e.jsxs("p",{className:"mt-4",children:["Dear ",s.basic.firstname,","]}),e.jsxs("p",{className:"mt-2 text-justify",children:["We are pleased to confirm your appointment as"," ",e.jsx("strong",{children:s.basic.designation})," at Almino Structural Consultancy Pvt Ltd, effective from"," ",e.jsx("strong",{children:s.basic.dateofjoining?new Date(s.basic.dateofjoining).toLocaleDateString():"your joining date"}),"."]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Employee ID:"})," ",s.basic.staff_id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Department:"})," ",s.basic.department]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Designation:"})," ",s.basic.designation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Reporting To:"})," Team Lead / Manager"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," Company Branch"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"underline font-semibold",children:"Compensation Details:"}),s.salary&&s.salary.length>0?e.jsxs("ul",{className:"list-disc list-inside ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Basic Salary:"})," ‚Çπ",s.salary[0].basicsalary]}),e.jsxs("li",{children:[e.jsx("strong",{children:"HRA:"})," ‚Çπ",s.salary[0].hra]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Other Allowances:"})," ‚Çπ",s.salary[0].other_allowance]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gross Salary:"})," ‚Çπ",s.salary[0].gross_salary]})]}):e.jsx("p",{children:"Salary details not available"})]}),e.jsx("p",{className:"mt-4 text-justify",children:"Your employment will be subject to the terms and conditions outlined in the company's HR policies. Please review the employee handbook for detailed information about your benefits, leave policies, and other employment terms."}),e.jsx("p",{className:"mt-4 text-justify",children:"We are excited to have you on board and look forward to a successful and productive association. If you have any questions, please feel free to contact the HR department."}),e.jsx("p",{className:"mt-6",children:"Sincerely,"}),e.jsx("p",{className:"mt-2 font-semibold",children:"HR Manager"}),e.jsx("p",{children:"Almino Structural Consultancy Pvt Ltd"}),e.jsx("div",{className:"mt-10 text-right",children:e.jsx("img",{src:v,alt:"Company Seal",className:"h-20 inline"})}),e.jsx("footer",{className:"text-sm mt-10 border-t border-gray-300 pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-red-600",children:["üìû +91 95977 46657",e.jsx("br",{}),"üìû +91 97865 81307"]})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{children:"üìç Near King's Palace, Old Check Post,"}),e.jsx("p",{children:"Pattinamkathan, Ramanathapuram - 623503"}),e.jsx("p",{children:"üìß alminostructure@gmail.com"})]})]})})]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsx("div",{className:"text-gray-800 text-lg",children:"No employee data available"})})},O=g(R);export{O as default};
