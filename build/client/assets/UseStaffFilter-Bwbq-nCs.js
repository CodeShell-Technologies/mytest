import{r as n}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{B as h,a as S}from"./api-C04JdqFc.js";import{u as g}from"./AuthStore-BnYeBJES.js";import{V as $}from"./index-DxoBGdjx.js";const D=["architecture","visualization","structural","drafting","hr","sales","consulting"],B=e=>{const[a,c]=n.useState(""),[l,f]=n.useState([]),[p,i]=n.useState(!1),d=g(t=>t.accessToken);n.useEffect(()=>{a&&e&&m()},[a,e]);const m=async()=>{var t;i(!0);try{let o=`${h}/users/dropdown?department=${a}`;e&&(o+=`&branchcode=${e}`);const r=await S.get(o,{headers:{Authorization:`Bearer ${d}`}});if(console.log("responsefostaffidinleadd",r),(t=r.data)!=null&&t.data){const u=r.data.data.map(s=>({value:s.staff_id,label:`${s.firstname} ${s.lastname} - ${s.designation}`}));f(u)}}catch{$.error("Failed to fetch staff options"),f([])}finally{i(!1)}};return{departmentOptions:D,selectedDepartment:a,staffOptions:l,isFetchingStaff:p,handleDepartmentChange:t=>{c(t)}}};export{B as u};
