import{r as i,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as N,B as j}from"./api-C04JdqFc.js";import{O as v,V as w}from"./index-DxoBGdjx.js";import{B as C}from"./ButtonLoader-Z62NVHwI.js";import{u as B}from"./AuthStore-BnYeBJES.js";import{N as M}from"./network-4iL8t-Of.js";import{H as I}from"./hash-Cmnw3-GM.js";import{C as _}from"./calendar-check-DuYbAMAv.js";import{M as D}from"./map-pin-DetA7opX.js";import{c as p}from"./createLucideIcon-RccWoOaL.js";import{P as q,M as z}from"./phone-iHDF8fYQ.js";import{U as E}from"./user-round-DtkRnRSi.js";import{U as c}from"./user-DKFoNGWn.js";import{C as R}from"./clipboard-list-C2ET-QCv.js";import{F as u}from"./file-text-BNGbNc3I.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],F=p("circle-plus",A);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M17.915 22a6 6 0 0 0-12 0",key:"suqz9p"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],L=p("contact-round",U);function ee({branch:r,onSuccess:y,onCancel:b}){const[a,g]=i.useState({branch_hours:"",name:"",location:"",mobile:"",email:"",manager_id:"",managerDetails:"",notes:"",status:"active",closeReason:"",userId:""}),[l,x]=i.useState(!1),[h,m]=i.useState(null),k=B(n=>n.accessToken);i.useEffect(()=>{r&&g({branch_hours:r.branch_hours||"",name:r.name||"",location:r.location||"",mobile:r.mobile||"",email:r.email||"",manager_id:r.manager_id||"",managerDetails:r.managerDetails||"",notes:r.notes||"",status:r.status||"active",closeReason:r.closeReason||"",userId:r.userId||""})},[r]);const s=n=>{const{name:d,value:o}=n.target;g(t=>({...t,[d]:o}))},f=async n=>{var d,o;n.preventDefault(),x(!0);try{const t=await N.put(`${j}/branch/edit/${r.id}`,a,{headers:{Authorization:`Bearer ${k}`}});t.status===201?y():m(t.data.message||"Failed to update branch")}catch(t){m(((o=(d=t.response)==null?void 0:d.data)==null?void 0:o.message)||"An error occurred"),w.error(`${h}, Error in update Branch`,{style:{border:"1px solid rgb(185 28 28)",padding:"14px",width:"900px",color:"rgb(185 28 28)"},iconTheme:{primary:"rgb(185 28 28)",secondary:"#FFFAEE"}}),m(null)}finally{x(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(v,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(M,{className:"inline mr-2"}),"  Branch Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Branch Name"]}),e.jsx("input",{name:"name",value:a.name,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Name",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Branch Hours"]}),e.jsx("input",{name:"branch_hours",value:a.branch_hours,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Hours",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14})," Location"]}),e.jsx("input",{name:"location",value:a.location,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Location",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(L,{className:"inline mr-2"})," Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(q,{className:"inline mr-1",size:14})," Mobile"]}),e.jsx("input",{name:"mobile",value:a.mobile,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Mobile Number",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(z,{className:"inline mr-1",size:14})," Email"]}),e.jsx("input",{name:"email",value:a.email,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"email",placeholder:"Branch Email",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(E,{className:"inline mr-2"}),"  Manager Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(c,{className:"inline mr-1",size:14})," Manager ID"]}),e.jsx("input",{name:"manager_id",value:a.manager_id,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Manager ID",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(c,{className:"inline mr-1",size:14})," Manager Details"]}),e.jsx("input",{name:"managerDetails",value:a.managerDetails,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Manager Details",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{className:"inline mr-2"}),"  Additional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(R,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:a.status,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inActive",children:"Inactive"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(c,{className:"inline mr-1",size:14})," User ID"]}),e.jsx("input",{name:"userId",value:a.userId,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"User ID",required:!0})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(u,{className:"inline mr-1",size:14})," Notes"]}),e.jsx("textarea",{name:"notes",value:a.notes,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"Branch notes...",required:!0})]}),a.status==="inActive"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(u,{className:"inline mr-1",size:14})," Close Reason"]}),e.jsx("textarea",{name:"closeReason",value:a.closeReason,onChange:s,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[60px]",placeholder:"Closing reason...",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:b,disabled:l,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:f,disabled:l,children:l?e.jsx(C,{}):"Update Branch"})]})]})}export{L as C,ee as E,F as a};
