import{r as l,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{t as C,a as w,B}from"./api-C04JdqFc.js";import{O as z,V as E}from"./index-DxoBGdjx.js";import{B as q}from"./ButtonLoader-Z62NVHwI.js";import{u as M}from"./AuthStore-BnYeBJES.js";import"./useBranchStore-kvv3vD_e.js";import{u as x}from"./useEmployeeStore-BJ_SZO4g.js";import{N as R}from"./network-4iL8t-Of.js";import{H as u}from"./hash-Cmnw3-GM.js";import{C as A}from"./calendar-check-DuYbAMAv.js";import{M as S}from"./map-pin-DetA7opX.js";import{C as F,a as L}from"./EditFormData-Bo3BQ7HJ.js";import{P as _,M as I}from"./phone-iHDF8fYQ.js";import{U}from"./user-round-DtkRnRSi.js";import{U as p}from"./user-DKFoNGWn.js";import{C as y}from"./clipboard-list-C2ET-QCv.js";import{F as b}from"./file-text-BNGbNc3I.js";const te=({onSuccess:h,onCancel:f})=>{const[i,c]=l.useState(!1),[j,g]=l.useState(null),m=M(s=>s.accessToken),n=x(s=>s.allEmployeecodeOptions);console.log("employeeopionsmnagerr",n);const{fetchEmployee:N,fetchBranchEmployee:D,isStoreLoading:H}=x(),[r,k]=l.useState({branch_hours:"",branchcode:"",role:"",name:"",location:"",mobile:"",email:"",manager_id:"",managername:"",notes:"",status:"active",closeReason:""}),a=s=>{const{name:d,value:o}=s.target;k(t=>({...t,[d]:o}))};l.useEffect(()=>{N(m)},[m]);const v=async s=>{var d,o;s.preventDefault(),c(!0);try{const t=await w.post(`${B}/branch/create`,r,{headers:{Authorization:`Bearer ${m}`}});t.status===201?h():g(t.data.message||"Failed to create branch")}catch(t){g(((o=(d=t.response)==null?void 0:d.data)==null?void 0:o.message)||"An error occurred"),E.error(`${j}, Error in create Branch`,{style:{border:"1px solid rgb(185 28 28)",padding:"14px",width:"900px",color:"rgb(185 28 28)"},iconTheme:{primary:"rgb(185 28 28)",secondary:"#FFFAEE"}})}finally{c(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(z,{position:C}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(R,{className:"inline mr-2"})," Branch Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(u,{className:"inline mr-1",size:14})," Branch Name",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"name",value:r.name,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Name",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(u,{className:"inline mr-1",size:14})," Branch Code ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"branchcode",value:r.branchcode,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Code",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(A,{className:"inline mr-1",size:14})," Branch Hours ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"branch_hours",value:r.branch_hours,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Hours",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(S,{className:"inline mr-1",size:14})," Location ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"location",value:r.location,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Location",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(F,{className:"inline mr-2"}),"  Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Mobile ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"mobile",value:r.mobile,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Branch Mobile Number",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Email ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"email",value:r.email,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"email",placeholder:"Branch Email",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(U,{className:"inline mr-2"}),"    Manager Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(p,{className:"inline mr-1",size:14})," Manager ID ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("select",{name:"manager_id",value:r.manager_id,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:n==null?void 0:n.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(p,{className:"inline mr-1",size:14})," Manager Name ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"managername",value:r.managername,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Manager Name",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(L,{className:"inline mr-2"}),"   Additional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(y,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:r.status,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inActive",children:"Inactive"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(y,{className:"inline mr-1",size:14})," Role ",e.jsx("span",{className:"text-red-700 text-lg m-2",children:"*"})]}),e.jsx("input",{name:"role",value:r.role,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",type:"text",placeholder:"Role",required:!0})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(b,{className:"inline mr-1",size:14})," Notes"]}),e.jsx("textarea",{name:"notes",value:r.notes,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[100px]",placeholder:"Branch notes...",required:!0})]}),r.status==="inActive"&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2",children:[e.jsx(b,{className:"inline mr-1",size:14})," Close Reason"]}),e.jsx("textarea",{name:"closeReason",value:r.closeReason,onChange:a,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 focus:outline-none min-h-[60px]",placeholder:"Closing reason...",required:!0})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:f,disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:v,disabled:i,children:i?e.jsx(q,{}):"Create Branch"})]})]})};export{te as C};
