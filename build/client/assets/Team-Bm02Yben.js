import{w as me}from"./with-props-DF0D9zIo.js";import{r as d,j as e,c as re,u as xe}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as M,B,t as H}from"./api-C04JdqFc.js";import{u as L}from"./AuthStore-BnYeBJES.js";import{d as ge,F as ue,f as pe,g as he}from"./index-DTbJanog.js";import{d as Ae}from"./index-BWPvLUBf.js";import{M as P}from"./Modal-BCIUwH-b.js";import{O as Q,V as C}from"./index-DxoBGdjx.js";import{B as U}from"./ButtonLoader-Z62NVHwI.js";import{u as ye}from"./useEmployeeStore-BJ_SZO4g.js";import{u as be}from"./UseStaffFilter-Bwbq-nCs.js";import{u as fe}from"./useBranchStore-kvv3vD_e.js";import{B as je}from"./building-38OCE1f9.js";import{U as D}from"./user-DKFoNGWn.js";import{F as te}from"./file-text-BNGbNc3I.js";import{D as ke}from"./DataTable-DtyPIAGZ.js";import{C as Ne}from"./CustomPagination-CBTcVvJz.js";import{A as X}from"./award-AgZZTWnY.js";import{C as J}from"./circle-check-big-DhDS6nah.js";import{T as O}from"./trending-up-mD_L3rqa.js";import{C as W}from"./chevron-up-DjUqBI0v.js";import{C as $}from"./chevron-down-DOBgonSl.js";import{C as Z}from"./clock-CzOQJT5p.js";import{M as V}from"./message-square-DlZUvNO5.js";import{B as Y}from"./book-open-COuwv_wZ.js";import{c as I}from"./createLucideIcon-RccWoOaL.js";import{C as ee}from"./calendar-check-DuYbAMAv.js";import{C as ve}from"./circle-alert-CIGxBCHF.js";import{E as _e}from"./eye-2Mk8PZw-.js";import{L as we}from"./log-out-DAuSHV9-.js";import{S as Se}from"./square-kanban-CCTPh8t8.js";import{T as Ce}from"./trash-2-AUNIB88j.js";import{S as Ee}from"./square-pen-hueQTsQ_.js";import{D as ze}from"./dot-BRbGo9NO.js";import"./react-_sXfQCJm.js";import"./iconBase-CajCgYY2.js";import"./index-DDa5wjlm.js";import"./SearchInput-CMdOUuSO.js";import"./index-knF4tUPh.js";/* empty css                         */import"./moment-C5S46NFB.js";/* empty css            *//**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Te=I("layout-list",De);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Me=I("pen",Fe);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M6.376 18.91a6 6 0 0 1 11.249.003",key:"hnjrf2"}],["circle",{cx:"12",cy:"11",r:"4",key:"1gt34v"}]],Re=I("shield-user",Be);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ae=I("smile",Le);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],q=I("star",qe),Pe="data:image/jpeg;base64,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",Ue=({onSuccess:c,onCancel:T,team:A})=>{const[i,u]=d.useState(!1),[p,m]=d.useState(null),y=L(l=>l.accessToken);ye(l=>l.branchEmployeeOptions),L(l=>l.permissions)[0].role,fe(l=>l.branchCodeOptions),L(l=>l.branchcode);const{departmentOptions:_,selectedDepartment:g,staffOptions:w,isFetchingStaff:f,handleDepartmentChange:j}=be(A.branchcode),[o,k]=d.useState({team_id:A.team_id,branchcode:A.branchcode,staff_id:"",role:"member",status:"active"}),N=l=>{const{name:b,value:r}=l.target;k(S=>({...S,[b]:r}))},h=async l=>{var r,S;l.preventDefault(),u(!0);const b={userDatas:[o]};try{const s=await M.post(`${B}/members/create`,b,{headers:{Authorization:`Bearer ${y}`}});s.status===201?c():m(s.data.message||"Failed to Add Member")}catch(s){m(((S=(r=s.response)==null?void 0:r.data)==null?void 0:S.message)||"An error occurred"),C.error(`${p}, Error In Add Team Member`,{style:{border:"1px solid  rgb(185 28 28)",padding:"14px",width:"900px",color:" rgb(185 28 28)"},iconTheme:{primary:" rgb(185 28 28)",secondary:"#FFFAEE"}})}finally{u(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(Q,{}),p&&e.jsx("div",{className:"text-red-500 mb-4",children:p}),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Add Team Member"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(je,{className:"inline mr-1",size:14})," Department"]}),e.jsxs("select",{value:g,onChange:l=>{j(l.target.value),k(b=>({...b,handler_by:"",handler_to:""}))},className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Select Department"}),_.map(l=>e.jsx("option",{value:l,children:l},l))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14}),"Select Member"]}),f?e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Loading staff..."}):e.jsxs("select",{name:"staff_id",value:o.staff_id,onChange:N,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,disabled:!g||w.length===0,children:[e.jsx("option",{value:"",children:"Select Staff"}),w.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))]}),g&&w.length===0&&!f&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No staff found in this department"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(te,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:o.status,onChange:N,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inActive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:T,disabled:i,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",disabled:i,children:i?e.jsx(U,{}):"Add Member"})]})]})]})};function Ie({member:c,onSuccess:T,onCancel:A}){console.log("teammember in editt",c);const i=c.id,[u,p]=d.useState({team_id:"",branchcode:"",staff_id:"",role:"member",status:"active"}),[m,y]=d.useState(!1),[v,_]=d.useState(null),g=L(j=>j.accessToken);d.useEffect(()=>{c&&p({team_id:c.team_id,branchcode:c.branchcode,staff_id:c.staff_id,role:c.role,status:c.status})},[c]);const w=j=>{const{name:o,value:k}=j.target;p(N=>({...N,[o]:k}))},f=async j=>{var k,N;j.preventDefault(),y(!0);const o={userData:{team_id:u.team_id,branchcode:u.branchcode,staff_id:u.staff_id,role:u.role,status:u.status}};try{const h=await M.put(`${B}/members/edit/${i}`,o,{headers:{Authorization:`Bearer ${g}`}});h.status===201?T():_(h.data.message||"Failed to update team")}catch(h){_(((N=(k=h.response)==null?void 0:k.data)==null?void 0:N.message)||"An error occurred"),C.error(`${v}, Error in update team`,{style:{border:"1px solid  rgb(185 28 28)",padding:"14px",width:"900px",color:" rgb(185 28 28)"},iconTheme:{primary:" rgb(185 28 28)",secondary:"#FFFAEE"}}),_(null)}finally{y(!1)}};return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[v&&e.jsx("div",{className:"text-red-500 mb-4",children:v}),e.jsx(Q,{position:H}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:"Edit Team Member"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(te,{className:"inline mr-1",size:14})," Status"]}),e.jsxs("select",{name:"status",value:u.status,onChange:w,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:A,disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",disabled:m,children:m?e.jsx(U,{}):"Update Member"})]})]})]})}const Ke=({leed:c})=>{console.log("leedddddddd",c);const{id:T}=re(),A=decodeURIComponent(T),i=L(a=>a.accessToken),[u,p]=d.useState([]),[m,y]=d.useState(!0),[v,_]=d.useState(null),[g,w]=d.useState(1),[f,j]=d.useState(0),[o,k]=d.useState(10),[N,h]=d.useState(!1),[l,b]=d.useState(!1),[r,S]=d.useState(null),[s,K]=d.useState({lead_tasks_completed:"",lead_tasks_rating:"",lead_errors_count:"",lead_errors_rating:"",lead_timeliness_percent:"",lead_timeliness_rating:"",lead_communication_rating:"",lead_client_feedback_rating:"",lead_attendance_rating:"",development_initiative:!1,development_initiative_remarks:"",lead_technical_rating:"",lead_technical_remarks:"",lead_attitude_rating:"",lead_attitude_remarks:"",lead_learning_rating:"",lead_learning_remarks:"",lead_team_rating:"",lead_team_remarks:"",training_required:!1,training_details:"",lead_comments:""}),[t,R]=d.useState({performance:!1,skills:!1,behavior:!1,development:!1});d.useEffect(()=>{(async()=>{try{y(!0);const x=await M.get(`${B}/users/self_rating/read?team_id=${A}&page=${g}&limit=${o}`,{headers:{Authorization:`Bearer ${i}`}});p(x.data.data),j(x.data.totalDocuments)}catch(x){_(x.message),C.error("Failed to fetch feedback data")}finally{y(!1)}})()},[A,i,g,o]);const F=a=>{S(a),h(!0)},se=a=>{S(a),K({lead_tasks_completed:a.lead_tasks_completed||"",lead_tasks_rating:a.lead_tasks_rating||"",lead_errors_count:a.lead_errors_count||"",lead_errors_rating:a.lead_errors_rating||"",lead_timeliness_percent:a.lead_timeliness_percent||"",lead_timeliness_rating:a.lead_timeliness_rating||"",lead_communication_rating:a.lead_communication_rating||"",lead_client_feedback_rating:a.lead_client_feedback_rating||"",lead_attendance_rating:a.lead_attendance_rating||"",development_initiative:a.development_initiative||!1,development_initiative_remarks:a.development_initiative_remarks||"",lead_technical_rating:a.lead_technical_rating||"",lead_technical_remarks:a.lead_technical_remarks||"",lead_attitude_rating:a.lead_attitude_rating||"",lead_attitude_remarks:a.lead_attitude_remarks||"",lead_learning_rating:a.lead_learning_rating||"",lead_learning_remarks:a.lead_learning_remarks||"",lead_team_rating:a.lead_team_rating||"",lead_team_remarks:a.lead_team_remarks||"",training_required:a.training_required||!1,training_details:a.training_details||"",lead_comments:a.lead_comments||""}),b(!0)},n=a=>{const{name:x,value:z,type:oe,checked:ce}=a.target;K({...s,[x]:oe==="checkbox"?ce:z})},le=async()=>{try{y(!0);const a={reviewData:{...s,lead_id:c.team_lead,performance_id:r.performance_id,status:"teamlead_reviewed"}};if((await M.put(`${B}/users/lead_rating/edit`,a,{headers:{Authorization:`Bearer ${i}`}})).status===200){C.success("Feedback updated successfully!"),b(!1);const z=await M.get(`${B}/users/self_rating/read?team_id=${A}&page=${g}&limit=${o}`,{headers:{Authorization:`Bearer ${i}`}});p(z.data.data)}}catch(a){console.error("Error updating feedback:",a),C.error("Failed to update feedback")}finally{y(!1)}},G=a=>{R({...t,[a]:!t[a]})},E=a=>{const x=[];for(let z=1;z<=5;z++)x.push(e.jsx(q,{size:18,className:z<=a?"text-yellow-500 fill-yellow-500":"text-gray-300 dark:text-gray-500"},z));return e.jsx("div",{className:"flex",children:x})},de=()=>[{data:"ID"},{data:"Employee"},{data:"Designation"},{data:"Review Period"},{data:"Self Rating"},{data:"Status"},{data:"Actions",className:"text-center"}],ne=()=>u.map((a,x)=>({id:x+1,data:[{data:a.performance_id},{data:e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"mr-2",size:16}),a.name]})},{data:a.designation},{data:a.review_year},{data:E(a.self_rating_overall)},{data:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${a.status==="submitted"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":a.status==="teamlead_reviewed"?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:a.status.replace("_"," ")})},{data:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx("button",{onClick:()=>F(a),className:"p-1 text-blue-600 hover:text-blue-800 dark:hover:text-blue-400",title:"View",children:e.jsx(_e,{size:18})}),e.jsx("button",{onClick:()=>se(a),className:"p-1 text-green-600 hover:text-green-800 dark:hover:text-green-400",title:"Edit",disabled:a.status==="teamlead_reviewed",children:e.jsx(Me,{size:18})})]}),className:"action-cell"}]})),ie=a=>{w(a)};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(Q,{position:H}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-6",children:"Employee Feedback Management"}),m&&!u.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading feedback data..."})]}):v?e.jsxs("div",{className:"text-center py-8 text-red-600 dark:text-red-400",children:["Error: ",v]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsx(ke,{thead:de,tbody:ne,responsive:!0,className:"min-w-full"})}),e.jsx("div",{className:"mt-4",children:e.jsx(Ne,{total:f,currentPage:g,defaultPageSize:o,onChange:ie,paginationLabel:"feedbacks"})})]})]}),e.jsx(P,{isVisible:N,className:"w-full max-w-6xl mx-auto",onClose:()=>h(!1),title:"Employee Feedback Details",children:r&&e.jsxs("div",{className:"space-y-6 px-4",children:[e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg bg-white dark:bg-gray-800 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center mb-4",children:[e.jsx(D,{className:"mr-2 text-red-700 dark:text-red-500",size:18}),"Employee Information"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Name:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.name})]}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Designation:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.designation})]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center mb-4",children:[e.jsx(X,{className:"mr-2 text-red-700 dark:text-red-500",size:18}),"Performance Summary"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Review Period:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.review_year})]}),e.jsxs("p",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Self Rating:"}),e.jsx("span",{className:"font-medium",children:E(r.self_rating_overall)})]})]})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center mb-4",children:[e.jsx(J,{className:"mr-2 text-red-700 dark:text-red-500",size:18}),"Attendance"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Present Days:"}),e.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[r.total_dayspresent,"/",r.total_workingdays]})]}),e.jsxs("p",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Attendance %:"}),e.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[r.overall_attendance_percentage,"%"]})]})]})]})]})}),e.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg bg-white dark:bg-gray-800",children:[e.jsxs("button",{className:"w-full flex justify-between items-center p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>G("performance"),children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[e.jsx(O,{className:"mr-2 text-red-700 dark:text-red-500",size:18}),"Performance Metrics"]}),t.performance?e.jsx(W,{className:"text-red-700 dark:text-red-500",size:20}):e.jsx($,{className:"text-red-700 dark:text-red-500",size:20})]}),t.performance&&e.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6 border-t border-gray-200 dark:border-gray-700",children:[{icon:e.jsx(Z,{className:"text-red-700 dark:text-red-500",size:16}),title:"Timeliness",comment:r.self_timeliness_comments,rating:r.self_timeliness_rating},{icon:e.jsx(J,{className:"text-red-700 dark:text-red-500",size:16}),title:"Quality of Work",comment:r.self_quality_comments,rating:r.self_quality_rating},{icon:e.jsx(V,{className:"text-red-700 dark:text-red-500",size:16}),title:"Communication",comment:r.self_communication_comments,rating:r.self_communication_rating},{icon:e.jsx(Y,{className:"text-red-700 dark:text-red-500",size:16}),title:"Initiative",comment:r.self_initiative_comments,rating:r.self_initiative_rating}].map((a,x)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center",children:[a.icon,e.jsx("span",{className:"ml-2",children:a.title})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:a.comment}),e.jsx("div",{className:"mt-2",children:E(a.rating)})]},x))})]}),e.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg bg-white dark:bg-gray-800",children:[e.jsxs("button",{className:"w-full flex justify-between items-center p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>G("skills"),children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center",children:[e.jsx(ae,{className:"mr-2 text-red-700 dark:text-red-500",size:18}),"Self Assessment"]}),t.skills?e.jsx(W,{className:"text-red-700 dark:text-red-500",size:20}):e.jsx($,{className:"text-red-700 dark:text-red-500",size:20})]}),t.skills&&e.jsxs("div",{className:"p-6 space-y-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"What Went Well",content:r.what_went_well},{title:"Challenges Faced",content:r.challenges_faced},{title:"New Skills Learned",content:r.new_skills_learned},{title:"Areas to Improve",content:r.areas_to_improve}].map((a,x)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-2",children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.content})]},x))}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Overall Feedback"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.self_overall_feedback})]})]})]}),r.status==="teamlead_reviewed"&&e.jsxs("div",{className:"rounded-xl overflow-hidden shadow-lg bg-purple-50 dark:bg-purple-900/30",children:[e.jsxs("button",{className:"w-full flex justify-between items-center p-6 hover:bg-purple-100 dark:hover:bg-purple-800/50 transition-colors",onClick:()=>G("behavior"),children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-800 dark:text-purple-200 flex items-center",children:[e.jsx(D,{className:"mr-2 text-purple-700 dark:text-purple-400",size:18}),"Team Lead Feedback"]}),t.behavior?e.jsx(W,{className:"text-purple-700 dark:text-purple-400",size:20}):e.jsx($,{className:"text-purple-700 dark:text-purple-400",size:20})]}),t.behavior&&e.jsxs("div",{className:"p-6 space-y-6 border-t border-purple-200 dark:border-purple-800",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-purple-700 dark:text-purple-300 mb-2",children:"Tasks Completed"}),e.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[r.lead_tasks_completed," tasks with rating:"," ",E(r.lead_tasks_rating)]})]}),e.jsxs("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-purple-700 dark:text-purple-300 mb-2",children:"Errors Count"}),e.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:[r.lead_errors_count," errors with rating:"," ",E(r.lead_errors_rating)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-purple-700 dark:text-purple-300 mb-2",children:"Technical Skills"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 mb-3",children:r.lead_technical_remarks}),e.jsx("div",{className:"mt-2",children:E(r.lead_technical_rating)})]}),e.jsxs("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-purple-700 dark:text-purple-300 mb-2",children:"Team Collaboration"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 mb-3",children:r.lead_team_remarks}),e.jsx("div",{className:"mt-2",children:E(r.lead_team_rating)})]})]}),e.jsxs("div",{className:"bg-purple-100 dark:bg-purple-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-bold text-purple-700 dark:text-purple-300 mb-2",children:"Lead Comments"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400",children:r.lead_comments})]})]})]})]})}),e.jsx(P,{isVisible:l,className:"w-full md:w-3/4 lg:w-2/3",onClose:()=>b(!1),title:"Update Employee Feedback",children:r&&e.jsxs("div",{className:"space-y-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(D,{className:"inline mr-2"})," Employee Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14})," Employee Name"]}),e.jsx("input",{value:r.name,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(X,{className:"inline mr-1",size:14})," Designation"]}),e.jsx("input",{value:r.designation,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ee,{className:"inline mr-1",size:14})," Review Period"]}),e.jsx("input",{value:r.review_year,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(q,{className:"inline mr-1",size:14})," Self Rating"]}),e.jsx("div",{className:"mt-1",children:E(r.self_rating_overall)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(O,{className:"inline mr-2"})," Performance Metrics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(J,{className:"inline mr-1",size:14})," Tasks Completed"]}),e.jsx("input",{type:"number",name:"lead_tasks_completed",value:s.lead_tasks_completed,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",min:"0",placeholder:"Enter number of tasks completed"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(q,{className:"inline mr-1",size:14})," Tasks Rating"]}),e.jsxs("select",{name:"lead_tasks_rating",value:s.lead_tasks_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Poor":a===5?"Excellent":"Average"]},a))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ve,{className:"inline mr-1",size:14})," Errors Count"]}),e.jsx("input",{type:"number",name:"lead_errors_count",value:s.lead_errors_count,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",min:"0",placeholder:"Enter number of errors"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(q,{className:"inline mr-1",size:14})," Errors Rating"]}),e.jsxs("select",{name:"lead_errors_rating",value:s.lead_errors_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Many Errors":a===5?"No Errors":"Some Errors"]},a))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Z,{className:"inline mr-1",size:14})," Timeliness %"]}),e.jsx("input",{type:"number",name:"lead_timeliness_percent",value:s.lead_timeliness_percent,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",min:"0",max:"100",placeholder:"Enter timeliness percentage"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(q,{className:"inline mr-1",size:14})," Timeliness Rating"]}),e.jsxs("select",{name:"lead_timeliness_rating",value:s.lead_timeliness_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Often Late":a===5?"Always On Time":"Sometimes Late"]},a))]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(V,{className:"inline mr-2"})," Communication & Client Feedback"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(V,{className:"inline mr-1",size:14})," Communication Rating"]}),e.jsxs("select",{name:"lead_communication_rating",value:s.lead_communication_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Poor":a===5?"Excellent":"Average"]},a))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14})," Client Feedback Rating"]}),e.jsxs("select",{name:"lead_client_feedback_rating",value:s.lead_client_feedback_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Negative":a===5?"Very Positive":"Neutral"]},a))]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ee,{className:"inline mr-1",size:14})," Attendance Rating"]}),e.jsxs("select",{name:"lead_attendance_rating",value:s.lead_attendance_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Poor":a===5?"Excellent":"Average"]},a))]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(X,{className:"inline mr-2"})," Skills & Development"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(O,{className:"inline mr-1",size:14})," Technical Rating"]}),e.jsxs("select",{name:"lead_technical_rating",value:s.lead_technical_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Basic":a===5?"Expert":"Intermediate"]},a))]}),e.jsx("textarea",{name:"lead_technical_remarks",value:s.lead_technical_remarks,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Technical remarks",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(Y,{className:"inline mr-1",size:14})," Learning Rating"]}),e.jsxs("select",{name:"lead_learning_rating",value:s.lead_learning_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Resistant":a===5?"Eager":"Willing"]},a))]}),e.jsx("textarea",{name:"lead_learning_remarks",value:s.lead_learning_remarks,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Learning remarks",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(D,{className:"inline mr-1",size:14})," Team Rating"]}),e.jsxs("select",{name:"lead_team_rating",value:s.lead_team_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Poor":a===5?"Excellent":"Average"]},a))]}),e.jsx("textarea",{name:"lead_team_remarks",value:s.lead_team_remarks,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Team collaboration remarks",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ae,{className:"inline mr-1",size:14})," Attitude Rating"]}),e.jsxs("select",{name:"lead_attitude_rating",value:s.lead_attitude_rating,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",children:[e.jsx("option",{value:"",children:"Select Rating (1-5)"}),[1,2,3,4,5].map(a=>e.jsxs("option",{value:a,children:[a," - ",a===1?"Negative":a===5?"Very Positive":"Neutral"]},a))]}),e.jsx("textarea",{name:"lead_attitude_remarks",value:s.lead_attitude_remarks,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Attitude remarks",rows:2})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(O,{className:"inline mr-2"})," Development Initiative"]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"development_initiative",checked:s.development_initiative,onChange:n,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Development Initiative Shown"})]}),e.jsx("textarea",{name:"development_initiative_remarks",value:s.development_initiative_remarks,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Describe development initiatives taken",rows:3})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(Y,{className:"inline mr-2"})," Training Requirements"]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"training_required",checked:s.training_required,onChange:n,className:"mr-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Training Required"})]}),e.jsx("textarea",{name:"training_details",value:s.training_details,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Describe training requirements",rows:3})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(V,{className:"inline mr-2"})," Overall Comments"]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:e.jsx("textarea",{name:"lead_comments",value:s.lead_comments,onChange:n,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Provide your overall feedback",rows:4})})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:()=>b(!1),disabled:m,children:"Cancel"}),e.jsx("button",{type:"button",onClick:le,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",disabled:m,children:m?e.jsx(U,{}):"Submit Feedback"})]})]})})]})};function Oe(){const{id:c}=re(),T=decodeURIComponent(c),A=L(t=>t.accessToken),[i,u]=d.useState(null),[p,m]=d.useState(!0),[y,v]=d.useState(null),[_,g]=d.useState(!1),[w,f]=d.useState(!1),j=xe(),[o,k]=d.useState(!1),[N,h]=d.useState(!1),l=async()=>{try{m(!0);const t=await M.get(`${B}/teams/read/profile?team_id=${T}`,{headers:{Authorization:`Bearer ${A}`}});u(t.data.data),console.log("Team data:",t.data.data)}catch(t){v(t.message),console.error("Error fetching team data:",t)}finally{m(!1)}};if(d.useEffect(()=>{l()},[]),p)return e.jsx("div",{className:"min-h-screen dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-red-600 text-xl",children:"Loading team data..."})});if(y)return e.jsx("div",{className:"min-h-screen dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-red-600 text-xl",children:["Error: ",y]})});if(!i)return e.jsx("div",{className:"min-h-screen dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-red-600 text-xl",children:"No team data found"})});const b=t=>{console.log("memberselecteddis",t),k(t),h(!0)},r=()=>{g(!1),C.success("Branch added successfully!"),l()},S=t=>{console.log("memberselecteddis",t),k(t),f(!0)},s=()=>{f(!1),C.success("Branch updated successfully!"),l()},K=async()=>{const t=o.id;console.log("seeelectdeletedid",t);const R={userData:{team_id:o.team_id,branchcode:o.branchcode,staff_id:o.staff_id}};console.log("seelctdattaaa",R);try{m(!0);const F=await M.delete(`${B}/members/delete/${t}`,{data:R,headers:{Authorization:`Bearer ${A}`}});(F==null?void 0:F.status)===201&&(h(!1),C.success("Team Member deleted successfully!"),l())}catch(F){console.error("Error deleting branch",F),C.error("Failed to delete Team Member")}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen dark:bg-gray-900 transition-colors duration-300",children:[e.jsxs("div",{className:"container mx-auto px-4 py-12 ",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx("div",{className:"text-red-600 text-2xl font-bold mb-6",children:"Team Overview"}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx("div",{children:e.jsx("button",{onClick:()=>g(!0),className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-3 py-2.5",children:"+ Add New Member"})}),e.jsx("div",{children:e.jsxs("button",{className:"text-gray-500 bg-gray-200 px-3 py-1.5 rounded-lg",onClick:()=>j(-1),children:[e.jsx(we,{className:"inline rotate-180 text-gray-500 mr-3"}),"Go Back"]})})]})]}),e.jsxs("div",{className:"flex justify-center",children:[e.jsx(Q,{position:H}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl w-[100%] shadow-lg p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[e.jsxs("div",{className:"flex-2",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[e.jsxs("span",{className:"bg-red-100 dark:bg-gray-700 p-2 rounded-full mr-3 md:w-auto text-red-700 dark:text-red-400",children:[" ",e.jsx(ge,{className:"text-red-700 dark:text-red-400 inline",size:22})]}),i.team_name]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(Ae,{className:"inline"})," Branch Code"]}),e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:i.branchcode})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(Re,{className:"inline"})," Team Lead"]}),e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:i.team_lead})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(ue,{className:"inline"})," Team ID"]}),e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:i.team_id})]})]})]}),e.jsx("div",{className:"bg-red-100 dark:bg-gray-700 p-4 rounded-lg w-full md:w-auto",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(Se,{className:"inline",size:15})," Assigned"]}),e.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-400",children:"3 Projects"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(Te,{className:"inline",size:15})," Tasks"]}),e.jsx("p",{className:"text-xl font-bold text-red-700 dark:text-red-400",children:"18 Tasks"})]})]})})]})})]})]}),i.members.length>0?e.jsxs("div",{children:[e.jsx("div",{className:"text-red-600 text-2xl font-bold mb-10 text-center",children:"Team Members"}),e.jsx("div",{className:"w-full max-w-6xl mx-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 px-4",children:i.members.map((t,R)=>e.jsx("div",{className:"rounded-xl overflow-hidden shadow-lg transition-transform duration-300 hover:scale-105 bg-white dark:bg-gray-800 w-full max-w-sm mx-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col items-center mb-4",children:[e.jsxs("div",{className:"flex justify-between w-full mb-4",children:[e.jsx("button",{onClick:()=>b(t),disabled:t.role==="lead",title:t.role==="lead"?"Lead cannot be deleted":"Delete member",children:e.jsx(Ce,{className:`text-gray-500 ${t.role!=="lead"?"hover:text-red-800 cursor-pointer":"cursor-not-allowed opacity-50"}`})}),e.jsx("button",{onClick:()=>S(t),children:e.jsx(Ee,{className:"text-gray-500 hover:text-red-800"})})]}),e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center border-4 border-red-700 dark:border-red-800 mb-3",children:e.jsx("img",{src:Pe,className:"w-full h-full rounded-full object-cover",alt:"Member"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:t.staff_name}),e.jsxs("p",{className:"text-sm text-red-700 dark:text-red-500 flex items-center justify-center gap-1 mt-1",children:[e.jsx(pe,{}),t.role.charAt(0).toUpperCase()+t.role.slice(1)]})]})]}),e.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-gray-100 dark:bg-gray-700 text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Department:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:t.department.charAt(0).toUpperCase()+t.department.slice(1)})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Designation:"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:t.designation!==null?t.designation.charAt(0).toUpperCase()+t.designation.slice(1):"No Designation"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Status:"}),e.jsxs("span",{className:`font-medium px-2 py-0.5 rounded-full text-xs ${t.status==="active"?"text-green-800 bg-green-100 dark:text-green-400 dark:bg-green-900/50":"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/50"}`,children:[e.jsx(ze,{className:"inline"}),t.status]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[e.jsxs("p",{className:"truncate",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",t.staff_name_email]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Joined:"})," ",new Date(t.joined_on).toLocaleDateString()]})]})]})},R))})}),e.jsx(Ke,{leed:i})]}):e.jsxs("div",{className:"flex gap-5 justify-center mt-40",children:[e.jsx("span",{className:"text-gray-500",children:e.jsx(he,{size:35})})," ",e.jsx("h1",{className:"text-lg text-gray-500",children:"No team members assigned for this team"})]})]}),e.jsx(P,{isVisible:_,className:"w-full md:w-[800px]",onClose:()=>g(!1),title:"Add New Member",children:e.jsx(Ue,{onSuccess:r,onCancel:()=>g(!1),team:i})}),e.jsx(P,{isVisible:w,className:"w-full md:w-[800px]",onClose:()=>f(!1),title:"Edit Team Member",children:e.jsx(Ie,{member:o,onSuccess:s,onCancel:()=>f(!1)})}),e.jsx(P,{isVisible:N,className:"w-full md:w-[600px]",onClose:()=>h(!1),title:"Delete Team Member",children:e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Confirm Deletion"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Are you sure you want to delete this member? This action cannot be undone."})]}),e.jsxs("div",{className:"flex justify-center gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:()=>h(!1),disabled:p,children:"Cancel"}),e.jsx("button",{type:"button",className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",onClick:K,disabled:p,children:p?e.jsx(U,{}):"Delete Team"})]})]})})]})}const Ta=me(Oe);export{Ta as default};
