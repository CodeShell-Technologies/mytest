import{w as re}from"./with-props-DF0D9zIo.js";import{r as c,j as e,c as te,u as se}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{t as J,B as F,a as q}from"./api-C04JdqFc.js";import{D as Q}from"./DataTable-DtyPIAGZ.js";import{F as ne,u as H,w as de}from"./xlsx-DTxMWUdD.js";import{O as Y,V as w}from"./index-DxoBGdjx.js";import{u as ae}from"./AuthStore-BnYeBJES.js";import{D as le}from"./index.es-Dy-HqQhS.js";/* empty css                         */import{C as P}from"./clock-CzOQJT5p.js";import{H as ie}from"./hourglass-BDGbSW0U.js";import{B as K,L as X}from"./list-DzQOn6sg.js";import{M as oe}from"./Modal-BCIUwH-b.js";import{B as ce}from"./ButtonLoader-Z62NVHwI.js";import"./useBranchStore-kvv3vD_e.js";import{U as _}from"./user-DKFoNGWn.js";import{H as me}from"./hash-Cmnw3-GM.js";import{T as A}from"./trending-up-mD_L3rqa.js";import{C as B}from"./calendar-check-DuYbAMAv.js";import{C as I}from"./circle-check-big-DhDS6nah.js";import{C as W}from"./circle-alert-CIGxBCHF.js";import{c as $}from"./createLucideIcon-RccWoOaL.js";import{B as G}from"./book-user-BTUNghSh.js";import{A as L}from"./award-AgZZTWnY.js";import{M as V}from"./message-square-DlZUvNO5.js";import{B as ee}from"./book-open-text-CwD5ICOx.js";import{T as xe}from"./tag-hjf6KM-t.js";import{C as ge}from"./chevrons-down-Dd15NhJ2.js";import{A as ye}from"./arrow-big-left-CB9ZfvaY.js";import{F as ue}from"./file-text-BNGbNc3I.js";import{M as pe,P as he}from"./phone-iHDF8fYQ.js";import{B as be}from"./briefcase-B0VTTUxq.js";import{F as fe}from"./file-QxKA-9Fo.js";import"./index-knF4tUPh.js";/* empty css            */import"./react-_sXfQCJm.js";import"./clsx-B-dksMZM.js";import"./index-CyJ3O4p6.js";import"./index-DDa5wjlm.js";import"./iconBase-CajCgYY2.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],O=$("chart-no-axes-column",je);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ne=$("circle-help",ke);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],_e=$("graduation-cap",ve);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ce=$("shield",we);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],ze=$("thumbs-down",Se);/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Te=$("thumbs-up",De),Ee=({staff:k,staff_id:C})=>{var g,o;console.log("staffidddd>>>>d",k);const[b,m]=c.useState(!1),[y,r]=c.useState(null),[i,f]=c.useState(null),[u,j]=c.useState(null),[p,N]=c.useState(null),S=ae(d=>d.accessToken),z=async()=>{if(!C||!u||!p){f(null);return}m(!0);try{const d=h(u),n=h(p),s=`${F}/report/usersummary/read?staff_id=${encodeURIComponent(C)}&start_date=${d}&end_date=${n}`,x=await q.get(s,{headers:{Authorization:`Bearer ${S}`}});x.data&&f(x.data)}catch(d){console.error("Error fetching user summary data",d),w.error("Failed to fetch user summary data"),r("Failed to fetch data")}finally{m(!1)}},h=d=>{if(!d)return"";const n=new Date(d),s=n.getFullYear(),x=(n.getMonth()+1).toString().padStart(2,"0"),M=n.getDate().toString().padStart(2,"0");return`${s}-${x}-${M}`},D=d=>{const[n,s]=d;j(n),N(s)},a=()=>{var x;if(!((x=i==null?void 0:i.data)!=null&&x.projectsummary)||i.data.projectsummary.length===0){w.error("No data to export");return}const d=i.data.projectsummary.flatMap(M=>M.milestones_summary.flatMap(Z=>Z.taskparticipantsummary.map(E=>({project_code:M.project_code,milestone_code:Z.milestone_code,staff_id:E.staff_id,staff_name:`${E.firstname} ${E.lastname}`,total_tasks:E.total_tasks,total_duration_minutes:E.total_duration_minutes,total_working_hours:(E.total_duration_minutes/60).toFixed(2),status:M.status})))),n=H.book_new(),s=H.json_to_sheet(d);H.book_append_sheet(n,s,"EmployeeSummaryReport"),de(n,"EmployeeSummaryReport.xlsx")},T=()=>{z()},v=d=>{if(isNaN(d))return"0 minutes";const n=Math.floor(d/60),s=Math.round(d%60);return n>0&&s>0?`${n} hour${n!==1?"s":""} ${s} minute${s!==1?"s":""}`:n>0?`${n} hour${n!==1?"s":""}`:`${s} minute${s!==1?"s":""}`},l=()=>[{data:"Project Code"},{data:"Status"},{data:"Total Tasks"},{data:"Total Duration"}],t=()=>{var d;return(d=i==null?void 0:i.data)!=null&&d.projectsummary?i.data.projectsummary.map((n,s)=>({id:n.project_code||s,data:[{data:n.project_code},{data:e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm inline-flex items-center ${n.status==="completed"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-2 ${n.status==="completed"?"bg-green-800":"bg-red-700"}`}),n.status.charAt(0).toUpperCase()+n.status.slice(1)]})},{data:n.total_tasks},{data:v(n.total_duration_minutes)}]})):[]},R=()=>[{data:"Milestone Code"},{data:"Total Tasks"},{data:"In Progress"},{data:"Completed"},{data:"Total Duration"}],U=()=>{var n;return(n=i==null?void 0:i.data)!=null&&n.projectsummary?i.data.projectsummary.flatMap(s=>s.milestones_summary.map(x=>({...x,project_code:s.project_code}))).map((s,x)=>({id:s.milestone_code||x,data:[{data:s.milestone_code},{data:s.total_tasks},{data:s.total_inprogress},{data:s.total_verified_closed},{data:v(s.overall_task_duration)}]})):[]};return e.jsx("div",{className:"flex flex-col min-h-screen",children:e.jsxs("div",{className:"p-4 flex-grow",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)] dark:text-[var(--color-primary)] mb-5",children:"Employee Work Summary"})}),e.jsx(Y,{position:J,reverseOrder:!1}),e.jsx("div",{className:"flex flex-col gap-4 mb-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-39",children:[e.jsx("div",{className:"w-full",children:e.jsx(le,{selectsRange:!0,startDate:u,endDate:p,onChange:D,placeholderText:"Select date range",className:"w-full p-2 border rounded h-[40px]",isClearable:!0})}),e.jsxs("button",{onClick:a,className:"flex items-center justify-center text-gray-400 bg-white focus:outline-non font-medium text-sm rounded-sm border border-dotted border-gray-400 hover:text-red-700/70 px-2 dark:bg-gray-800 dark:text-gray-300 py-2",disabled:!((g=i==null?void 0:i.data)!=null&&g.projectsummary),children:[e.jsx(ne,{className:"mr-1"}),"Export Excel"]}),e.jsx("button",{onClick:T,className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",disabled:!u||!p||b,children:b?"Loading...":"Generate Report"})]})}),i&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-200 dark:bg-gray-800 rounded-lg",children:[e.jsx("h3",{className:"text-lg text-red-700 font-semibold mb-2",children:"Employee Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-3 flex items-center",children:[e.jsx(P,{className:"mr-1",size:16})," Date Range"]}),e.jsxs("p",{className:"font-medium",children:[new Date(i.data.start_date).toLocaleDateString()," - ",new Date(i.data.end_date).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-3 flex items-center",children:[e.jsx(ie,{className:"mr-1",size:16})," Total Working Hours"]}),e.jsx("p",{className:"font-medium",children:v(i.data.total_duration_minutes)})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-3 flex items-center",children:[e.jsx(K,{className:"mr-1",size:16})," Projects Worked"]}),e.jsx("p",{className:"font-medium",children:i.data.total_projects_worked})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-3 flex items-center",children:[e.jsx(X,{className:"mr-1",size:16})," Total Tasks"]}),e.jsx("p",{className:"font-medium",children:i.data.total_tasks})]})]})]}),b&&e.jsx("div",{className:"text-center py-4",children:"Loading..."}),y&&e.jsx("div",{className:"text-red-500 text-center py-4",children:y}),((o=i==null?void 0:i.data)==null?void 0:o.projectsummary)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(K,{className:"mr-2",size:20})," Project Summary"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Q,{thead:l,tbody:t,responsive:!0,className:"min-w-full"})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(X,{className:"mr-2",size:20})," Milestone Summary"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx(Q,{thead:R,tbody:U,responsive:!0,className:"min-w-full"})})]})]}),!b&&!i&&e.jsx("div",{className:"text-center py-10 text-gray-500",children:!u||!p?"Please select date range to generate report":"Click 'Generate Report' to view your work summary"})]})})},$e=({employee:k,onSuccess:C,onCancel:b})=>{const[m,y]=c.useState(!1),[r,i]=c.useState(null),f=ae(o=>o.accessToken),[u,j]=c.useState([]),[p,N]=c.useState([]),[S,z]=c.useState(!1),[h,D]=c.useState(!1),[a,T]=c.useState({branchcode:k.basic.branchcode,staff_id:k.basic.staff_id,reporting_to:"",team_id:"",year_of_experience:"",review_year:"",total_workingdays:"",total_dayspresent:"",total_daysabsent:"",total_daysleave:"",overall_attendance_percentage:"",total_project_worked:"",overallprojectrating:"",overall_milestone_rating:"",total_task:"",total_task_participantavgrating:"",total_duration_minutes:"",total_tasks_handled:"",tasks_completed_ontime:"",reworks_revisions:"",major_projects:"",self_timeliness_rating:"",self_timeliness_comments:"",self_quality_rating:"",self_quality_comments:"",self_communication_rating:"",self_communication_comments:"",self_initiative_rating:"",self_initiative_comments:"",self_interaction_rating:"",self_interaction_comments:"",self_attendance_rating:"",self_attendance_comments:"",what_went_well:"",challenges_faced:"",support_needed:"",improvement_suggestions:"",new_skills_learned:"",areas_to_improve:"",self_training_required:"",self_rating_overall:"",self_overall_feedback:"",self_trainings_attended:"",status:"draft"});c.useEffect(()=>{a.branchcode?(v(a.branchcode),l(a.branchcode)):(j([]),N([]))},[a.branchcode]);const v=async o=>{z(!0);try{const d=await q.get(`${F}/users/dropdown?branchcode=${o}`,{headers:{Authorization:`Bearer ${f}`}});if(d.data&&d.data.data){const n=d.data.data.map(s=>({value:s.staff_id,label:`${s.firstname} ${s.lastname} (${s.designation})`}));j(n)}else j([])}catch{w.error("Failed to fetch staff options"),j([])}finally{z(!1)}},l=async o=>{D(!0);try{const d=await q.get(`${F}/teams/read?branchcode=${o}`,{headers:{Authorization:`Bearer ${f}`}});if(d.data&&d.data.data){const n=d.data.data.map(s=>({value:s.team_id,label:s.team_name}));N(n)}else N([])}catch{w.error("Failed to fetch team options"),N([])}finally{D(!1)}},t=o=>{const{name:d,value:n}=o.target;T(s=>({...s,[d]:n}))},R=(o,d)=>{T(n=>({...n,[o]:d}))},U=async o=>{var n,s;o.preventDefault(),y(!0);const d={reviewData:{...a,review_year:a.review_year?`${a.review_year}-01-01|${a.review_year}-12-31`:""}};try{const x=await q.post(`${F}/users/self_rating/create`,d,{headers:{Authorization:`Bearer ${f}`}});x.status===201?(w.success("Feedback submitted successfully!"),C()):i(x.data.message||"Failed to submit feedback")}catch(x){i(((s=(n=x.response)==null?void 0:n.data)==null?void 0:s.message)||"An error occurred"),w.error(r||"Error submitting feedback")}finally{y(!1)}},g=({name:o,value:d,label:n})=>e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:n}),[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>R(o,s),className:`w-6 h-6 rounded-full flex items-center justify-center text-xs 
            ${d>=s?"bg-red-700 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"}`,children:s},s)),e.jsx("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:d?d<=2?e.jsxs("span",{className:"text-red-500 flex items-center",children:[e.jsx(ge,{size:14,className:"mr-1"})," Needs Improvement"]}):d<=4?e.jsxs("span",{className:"text-yellow-500 flex items-center",children:[e.jsx(A,{size:14,className:"mr-1"})," Good"]}):e.jsxs("span",{className:"text-green-500 flex items-center",children:[e.jsx(L,{size:14,className:"mr-1"})," Excellent"]}):null})]});return e.jsxs("div",{className:"flex flex-col gap-6 dark:bg-gray-800 bg-white p-6 rounded-lg",children:[e.jsx(Y,{position:J}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(_,{className:"inline mr-2"})," Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(me,{className:"inline mr-1",size:14})," Branch Code"]}),e.jsx("input",{name:"branchcode",value:a.branchcode,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Staff ID"]}),e.jsx("input",{name:"staff_id",value:a.staff_id,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",readOnly:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Reporting To"]}),S?e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Loading staff..."}):e.jsxs("select",{name:"reporting_to",value:a.reporting_to,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,disabled:!a.branchcode||u.length===0,children:[e.jsx("option",{value:"",children:"Select Reporting Manager"}),u.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]}),a.branchcode&&u.length===0&&!S&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No staff found for this branch"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Team ID"]}),h?e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"Loading teams..."}):e.jsxs("select",{name:"team_id",value:a.team_id,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,disabled:!a.branchcode||p.length===0,children:[e.jsx("option",{value:"",children:"Select Team"}),p.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]}),a.branchcode&&p.length===0&&!h&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"No teams found for this branch"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(A,{className:"inline mr-1",size:14})," Years of Experience"]}),e.jsx("input",{name:"year_of_experience",value:a.year_of_experience,onChange:t,type:"number",step:"0.1",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter years of experience",required:!0})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(B,{className:"inline mr-1",size:14})," Review Year"]}),e.jsx("input",{name:"review_year",value:a.review_year,onChange:t,type:"number",min:"2000",max:"2099",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter review year (e.g., 2023)",required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(P,{className:"inline mr-2"})," Attendance Metrics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(B,{className:"inline mr-1",size:14})," Total Working Days"]}),e.jsx("input",{name:"total_workingdays",value:a.total_workingdays,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter total working days"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Days Present"]}),e.jsx("input",{name:"total_dayspresent",value:a.total_dayspresent,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter days present"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(W,{className:"inline mr-1",size:14})," Days Absent"]}),e.jsx("input",{name:"total_daysabsent",value:a.total_daysabsent,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter days absent"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(B,{className:"inline mr-1",size:14})," Days Leave"]}),e.jsx("input",{name:"total_daysleave",value:a.total_daysleave,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter days leave"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(O,{className:"inline mr-1",size:14})," Attendance Percentage"]}),e.jsx("input",{name:"overall_attendance_percentage",value:a.overall_attendance_percentage,onChange:t,type:"number",step:"0.01",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter attendance percentage"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(G,{className:"inline mr-2"})," Project Metrics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(G,{className:"inline mr-1",size:14})," Total Projects Worked"]}),e.jsx("input",{name:"total_project_worked",value:a.total_project_worked,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter total projects worked"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(L,{className:"inline mr-1",size:14})," Overall Project Rating"]}),e.jsx(g,{name:"overallprojectrating",value:a.overallprojectrating,label:"Rate your project performance (1-5)"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(O,{className:"inline mr-1",size:14})," Milestone Rating"]}),e.jsx(g,{name:"overall_milestone_rating",value:a.overall_milestone_rating,label:"Rate your milestone achievement (1-5)"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Total Tasks"]}),e.jsx("input",{name:"total_task",value:a.total_task,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter total tasks"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Task Participant Rating"]}),e.jsx(g,{name:"total_task_participantavgrating",value:a.total_task_participantavgrating,label:"Average participant rating (1-5)"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," Total Duration (minutes)"]}),e.jsx("input",{name:"total_duration_minutes",value:a.total_duration_minutes,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter total duration in minutes"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700 col-span-2",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(G,{className:"inline mr-1",size:14})," Major Projects"]}),e.jsx("input",{name:"major_projects",value:a.major_projects,onChange:t,type:"text",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"List major projects worked on"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(I,{className:"inline mr-2"})," Task Metrics"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(I,{className:"inline mr-1",size:14})," Total Tasks Handled"]}),e.jsx("input",{name:"total_tasks_handled",value:a.total_tasks_handled,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter total tasks handled"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," Tasks Completed On Time"]}),e.jsx("input",{name:"tasks_completed_ontime",value:a.tasks_completed_ontime,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter tasks completed on time"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(W,{className:"inline mr-1",size:14})," ","Reworks/Revisions"]}),e.jsx("input",{name:"reworks_revisions",value:a.reworks_revisions,onChange:t,type:"number",className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Enter number of reworks/revisions"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(O,{className:"inline mr-2"})," Self-Ratings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(P,{className:"inline mr-1",size:14})," Timeliness"]}),e.jsx(g,{name:"self_timeliness_rating",value:a.self_timeliness_rating,label:"Rate your timeliness (1-5)"}),e.jsx("textarea",{name:"self_timeliness_comments",value:a.self_timeliness_comments,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Comments on timeliness",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(L,{className:"inline mr-1",size:14})," Quality"]}),e.jsx(g,{name:"self_quality_rating",value:a.self_quality_rating,label:"Rate your work quality (1-5)"}),e.jsx("textarea",{name:"self_quality_comments",value:a.self_quality_comments,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Comments on quality",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(V,{className:"inline mr-1",size:14})," Communication"]}),e.jsx(g,{name:"self_communication_rating",value:a.self_communication_rating,label:"Rate your communication (1-5)"}),e.jsx("textarea",{name:"self_communication_comments",value:a.self_communication_comments,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Comments on communication",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(A,{className:"inline mr-1",size:14})," Initiative"]}),e.jsx(g,{name:"self_initiative_rating",value:a.self_initiative_rating,label:"Rate your initiative (1-5)"}),e.jsx("textarea",{name:"self_initiative_comments",value:a.self_initiative_comments,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Comments on initiative",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(_,{className:"inline mr-1",size:14})," Team Interaction"]}),e.jsx(g,{name:"self_interaction_rating",value:a.self_interaction_rating,label:"Rate your team interaction (1-5)"}),e.jsx("textarea",{name:"self_interaction_comments",value:a.self_interaction_comments,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Comments on team interaction",rows:2})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(B,{className:"inline mr-1",size:14})," Attendance"]}),e.jsx(g,{name:"self_attendance_rating",value:a.self_attendance_rating,label:"Rate your attendance (1-5)"}),e.jsx("textarea",{name:"self_attendance_comments",value:a.self_attendance_comments,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-2 focus:outline-none border-t border-gray-200 dark:border-gray-600 pt-2",placeholder:"Comments on attendance",rows:2})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(V,{className:"inline mr-2"})," Feedback"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(Te,{className:"inline mr-1",size:14})," What Went Well"]}),e.jsx("textarea",{name:"what_went_well",value:a.what_went_well,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Describe what went well this year",rows:3})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(W,{className:"inline mr-1",size:14})," Challenges Faced"]}),e.jsx("textarea",{name:"challenges_faced",value:a.challenges_faced,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Describe challenges you faced this year",rows:3})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(Ne,{className:"inline mr-1",size:14})," Support Needed"]}),e.jsx("textarea",{name:"support_needed",value:a.support_needed,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Describe what support you need",rows:3})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider flex items-center",children:[e.jsx(A,{className:"inline mr-1",size:14})," Improvement Suggestions"]}),e.jsx("textarea",{name:"improvement_suggestions",value:a.improvement_suggestions,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Suggest improvements for next year",rows:3})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(A,{className:"inline mr-2"})," Development"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(L,{className:"inline mr-1",size:14})," New Skills Learned"]}),e.jsx("textarea",{name:"new_skills_learned",value:a.new_skills_learned,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"List new skills you've learned this year",rows:3})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ze,{className:"inline mr-1",size:14})," Areas to Improve"]}),e.jsx("textarea",{name:"areas_to_improve",value:a.areas_to_improve,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Identify areas you want to improve",rows:3})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ee,{className:"inline mr-1",size:14})," Self-Training Required"]}),e.jsx("textarea",{name:"self_training_required",value:a.self_training_required,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"List training you think would help you improve",rows:3})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(O,{className:"inline mr-2"})," Self-Evaluation"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(L,{className:"inline mr-1",size:14})," Overall Rating"]}),e.jsx(g,{name:"self_rating_overall",value:a.self_rating_overall,label:"Rate your overall performance (1-5)"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(V,{className:"inline mr-1",size:14})," Overall Feedback"]}),e.jsx("textarea",{name:"self_overall_feedback",value:a.self_overall_feedback,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"Provide your overall feedback for the year",rows:4})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:[e.jsxs("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:[e.jsx(ee,{className:"inline mr-1",size:14})," Trainings Attended"]}),e.jsx("textarea",{name:"self_trainings_attended",value:a.self_trainings_attended,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",placeholder:"List trainings you attended this year",rows:3})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold border-b pb-2 text-gray-800 dark:text-gray-100 border-gray-200 dark:border-gray-700",children:[e.jsx(xe,{className:"inline mr-2"})," Status"]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/70 p-4 rounded-lg border border-gray-100 dark:border-gray-700",children:e.jsxs("select",{name:"status",value:a.status,onChange:t,className:"w-full bg-transparent text-sm font-medium text-gray-900 dark:text-gray-100 mt-1 focus:outline-none",required:!0,children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"submitted",children:"Submit for Review"})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("button",{type:"button",className:"px-5 py-2 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md transition-colors duration-200 font-medium text-sm",onClick:b,disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:U,className:"px-5 py-2 bg-red-700 hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900 text-white rounded-md transition-colors duration-200 font-medium text-sm shadow-sm",disabled:m,children:m?e.jsx(ce,{}):"Submit Feedback"})]})]})},Re=()=>{const{id:k}=te(),C=decodeURIComponent(k),b=se(),[m,y]=c.useState("personal"),[r,i]=c.useState(null),[f,u]=c.useState(!0),[j,p]=c.useState(null),[N,S]=c.useState(null),[z,h]=c.useState(!1);c.useEffect(()=>{(async()=>{try{const t=await fetch(`${F}/users/profile`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({staff_id:C})});if(!t.ok)throw new Error("Failed to fetch employee data");const R=await t.json();i(R.data)}catch(t){p(t.message)}finally{u(!1)}})()},[k]);const D=()=>{b(-1)};if(f)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-xl font-medium text-gray-800 dark:text-white",children:"Loading employee data..."})});if(j)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-xl font-medium text-red-600 dark:text-red-400",children:["Error: ",j]})});if(!r)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsx("div",{className:"text-xl font-medium text-gray-800 dark:text-white",children:"No employee data found"})});const a=l=>{S(l.basic),h(!0)},T=()=>{h(!1),w.success("Branch added successfully!")},v=()=>e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx(fe,{className:"mr-2 text-red-600",size:20}),"Employee Documents"]}),e.jsx(Y,{position:J,reverseOrder:!1}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Document Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800 dark:text-white",children:"Joining Letter"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:"Official Document"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.jsx("button",{onClick:()=>b(`/employee/${encodeURIComponent(r.basic.staff_id)}/joining-letter`),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-600",children:"View"})})]})})]})})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("button",{onClick:D,className:"flex items-center text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 transition-colors",children:[e.jsx(ye,{className:"mr-2",size:20}),"Back to Employees"]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("button",{className:"flex items-center px-4 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx(ue,{className:"mr-2",size:16}),"Print Profile"]}),e.jsx("button",{className:"flex items-center justify-center text-white bg-[var(--color-primary)] hover-effect dark:bg-red-800 focus:outline-non font-medium text-sm rounded-sm px-5 py-2.5",onClick:()=>a(r),children:f?"Loading...":"Feedback"})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:w-1/4 bg-gradient-to-b from-red-600 to-red-700 dark:from-red-700 dark:to-red-800 p-8 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"relative mb-4",children:e.jsx("img",{className:"h-40 w-40 rounded-full object-cover border-4 border-white dark:border-gray-200",src:r.basic.profileurl||"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",alt:`${r.basic.firstname} ${r.basic.lastname}`})}),e.jsxs("h2",{className:"text-xl font-bold text-white text-center",children:[r.basic.firstname," ",r.basic.lastname]}),e.jsx("p",{className:"text-gray-200 text-center",children:r.basic.designation||"No designation"}),e.jsx("div",{className:"mt-2 px-3 py-1 rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200 text-xs font-medium",children:r.basic.status})]}),e.jsxs("div",{className:"md:w-3/4 p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:[r.basic.firstname," ",r.basic.lastname]}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:[r.basic.designation||"No designation"," |"," ",r.basic.department]})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[e.jsxs("button",{className:"flex items-center px-3 py-2 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-md hover:bg-blue-100 dark:hover:bg-blue-900/50 transition-colors",children:[e.jsx(pe,{className:"mr-2",size:16}),"Message"]}),e.jsxs("button",{className:"flex items-center px-3 py-2 bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-md hover:bg-green-100 dark:hover:bg-green-900/50 transition-colors",children:[e.jsx(he,{className:"mr-2",size:16}),"Call"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Staff ID"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.staff_id})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date of Joining"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.dateofjoining?new Date(r.basic.dateofjoining).toLocaleDateString():"Not available"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.phonenumber})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.email})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Blood Group"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.bloodgroup||"Not available"})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PAN Number"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.pannumber||"Not available"})]})]})]})]})}),e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>y("personal"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="personal"?"border-red-600 text-red-600 dark:text-red-400 dark:border-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:"Personal Details"}),e.jsx("button",{onClick:()=>y("professional"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="professional"?"border-red-600 text-red-600 dark:text-red-400 dark:border-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:"Professional Details"}),e.jsx("button",{onClick:()=>y("documents"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="documents"?"border-red-600 text-red-600 dark:text-red-400 dark:border-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:"Documents"}),e.jsx("button",{onClick:()=>y("report"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="report"?"border-red-600 text-red-600 dark:text-red-400 dark:border-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`,children:"Employee Report"}),e.jsx("button",{onClick:()=>y("report"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="report"?"border-red-600 text-red-600 dark:text-red-400 dark:border-red-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300"}`})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[m==="personal"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx(_,{className:"mr-2 text-red-600",size:20}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Basic Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Full Name"}),e.jsxs("span",{className:"font-medium text-gray-800 dark:text-white",children:[r.basic.firstname," ",r.basic.lastname]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date of Birth"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.dob?new Date(r.basic.dob).toLocaleDateString():"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gender"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.gender})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Marital Status"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.marital})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Blood Group"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.bloodgroup||"Not available"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Phone Number"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.phonenumber})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Alternate Contact"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.alternumber||"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Email"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.email})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Address"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Present Address"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.presentaddress||"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Permanent Address"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.permanentaddress||"Not available"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 flex items-center",children:[e.jsx(Ce,{className:"mr-2 text-red-600",size:20}),"Emergency Contacts"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.emergency&&r.emergency.length>0?r.emergency.map((l,t)=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:l.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.relation})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:l.contactno}),l.landline&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Landline: ",l.landline]})]})]})},t)):e.jsx("div",{className:"col-span-2 bg-gray-100 dark:bg-gray-700 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"No emergency contacts available"})})})]})]}),m==="professional"&&e.jsxs("div",{className:"p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-6 flex items-center",children:[e.jsx(be,{className:"mr-2 text-red-600",size:20}),"Professional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Employment Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Staff ID"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.staff_id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Department"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.department})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Designation"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.designation||"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Date of Joining"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.dateofjoining?new Date(r.basic.dateofjoining).toLocaleDateString():"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"PAN Number"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.pannumber||"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aadhar Number"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:r.basic.aadharnumber||"Not available"})]})]})]}),r.software&&r.software.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Software Skills"}),e.jsx("div",{className:"space-y-3",children:r.software.map((l,t)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-800 dark:text-white",children:l.software_id===1?"AutoCAD":l.software_id===2?"Revit":`Software ${l.software_id}`}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.proficiency})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${l.proficiency==="Advanced"?"bg-green-500":l.proficiency==="Intermediate"?"bg-blue-500":"bg-yellow-500"}`,style:{width:l.proficiency==="Advanced"?"90%":l.proficiency==="Intermediate"?"60%":"30%"}})}),l.remark&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Remark: ",l.remark]})]},t))})]})]}),e.jsxs("div",{className:"space-y-6",children:[r.education&&r.education.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4 flex items-center",children:[e.jsx(_e,{className:"mr-2 text-red-600",size:20}),"Education"]}),e.jsx("div",{className:"space-y-4",children:r.education.map((l,t)=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:l.degree}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:l.institute})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-800 dark:text-white",children:l.passing}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[l.percentage,"%"]})]})]})},t))})]}),r.languages&&r.languages.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4",children:"Languages"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.languages.map((l,t)=>e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/30 p-4 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:l.language_id===1?"Tamil":l.language_id===2?"English":`Language ${l.language_id}`}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[l.can_read&&e.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded",children:"Read"}),l.can_write&&e.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:"Write"}),l.can_speak&&e.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded",children:"Speak"})]}),l.proficiency&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-300",children:["Proficiency: ",l.proficiency]}),l.remark&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["Remark: ",l.remark]})]},t))})]})]})]})]}),m==="documents"&&v(),m==="report"&&e.jsx(Ee,{staff_id:r.basic.staff_id,staff:r.basic})]})]}),e.jsx(oe,{isVisible:z,className:"w-full md:w-[800px]",onClose:()=>h(!1),title:"Create New FeedBack",children:e.jsx($e,{employee:r,onSuccess:T,onCancel:()=>h(!1)})})]})},ja=re(Re);export{ja as default};
