import{r as t,j as e}from"./chunk-AYJ5UCUI-nSEPIBkT.js";import{a as f}from"./index-DDa5wjlm.js";import{F as k}from"./index-DTbJanog.js";import{a as m,B as h}from"./api-C04JdqFc.js";import{u as b}from"./AuthStore-BnYeBJES.js";import{C as v}from"./calendar-C_LRGMui.js";import{U as w}from"./users-CXAhoVGa.js";import{C as y}from"./clipboard-check-ZUIfxiNP.js";const B=({meeting:a})=>{const[s,j]=t.useState([]),[l,p]=t.useState([]),[u,x]=t.useState(!0),[c,i]=t.useState(null),o=b(r=>r.accessToken);t.useEffect(()=>{a!=null&&a.meet_id&&(x(!0),Promise.all([m.get(`${h}/doc_meet/participant/read?meet_id=${a.meet_id}`,{headers:{Authorization:`Bearer ${o}`}}),m.get(`${h}/doc_meet/target/read?meet_id=${a.meet_id}`,{headers:{Authorization:`Bearer ${o} `}})]).then(([r,d])=>{j(r.data.data||[]),p(d.data.data||[]),i(null)}).catch(r=>{i("Failed to load meeting details"),console.error("Error fetching meeting data:",r)}).finally(()=>{x(!1)}))},[a]);const N=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",n=r=>r?new Date(r).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"N/A",g=r=>{switch(r==null?void 0:r.toLowerCase()){case"completed":case"active":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}};return u?e.jsx("div",{className:"max-w-4xl mx-auto p-6 text-center text-gray-500 dark:text-gray-400",children:"Loading meeting details..."}):c?e.jsx("div",{className:"max-w-4xl mx-auto p-6 text-center text-red-500 dark:text-red-400",children:c}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-red-700 dark:text-white",children:"Minutes of Meeting"}),e.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["ID: ",(a==null?void 0:a.meet_id)||"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(v,{className:"h-5 w-5 mr-1.5"}),N(a==null?void 0:a.start_date_time)]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(k,{className:"h-5 w-5 mr-1.5"}),s.length," attendees"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:(a==null?void 0:a.title)||"Meeting Details"}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${g(a==null?void 0:a.status)}`,children:a!=null&&a.status?a.status.charAt(0).toUpperCase()+a.status.slice(1):"N/A"}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsxs("span",{children:[n(a==null?void 0:a.start_date_time)," - ",n(a==null?void 0:a.end_date_time)]})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start mb-6",children:[e.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-2 rounded-lg mr-4",children:e.jsx(f,{className:"h-6 w-6 text-red-700 dark:text-red-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Meeting Details"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Branch:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.branchcode)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Project:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.project_code)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Created By:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:(a==null?void 0:a.createdby)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Document Status:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 capitalize",children:(a==null?void 0:a.doc_status)||"N/A"})]})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(w,{className:"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400"}),"Participants"]}),e.jsx("div",{className:"space-y-3",children:s.length>0?s.map(r=>e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:r.person_id}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300 capitalize",children:[r.role," • ",r.status]})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Added: ",new Date(r.created_at).toLocaleDateString()]})]})},r.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No participants found"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400"}),"Targets"]}),e.jsx("div",{className:"space-y-3",children:l.length>0?l.map(r=>e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800 dark:text-white",children:r.target_id}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 capitalize",children:r.type})]}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Added: ",new Date(r.created_at).toLocaleDateString()]})]})},r.id)):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No targets found"})})]}),(a==null?void 0:a.notes)&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("h4",{className:"text-md font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2 text-gray-500 dark:text-gray-400"}),"Notes"]}),e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/30 rounded-lg",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:a.notes})})]}),(a==null?void 0:a.meet_link)&&e.jsx("div",{className:"mt-6",children:e.jsxs("a",{href:a.meet_link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 dark:text-blue-400 hover:underline",children:[e.jsx("svg",{className:"w-5 h-5 mr-1.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),"Join Meeting"]})})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Download PDF"}),e.jsx("button",{className:"px-4 py-2 bg-red-700 text-white rounded-md hover:bg-red-800 dark:bg-red-800 dark:hover:bg-red-900",children:"Edit Minutes"})]})]})};export{B as M};
